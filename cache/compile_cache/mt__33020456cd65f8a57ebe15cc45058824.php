<?php ob_start();?><?php $literal_old__f0094b_=$this->literal_vars;$this->literal_vars=array (
  0 => '
              <mtsetvar name="__hierarchy_out" value="0" />
              <mtvar name="$__rel_name__" index="0" setvar="relation_primary_id" />
              <mtif name="forward_params">
                <mtsetvarblock name="__request_primary_id__" scope="local">request.<mtvar name="__col_name__" />_primary_id</mtsetvarblock>
                <mtvar name="$__request_primary_id__" setvar="relation_primary_id" />
              </mtif>
              <mtnestableobjects model="$rel_model" parent_id="$_parent_id">
                <mtif name="__first__"><mtsetvar name="__hierarchy_out" value="1" /><ul class="nestableobjects-list" id="nestableobjects-list-<mtvar name="__col_name__" />"></mtif>
                  <li>
                    <button style="padding:0px 5px" <mtif name="readonly">disabled</mtif> id="<mtvar name="__col_name__" />_id_<mtvar name="id" />" type="button" class="<mtvar name="__col_name__" />_primary_chooser btn btn-sm btn-outline-secondary">
                      <i class="fa <mtif name="id" eq="$relation_primary_id">fa fa-star<mtelse />fa-check</mtif>" style="<mtif name="id" eq="$relation_primary_id">margin-right:0px;color:#00a;<mtelse />margin-right:3px;color:#777;font-size:70%</mtif>" aria-hidden="true"></i>
                      <span class="sr-only"><mtif name="id" eq="$relation_primary_id"><mttrans phrase="Specified" /><mtelse /><mttrans phrase="Unspecified" /></mtif></span>
                    </button>
                    &nbsp;
                    <label class="custom-control custom-checkbox">
                      <input type="checkbox" <mtif name="readonly">onclick="return false;" onkeydown="return false;"</mtif>
                        id="<mtvar name="__col_name__" />_cb_<mtvar name="id" />"
                        class="custom-control-input watch-changed" name="<mtvar name="__col_name__" />[]" value="<mtvar name="id" />" <mtifinarray array="$__rel_name__" value="$id">checked<mtelse /><mtif name="readonly">disabled</mtif></mtifinarray>>
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description"><mtif name="$rel_col" eq="">null(id:<mtvar name="id" />)<mtelse /><mtif name="translate"><mtvar name="$rel_col" translate escape /><mtelse /><mtvar name="$rel_col" escape /></mtif></mtif>
                      </span>
                    </label>
                    <mtif name="has_children">
                      <mtvar name="id" setvar="_parent_id" />
                      <mtvar name="nestable_obj_list" />
                    </mtif>
                  </li>
                <mtif name="__last__"></ul><mtsetvar name="__hierarchy_out" value="1" /></mtif>
              </mtnestableobjects>
              <mtunless name="__hierarchy_out">
              <mtifusercan action="hierarchy" model="$hierarchy_model" workspace_id="$workspace_id">
              <mtelse />
                <script>
                  $(\'#<mtvar name="__col_name__" />-wrapper\').hide();
                </script>
              </mtifusercan>
              </mtunless>
              ',
  1 => '
              <mtnestableobjects model="$rel_model" parent_id="$_parent_id">
                <mtif name="__first__"><ul>
                  <mtunless name="_parent_id">
                  <li class="nestable-unspecified">
                  <label class="custom-control custom-radio">
                    <input class="custom-control-input" type="radio" 
                      <mtif name="readonly">onclick="return false;" onkeydown="return false;"</mtif>
                    <mtunless name="__col_value__">checked<mtelse /><mtif name="readonly">disabled</mtif></mtunless> name="<mtvar name="__col_name__" />" value="">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description"><mttrans phrase="Unspecified" /></span>
                  </label>
                  </li>
                  </mtunless>
                </mtif>
                  <li <mtunless name="__index__">class="nestable-first"</mtunless>>
                    <label class="custom-control custom-radio">
                      <input class="custom-control-input watch-changed" type="radio"
                      <mtif name="readonly">onclick="return false;" onkeydown="return false;"</mtif>
                      <mtif name="__col_value__" eq="$id">checked<mtelse /><mtif name="readonly">disabled</mtif></mtif> name="<mtvar name="__col_name__" />" value="<mtvar name="id" />">
                      <span class="custom-control-indicator"></span>
                      <span class="custom-control-description"><mtif name="$rel_col" eq="">null(id:<mtvar name="id" />)<mtelse /><mtif name="translate"><mtvar name="$rel_col" translate escape /><mtelse /><mtvar name="$rel_col" escape /></mtif></mtif></span>
                    </label>
                    <mtif name="has_children">
                      <mtvar name="id" setvar="_parent_id" />
                      <mtvar name="nestable_obj_list" />
                    </mtif>
                  </li>
                <mtif name="__last__"></ul><mtsetvar name="__hierarchy_out" value="1" /></mtif>
              </mtnestableobjects>
              <mtunless name="__hierarchy_out">
              <mtifusercan action="hierarchy" model="$hierarchy_model" workspace_id="$workspace_id">
              <mtelse />
                <script>
                  $(\'#<mtvar name="__col_name__" />-wrapper\').hide();
                </script>
              </mtifusercan>
              </mtunless>
              ',
);?><?php $_f0094b_vars=&$this->vars;$_f0094b_old_params=&$this->old_params;$_f0094b_local_params=&$this->local_params;$_f0094b_old_vars=&$this->old_vars;$_f0094b_local_vars=&$this->local_vars;?><?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'csv','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'xls','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'xlsx','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'doc','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'docx','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'ppt','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'extensions_inline','value'=>'pptx','function'=>'push','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_b89be6']=$_f0094b_local_params;$_f0094b_old_vars['_b89be6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'error_selectors','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'error_bordercolor','setvar'=>'error_bordercolor','this_tag'=>'property'],null,$this),$this),$this->setup_args('error_bordercolor','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_3cb6bd']=$_f0094b_local_params;$_f0094b_old_vars['_3cb6bd']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'error_bordercolor','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'error_bordercolor','value'=>'#B72C23','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3cb6bd'];$_f0094b_local_vars=$_f0094b_old_vars['_3cb6bd'];?>

<?php $c_684c17=null;$_f0094b_old_params['_684c17']=$_f0094b_local_params;$_f0094b_old_vars['_684c17']=$_f0094b_local_vars;$a_684c17=$this->setup_args(['name'=>'html_head','append'=>'1','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php $c_f1f8cf=null;$_f0094b_old_params['_f1f8cf']=$_f0094b_local_params;$_f0094b_old_vars['_f1f8cf']=$_f0094b_local_vars;$a_f1f8cf=$this->setup_args(['name'=>'error_selectors','this_tag'=>'loop'],null,$this);$_f1f8cf=-1;$r_f1f8cf=true;while($r_f1f8cf===true):$r_f1f8cf=($_f1f8cf!==-1)?false:true;echo $this->block_loop($a_f1f8cf,$c_f1f8cf,$this,$r_f1f8cf,++$_f1f8cf,'_f1f8cf');ob_start();?>
<?php $c_f1f8cf = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f1f8cf=false;}if($c_f1f8cf ):?>
<?php $_f0094b_old_params['_68f26a']=$_f0094b_local_params;$_f0094b_old_vars['_68f26a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<style><?php endif;$_f0094b_local_params=$_f0094b_old_params['_68f26a'];$_f0094b_local_vars=$_f0094b_old_vars['_68f26a'];?>
<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
 { border: 2px solid <?php echo $this->function_var($this->setup_args(['name'=>'error_bordercolor','this_tag'=>'var'],null,$this),$this)?>
 !important; }
<?php $_f0094b_old_params['_c4c935']=$_f0094b_local_params;$_f0094b_old_vars['_c4c935']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</style><?php endif;$_f0094b_local_params=$_f0094b_old_params['_c4c935'];$_f0094b_local_vars=$_f0094b_old_vars['_c4c935'];?>
<?php endif;$c_f1f8cf=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f1f8cf'];$_f0094b_local_vars=$_f0094b_old_vars['_f1f8cf'];?>

<?php $c_684c17=ob_get_clean();$c_684c17=$this->block_setvarblock($a_684c17,$c_684c17,$this,$r_684c17,1,'_684c17');echo($c_684c17); $_f0094b_local_params=$_f0094b_old_params['_684c17'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b89be6'];$_f0094b_local_vars=$_f0094b_old_vars['_b89be6'];?>

<?php $_f0094b_old_params['_c0bf95']=$_f0094b_local_params;$_f0094b_old_vars['_c0bf95']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'permalink','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->function_unsetvar($this->setup_args(['name'=>'permalink','this_tag'=>'unsetvar'],null,$this),$this)?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request._model','eq'=>'template','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'permalink','setvar'=>'__permalink__','this_tag'=>'var'],null,$this),$this),$this->setup_args('__permalink__','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c0bf95'];$_f0094b_local_vars=$_f0094b_old_vars['_c0bf95'];?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'asset_workspace_id','setvar'=>'asset_workspace_id','this_tag'=>'property'],null,$this),$this),$this->setup_args('asset_workspace_id','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'workspace_id','setvar'=>'can_asset_workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this),$this->setup_args('can_asset_workspace_id','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_98a8a0']=$_f0094b_local_params;$_f0094b_old_vars['_98a8a0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'asset_workspace_id','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'has_asset_workspace_id','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'can_asset_workspace_id','value'=>'$asset_workspace_id','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_98a8a0'];$_f0094b_local_vars=$_f0094b_old_vars['_98a8a0'];?>

<?php $_f0094b_old_params['_6b404c']=$_f0094b_local_params;$_f0094b_old_vars['_6b404c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.cloned','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_20dbf5']=$_f0094b_local_params;$_f0094b_old_vars['_20dbf5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.revision_create','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $c_452779=null;$_f0094b_old_params['_452779']=$_f0094b_local_params;$_f0094b_old_vars['_452779']=$_f0094b_local_vars;$a_452779=$this->setup_args(['name'=>'header_alert_message','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'The revision of %s created.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
<?php $c_452779=ob_get_clean();$c_452779=$this->block_setvarblock($a_452779,$c_452779,$this,$r_452779,1,'_452779');echo($c_452779); $_f0094b_local_params=$_f0094b_old_params['_452779'];?>

<?php else:?>

<?php $c_cb34ba=null;$_f0094b_old_params['_cb34ba']=$_f0094b_local_params;$_f0094b_old_vars['_cb34ba']=$_f0094b_local_vars;$a_cb34ba=$this->setup_args(['name'=>'header_alert_message','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'The %s duplicated.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
 <?php $_f0094b_old_params['_eea8ee']=$_f0094b_local_params;$_f0094b_old_vars['_eea8ee']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'label_and_status','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'This %s\'s status is %s.','params'=>'$label_and_status','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_eea8ee'];$_f0094b_local_vars=$_f0094b_old_vars['_eea8ee'];?>
<?php $c_cb34ba=ob_get_clean();$c_cb34ba=$this->block_setvarblock($a_cb34ba,$c_cb34ba,$this,$r_cb34ba,1,'_cb34ba');echo($c_cb34ba); $_f0094b_local_params=$_f0094b_old_params['_cb34ba'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_20dbf5'];$_f0094b_local_vars=$_f0094b_old_vars['_20dbf5'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6b404c'];$_f0094b_local_vars=$_f0094b_old_vars['_6b404c'];?>

<?php $_f0094b_old_params['_e3ca36']=$_f0094b_local_params;$_f0094b_old_vars['_e3ca36']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<!DOCTYPE html>
<html lang="<?php $_f0094b_old_params['_9b5f37']=$_f0094b_local_params;$_f0094b_old_vars['_9b5f37']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_language','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_language','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
en<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9b5f37'];$_f0094b_local_vars=$_f0094b_old_vars['_9b5f37'];?>
">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta name="author" content="Alfasado Inc.">
    <meta name="robots" content="noindex">
    <meta name="robots" content="nofollow">
    <link rel="icon" href="favicon.ico">
    <title><?php $_f0094b_old_params['_625e9b']=$_f0094b_local_params;$_f0094b_old_vars['_625e9b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'html_title','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'html_title','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php else:?>
<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'page_title','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_625e9b'];$_f0094b_local_vars=$_f0094b_old_vars['_625e9b'];?>
 | <?php echo $this->modifier_escape($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'appname','escape'=>'single','this_tag'=>'getoption'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php $_f0094b_old_params['_2256b2']=$_f0094b_local_params;$_f0094b_old_vars['_2256b2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_95fa5e']=$_f0094b_local_params;$_f0094b_old_vars['_95fa5e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 | <?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'workspace_name','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_95fa5e'];$_f0094b_local_vars=$_f0094b_old_vars['_95fa5e'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2256b2'];$_f0094b_local_vars=$_f0094b_old_vars['_2256b2'];?>
</title>
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/bootstrap.min.css" rel="stylesheet">
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery-3.2.1.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tether.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/bootstrap.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery-ui.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.ui.touch-punch.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.cookie.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/clipboard.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/ie10-viewport-bug-workaround.js"></script>
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/theme.min.css?v=<?php echo $this->function_var($this->setup_args(['name'=>'version','this_tag'=>'var'],null,$this),$this)?>
" rel="stylesheet">
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/jquery-ui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/jquery.fileupload.css">
    <?php $_f0094b_old_params['_8b38ef']=$_f0094b_local_params;$_f0094b_old_vars['_8b38ef']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_7471a2']=$_f0094b_local_params;$_f0094b_old_vars['_7471a2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'list_screen','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7471a2'];$_f0094b_local_vars=$_f0094b_old_vars['_7471a2'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8b38ef'];$_f0094b_local_vars=$_f0094b_old_vars['_8b38ef'];?>

    <style type="text/css">
    <?php $_f0094b_old_params['_0c1f3a']=$_f0094b_local_params;$_f0094b_old_vars['_0c1f3a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'list_screen','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
.disp-option-button { position:absolute; top: 5px; right: 15px; }<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0c1f3a'];$_f0094b_local_vars=$_f0094b_old_vars['_0c1f3a'];?>

    <?php $_f0094b_old_params['_ae4891']=$_f0094b_local_params;$_f0094b_old_vars['_ae4891']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_stickey_buttons','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_2a3c17']=$_f0094b_local_params;$_f0094b_old_vars['_2a3c17']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_a0aeb6']=$_f0094b_local_params;$_f0094b_old_vars['_a0aeb6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_barcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'stickybgcolor','value'=>'$workspace_barcolor','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0aeb6'];$_f0094b_local_vars=$_f0094b_old_vars['_a0aeb6'];?>

      <?php $_f0094b_old_params['_e908f2']=$_f0094b_local_params;$_f0094b_old_vars['_e908f2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_bartextcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'stickycolor','value'=>'$workspace_bartextcolor','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e908f2'];$_f0094b_local_vars=$_f0094b_old_vars['_e908f2'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2a3c17'];$_f0094b_local_vars=$_f0094b_old_vars['_2a3c17'];?>

      <?php $_f0094b_old_params['_f4877f']=$_f0094b_local_params;$_f0094b_old_vars['_f4877f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'stickybgcolor','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'barcolor','setvar'=>'stickybgcolor','this_tag'=>'getoption'],null,$this),$this),$this->setup_args('stickybgcolor','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f4877f'];$_f0094b_local_vars=$_f0094b_old_vars['_f4877f'];?>

      <?php $_f0094b_old_params['_a9f7c3']=$_f0094b_local_params;$_f0094b_old_vars['_a9f7c3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'stickycolor','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'bartextcolor','setvar'=>'stickycolor','this_tag'=>'getoption'],null,$this),$this),$this->setup_args('stickycolor','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a9f7c3'];$_f0094b_local_vars=$_f0094b_old_vars['_a9f7c3'];?>

      @media ( min-height: 576px ) {
      .edit-action-bar { position: sticky; bottom: 0px; z-index: 1040; background: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickybgcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
;
          padding: 10px 0px; vertical-align: middle; line-height: 1; border-top: 1px solid #CCC; }
      .edit-action-bar button { border: 1px solid <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickycolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
; }
      .edit-action-bar label { color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickycolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
; }
      }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ae4891'];$_f0094b_local_vars=$_f0094b_old_vars['_ae4891'];?>

      .nav-top,.brand-prototype{ background-color: <?php echo $this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'barcolor','this_tag'=>'getoption'],null,$this),$this)?>
 !important; color: <?php echo $this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'bartextcolor','this_tag'=>'getoption'],null,$this),$this)?>
 !important; }
      <?php $_f0094b_old_params['_73a773']=$_f0094b_local_params;$_f0094b_old_vars['_73a773']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      .form-control, .custom-select, .relation_nestable_list, .custom-control-indicator, .tox-tinymce, .mce-tinymce, .btn-outline-secondary, .btn-secondary, .pagination-sm li a{ border: 1px solid <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important }
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_73a773'];$_f0094b_local_vars=$_f0094b_old_vars['_73a773'];?>

    </style>
    <?php echo $this->function_var($this->setup_args(['name'=>'html_head','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'user_css','setvar'=>'config_user_css','this_tag'=>'property'],null,$this),$this),$this->setup_args('config_user_css','setvar',$this),$this,'setvar')?>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'user_js','setvar'=>'config_user_js','this_tag'=>'property'],null,$this),$this),$this->setup_args('config_user_js','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_3a97da']=$_f0094b_local_params;$_f0094b_old_vars['_3a97da']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'config_user_css','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<link rel="stylesheet" href="<?php echo $this->function_var($this->setup_args(['name'=>'config_user_css','this_tag'=>'var'],null,$this),$this)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_3a97da'];$_f0094b_local_vars=$_f0094b_old_vars['_3a97da'];?>

    <?php $_f0094b_old_params['_2bbc54']=$_f0094b_local_params;$_f0094b_old_vars['_2bbc54']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'config_user_js','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<script src="<?php echo $this->function_var($this->setup_args(['name'=>'config_user_js','this_tag'=>'var'],null,$this),$this)?>
"></script><?php endif;$_f0094b_local_params=$_f0094b_old_params['_2bbc54'];$_f0094b_local_vars=$_f0094b_old_vars['_2bbc54'];?>

  </head>
  <body class="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'body_class','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 dialog">
<?php $_f0094b_old_params['_2f823e']=$_f0094b_local_params;$_f0094b_old_vars['_2f823e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
jQuery.fn.extend({
  ksortable: function(options) {
    let self = this;
    self.sortable(options);
    $(self).children().attr('tabindex', 0);
    $(self).on('keydown', '> *', function(event) {
    // $('li', this).attr('tabindex', 0).bind('keydown', function(event) {
        if ( event.target && /^(input|textarea|select)$/.test(event.target.tagName.toLowerCase()) ) {
            return;
        }
        if(event.which == 37 || event.which == 38) { // left or up
          $(this).insertBefore($(this).prev());
        } 
        if(event.which == 39 || event.which == 40) { // right or down
          $(this).insertAfter($(this).next()); 
        }     
        if (event.which == 84 || event.which == 33) { // "t" or page-up
          $(this).parent().prepend($(this));
        } 
        if (event.which == 66 || event.which == 34) { // "b" or page-down
          $(this).parent().append($(this));
        } 
        if(event.which == 82) { // "r"
          var p = $(this).parent();
          p.children().each(function(){p.prepend($(this))})
        } 
        if(event.which == 83) { // "s"
          var p = $(this).parent();
          p.children().each(function(){
            if(Math.random()<.5)
              p.prepend($(this));
            else
              p.append($(this));
          })
        }
        var keyNums = [33, 34, 37, 38, 39, 40, 66, 82, 83, 84];
        var keyNum = event.which + 0;
        if (keyNums.indexOf(keyNum) >= 0){
          event.stopPropagation();
          $(this).focus();
          if ( $(this).hasClass("edit-options-child") ) {
            sort_fields();
          } else if ( $(this).hasClass("badge-relation") ) {
            editContentChanged = true;
          }
          $(self).sortable('refresh').sortable('refreshPositions');
          $(self).trigger('ksortupdate', this);
        }
    });
    return self;
  }
});
</script>
<?php $_f0094b_old_params['_19f769']=$_f0094b_local_params;$_f0094b_old_vars['_19f769']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_loader','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div id="__loader-bg">
  <img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif" alt="" width="45" height="45">
</div>
<script>
window.addEventListener('load', function(){
    $('#__loader-bg').hide("fast");
});
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_19f769'];$_f0094b_local_vars=$_f0094b_old_vars['_19f769'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f823e'];$_f0094b_local_vars=$_f0094b_old_vars['_2f823e'];?>

<?php $_f0094b_old_params['_2f0f71']=$_f0094b_local_params;$_f0094b_old_vars['_2f0f71']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_9503f2']=$_f0094b_local_params;$_f0094b_old_vars['_9503f2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.direct_edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_537b7c']=$_f0094b_local_params;$_f0094b_old_vars['_537b7c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.saved','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div id="__loader-bg">
  <img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif" alt="" width="45" height="45">
</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_537b7c'];$_f0094b_local_vars=$_f0094b_old_vars['_537b7c'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9503f2'];$_f0094b_local_vars=$_f0094b_old_vars['_9503f2'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f0f71'];$_f0094b_local_vars=$_f0094b_old_vars['_2f0f71'];?>

    <div class="container-fluid full">
    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    
  <?php $_f0094b_old_params['_c82ff2']=$_f0094b_local_params;$_f0094b_old_vars['_c82ff2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'can_action','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'disp_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_29daaa']=$_f0094b_local_params;$_f0094b_old_vars['_29daaa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'child_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_c4fef0']=$_f0094b_local_params;$_f0094b_old_vars['_c4fef0']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'workspace_id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c4fef0'];$_f0094b_local_vars=$_f0094b_old_vars['_c4fef0'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_29daaa'];$_f0094b_local_vars=$_f0094b_old_vars['_29daaa'];?>

    <?php $_f0094b_old_params['_671972']=$_f0094b_local_params;$_f0094b_old_vars['_671972']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'error','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_671972'];$_f0094b_local_vars=$_f0094b_old_vars['_671972'];?>

    <?php $_f0094b_old_params['_3cdec3']=$_f0094b_local_params;$_f0094b_old_vars['_3cdec3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'comment','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'attachmentfile','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'user','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_4e4c39']=$_f0094b_local_params;$_f0094b_old_vars['_4e4c39']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_isadmin($this->setup_args(['this_tag'=>'isadmin'],null,$this),null,$this,true,true)):?>

      <?php else:?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'disp_option','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4e4c39'];$_f0094b_local_vars=$_f0094b_old_vars['_4e4c39'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3cdec3'];$_f0094b_local_vars=$_f0094b_old_vars['_3cdec3'];?>

    <?php $_f0094b_old_params['_30c460']=$_f0094b_local_params;$_f0094b_old_vars['_30c460']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workflow_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_30c460'];$_f0094b_local_vars=$_f0094b_old_vars['_30c460'];?>

    <?php $_f0094b_old_params['_dc1f01']=$_f0094b_local_params;$_f0094b_old_vars['_dc1f01']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_2f7fd6']=$_f0094b_local_params;$_f0094b_old_vars['_2f7fd6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php ob_start();$_f0094b_old_params['_e8f1fb']=$_f0094b_local_params;$_f0094b_old_vars['_e8f1fb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['trim_space'=>'3','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div class="text-right disp-option">
    <button type="button" class="btn btn-outline-primary btn-sm disp-option-button" data-toggle="modal" data-target="#dispOptions">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>

    </button>
    <button data-toggle="modal" data-target="#dispOptions" class="hidden btn btn-secondary alt-disp-option-button btn-sm" type="button">
      <i class="fa fa-television" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </button>
  </div>
  <div class="modal fade" id="dispOptions" tabindex="-1" role="dialog" aria-labelledby="LongTitle" aria-hidden="true"
    style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
        <?php echo $this->modifier_setvar($this->function_trans($this->setup_args(['phrase'=>'Display Options','setvar'=>'options_title','this_tag'=>'trans'],null,$this),$this),$this->setup_args('options_title','setvar',$this),$this,'setvar')?>

          <h5 class="modal-title" id="LongTitle"><?php echo $this->function_var($this->setup_args(['name'=>'options_title','this_tag'=>'var'],null,$this),$this)?>
</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST" id="disp_options_form">
        <input type="hidden" name="__mode" value="display_options">
        <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" name="_type" value="edit">
        <input type="hidden" name="_reset" value="" id="_reset-disp-oprions">
        <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" id="_field_sort_order" name="field_sort_order" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_field_sort_order','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php $_f0094b_old_params['_26dc4a']=$_f0094b_local_params;$_f0094b_old_vars['_26dc4a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_26dc4a'];$_f0094b_local_vars=$_f0094b_old_vars['_26dc4a'];?>

        <div class="modal-body">
          <div class="container-fluid">
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10" id="edit_options_loop">
              <span id="_start_options"></span>
          <?php $_f0094b_old_params['_30bf2b']=$_f0094b_local_params;$_f0094b_old_vars['_30bf2b']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_objectcontext($this->setup_args(['this_tag'=>'objectcontext'],null,$this),null,$this,true,true)):?>

            <?php $c_89462b=null;$_f0094b_old_params['_89462b']=$_f0094b_local_params;$_f0094b_old_vars['_89462b']=$_f0094b_local_vars;$a_89462b=$this->setup_args(['type'=>'edit','option'=>'1','this_tag'=>'objectcols'],null,$this);$_89462b=-1;$r_89462b=true;while($r_89462b===true):$r_89462b=($_89462b!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectcols($a_89462b,$c_89462b,$this,$r_89462b,++$_89462b,'_89462b');ob_start();?>
<?php $c_89462b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_89462b=false;}if($c_89462b ):?>

              <?php $_f0094b_old_params['_f67d10']=$_f0094b_local_params;$_f0094b_old_vars['_f67d10']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_426655']=$_f0094b_local_params;$_f0094b_old_vars['_426655']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'hidden','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_6f3160']=$_f0094b_local_params;$_f0094b_old_vars['_6f3160']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'allow_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'use_comment','setvar'=>'use_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('use_comment','setvar',$this),$this,'setvar')?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'accept_comment','setvar'=>'accept_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('accept_comment','setvar',$this),$this,'setvar')?>

                    <?php $_f0094b_old_params['_3e6449']=$_f0094b_local_params;$_f0094b_old_vars['_3e6449']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'accept_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <?php $_f0094b_old_params['_ea965e']=$_f0094b_local_params;$_f0094b_old_vars['_ea965e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'use_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ea965e'];$_f0094b_local_vars=$_f0094b_old_vars['_ea965e'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3e6449'];$_f0094b_local_vars=$_f0094b_old_vars['_3e6449'];?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6f3160'];$_f0094b_local_vars=$_f0094b_old_vars['_6f3160'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_426655'];$_f0094b_local_vars=$_f0094b_old_vars['_426655'];?>

                <?php $_f0094b_old_params['_06028b']=$_f0094b_local_params;$_f0094b_old_vars['_06028b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_88f482']=$_f0094b_local_params;$_f0094b_old_vars['_88f482']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_88f482'];$_f0094b_local_vars=$_f0094b_old_vars['_88f482'];?>

                  <?php $_f0094b_old_params['_8b3484']=$_f0094b_local_params;$_f0094b_old_vars['_8b3484']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8b3484'];$_f0094b_local_vars=$_f0094b_old_vars['_8b3484'];?>

                  <label class="edit-options-child <?php $_f0094b_old_params['_4a573b']=$_f0094b_local_params;$_f0094b_old_vars['_4a573b']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4a573b'];$_f0094b_local_vars=$_f0094b_old_vars['_4a573b'];?>
custom-control custom-checkbox" id="label-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
                    <?php $_f0094b_old_params['_d36740']=$_f0094b_local_params;$_f0094b_old_vars['_d36740']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <input type="hidden" id="" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d36740'];$_f0094b_local_vars=$_f0094b_old_vars['_d36740'];?>

                    <input<?php $_f0094b_old_params['_2203a7']=$_f0094b_local_params;$_f0094b_old_vars['_2203a7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php else:?>
<?php $_f0094b_old_params['_ce90fc']=$_f0094b_local_params;$_f0094b_old_vars['_ce90fc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 onclick="return false;" checked <?php else:?>

                    <?php $_f0094b_old_params['_b84687']=$_f0094b_local_params;$_f0094b_old_vars['_b84687']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b84687'];$_f0094b_local_vars=$_f0094b_old_vars['_b84687'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce90fc'];$_f0094b_local_vars=$_f0094b_old_vars['_ce90fc'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2203a7'];$_f0094b_local_vars=$_f0094b_old_vars['_2203a7'];?>
<?php $_f0094b_old_params['_57014f']=$_f0094b_local_params;$_f0094b_old_vars['_57014f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_57014f'];$_f0094b_local_vars=$_f0094b_old_vars['_57014f'];?>
 type="<?php $_f0094b_old_params['_3e3630']=$_f0094b_local_params;$_f0094b_old_vars['_3e3630']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden<?php else:?>
checkbox<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3e3630'];$_f0094b_local_vars=$_f0094b_old_vars['_3e3630'];?>
" class="custom-control-input disp_option disp_option-cb" id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <span class="custom-control-indicator<?php $_f0094b_old_params['_8ef655']=$_f0094b_local_params;$_f0094b_old_vars['_8ef655']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8ef655'];$_f0094b_local_vars=$_f0094b_old_vars['_8ef655'];?>
<?php $_f0094b_old_params['_9f355c']=$_f0094b_local_params;$_f0094b_old_vars['_9f355c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f355c'];$_f0094b_local_vars=$_f0094b_old_vars['_9f355c'];?>
"></span>
                    <span class="custom-control-description"> 
                    <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</span>
                  </label>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_06028b'];$_f0094b_local_vars=$_f0094b_old_vars['_06028b'];?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f67d10'];$_f0094b_local_vars=$_f0094b_old_vars['_f67d10'];?>

            <?php endif;$c_89462b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_89462b'];$_f0094b_local_vars=$_f0094b_old_vars['_89462b'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_30bf2b'];$_f0094b_local_vars=$_f0094b_old_vars['_30bf2b'];?>

                <?php $c_6cd0e9=null;$_f0094b_old_params['_6cd0e9']=$_f0094b_local_params;$_f0094b_old_vars['_6cd0e9']=$_f0094b_local_vars;$a_6cd0e9=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_6cd0e9=-1;$r_6cd0e9=true;while($r_6cd0e9===true):$r_6cd0e9=($_6cd0e9!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_6cd0e9,$c_6cd0e9,$this,$r_6cd0e9,++$_6cd0e9,'_6cd0e9');ob_start();?>
<?php $c_6cd0e9 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_6cd0e9=false;}if($c_6cd0e9 ):?>

                <?php $c_9fb246=null;$_f0094b_old_params['_9fb246']=$_f0094b_local_params;$_f0094b_old_vars['_9fb246']=$_f0094b_local_vars;$a_9fb246=$this->setup_args(['name'=>'_fieldbasename','this_tag'=>'setvarblock'],null,$this);ob_start();?>
field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_9fb246=ob_get_clean();$c_9fb246=$this->block_setvarblock($a_9fb246,$c_9fb246,$this,$r_9fb246,1,'_9fb246');echo($c_9fb246); $_f0094b_local_params=$_f0094b_old_params['_9fb246'];?>

                <label class="<?php $_f0094b_old_params['_91b2e0']=$_f0094b_local_params;$_f0094b_old_vars['_91b2e0']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_91b2e0'];$_f0094b_local_vars=$_f0094b_old_vars['_91b2e0'];?>
custom-control custom-checkbox" id="label-<?php echo $this->function_var($this->setup_args(['name'=>'_fieldbasename','this_tag'=>'var'],null,$this),$this)?>
">
                  <input<?php $_f0094b_old_params['_9d7bd5']=$_f0094b_local_params;$_f0094b_old_vars['_9d7bd5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9d7bd5'];$_f0094b_local_vars=$_f0094b_old_vars['_9d7bd5'];?>

                  <?php $_f0094b_old_params['_af85c6']=$_f0094b_local_params;$_f0094b_old_vars['_af85c6']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_af85c6'];$_f0094b_local_vars=$_f0094b_old_vars['_af85c6'];?>

                  <?php $_f0094b_old_params['_64d01f']=$_f0094b_local_params;$_f0094b_old_vars['_64d01f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_64d01f'];$_f0094b_local_vars=$_f0094b_old_vars['_64d01f'];?>
 <?php $_f0094b_old_params['_ab1464']=$_f0094b_local_params;$_f0094b_old_vars['_ab1464']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ab1464'];$_f0094b_local_vars=$_f0094b_old_vars['_ab1464'];?>
 type="checkbox" class="custom-control-input disp_option disp_option-cb" id="field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                  <span class="custom-control-indicator<?php $_f0094b_old_params['_d75df5']=$_f0094b_local_params;$_f0094b_old_vars['_d75df5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d75df5'];$_f0094b_local_vars=$_f0094b_old_vars['_d75df5'];?>
"></span>
                  <span class="custom-control-description"> 
                  <?php echo paml_htmlspecialchars($this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'field__name','trans'=>'1','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','trans',$this),$this,'trans'),ENT_QUOTES)?>
</span>
                </label>
                <?php endif;$c_6cd0e9=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_6cd0e9'];$_f0094b_local_vars=$_f0094b_old_vars['_6cd0e9'];?>

              <?php $_f0094b_old_params['_a3ed33']=$_f0094b_local_params;$_f0094b_old_vars['_a3ed33']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div>
                  <p class="text-muted hint-block">
                    <i class="fa fa-question-circle-o" aria-hidden="true"></i>
                    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Hint','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    <?php echo $this->function_trans($this->setup_args(['phrase'=>'You can change the display order of fields with drag &amp; drop.','this_tag'=>'trans'],null,$this),$this)?>

                  </p>
                </div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3ed33'];$_f0094b_local_vars=$_f0094b_old_vars['_a3ed33'];?>

              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="reset-disp-option" class="btn btn-warning" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Reset','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" id="disp_options_save" class="btn btn-primary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save Changes','this_tag'=>'trans'],null,$this),$this)?>
</button>
        </div>
      </form>
      </div>
    </div>
  </div>
<?php endif;$_e8f1fb=ob_get_clean();echo $this->modifier_trim_space($_e8f1fb,$this->setup_args('3','trim_space',$this),$this,'trim_space');$_f0094b_local_params=$_f0094b_old_params['_e8f1fb'];$_f0094b_local_vars=$_f0094b_old_vars['_e8f1fb'];?>

<script>
<?php $_f0094b_old_params['_162ff0']=$_f0094b_local_params;$_f0094b_old_vars['_162ff0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#edit_options_loop').sortable({
    stop: function( evt, ui ) {
        sort_fields();
    }
});
$("#edit_options_loop").ksortable();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_162ff0'];$_f0094b_local_vars=$_f0094b_old_vars['_162ff0'];?>

function sort_fields(){
    var editor_data = [];
    if(tinymce && tinymce.editors){
        for(var i = tinymce.editors.length -1; i >= 0; i--){
            var ed = tinymce.editors[i];
            editor_data.push({
                target  : ed.targetElm,
                setting : ed.settings
            });
        }
    }
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        var field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
        $('#' + field_name + '-wrapper' ).find('');
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    for(var i = 0; i < editor_data.length; i++){
        tinyMCE.execCommand('mceAddEditor', false, editor_data[i].target);
    }
    reorder_fields();
}
function reorder_fields(){
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        let field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    var oldTextFormat = null;
    if ( $('#text_format-select').length ){
        oldTextFormat = $('#text_format-select').val();
    }
    if( tinymce && ( oldTextFormat == null || oldTextFormat == 'richtext' ) ){
        tinymce.EditorManager.remove();
        editorInit();
    }
    $(document).trigger('pcmsx.reorder_fields_done');
}
$("#disp_options_save").click(function(){
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options saved successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
");
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while saving %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$('#reset-disp-option').click(function(){
    if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to reset display options?','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        return false;
    }
    $('#_reset-disp-oprions').val(1);
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        $('#_reset-disp-oprions').val('');
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options reset successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
 <?php echo $this->function_trans($this->setup_args(['phrase'=>'Changes will be reflected the next time you open the screen.','this_tag'=>'trans'],null,$this),$this)?>
", 'warning');
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while resetting %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$(".disp_option").change(function(){
    let colname = $(this).prop("id");
    let wrapper_name = "#" + colname + 'wrapper';
    let option_name = "." + colname + 'option';
    let wrapper = $(wrapper_name);
    let option  = $(option_name);
    if($(this).prop("checked")) {
        wrapper.show("fade");
        option.show();
    } else {
        wrapper.hide("fade");
        option.hide();
    }
    let richtext = wrapper.find('textarea.richtext');
    if ( richtext.length && $(this).prop('checked') ) {
<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_2c5161']=$_f0094b_local_params;$_f0094b_old_vars['_2c5161']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        let editor4 = $('.mce-edit-area iframe');
        if ( editor4.length ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            editor4.css( 'height', editor_height + 'px' );
        }
<?php else:?>

        if ( richtext.next().attr('role') == 'application' ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            richtext.next().css( 'height', editor_height + 'px' );
        }
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2c5161'];$_f0094b_local_vars=$_f0094b_old_vars['_2c5161'];?>

    }
    updateFieldSelector();
});
</script>
        <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f7fd6'];$_f0094b_local_vars=$_f0094b_old_vars['_2f7fd6'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_dc1f01'];$_f0094b_local_vars=$_f0094b_old_vars['_dc1f01'];?>

    <?php $_f0094b_old_params['_fff85d']=$_f0094b_local_params;$_f0094b_old_vars['_fff85d']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_ce3b24']=$_f0094b_local_params;$_f0094b_old_vars['_ce3b24']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'time_step','setvar'=>'time_step','this_tag'=>'property'],null,$this),$this),$this->setup_args('time_step','setvar',$this),$this,'setvar')?>

      <div class="modal fade" id="filterOptions" tabindex="-1" role="dialog" aria-labelledby="listFiltersTitle" aria-hidden="true"
        style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="listFiltersTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Filters','this_tag'=>'trans'],null,$this),$this)?>
</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          <form id="list_filter_form" action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST">
            <input type="hidden" name="__mode" value="view" id="this_mode">
            <input type="hidden" name="_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_type" value="list">
            <input type="hidden" name="_filter" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_filter_id" id="_filter_id" value="">
            <input type="hidden" name="_save_filter_name" id="_save_filter_name" value="">
            <input type="hidden" name="_detach_filter" id="_detach_filter" value="">
            <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
            <input type="hidden" name="_system_filters_option" value="" id="_system_filters_option">
            <?php $_f0094b_old_params['_3d1002']=$_f0094b_local_params;$_f0094b_old_vars['_3d1002']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="single_select" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d1002'];$_f0094b_local_vars=$_f0094b_old_vars['_3d1002'];?>

            <?php $_f0094b_old_params['_cf54bf']=$_f0094b_local_params;$_f0094b_old_vars['_cf54bf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="_from_scope" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._from_scope','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_cf54bf'];$_f0094b_local_vars=$_f0094b_old_vars['_cf54bf'];?>

          <?php $_f0094b_old_params['_e2590b']=$_f0094b_local_params;$_f0094b_old_vars['_e2590b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e2590b'];$_f0094b_local_vars=$_f0094b_old_vars['_e2590b'];?>

          <?php $_f0094b_old_params['_24f8a1']=$_f0094b_local_params;$_f0094b_old_vars['_24f8a1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="manage_revision" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_24f8a1'];$_f0094b_local_vars=$_f0094b_old_vars['_24f8a1'];?>

          <?php $_f0094b_old_params['_4f2974']=$_f0094b_local_params;$_f0094b_old_vars['_4f2974']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="dialog_view" value="1">
            <?php $_f0094b_old_params['_c0aeaa']=$_f0094b_local_params;$_f0094b_old_vars['_c0aeaa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ref_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="ref_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ref_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c0aeaa'];$_f0094b_local_vars=$_f0094b_old_vars['_c0aeaa'];?>

          <?php $_f0094b_old_params['_4c5242']=$_f0094b_local_params;$_f0094b_old_vars['_4c5242']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="select_system_filters" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_system_filters_option" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="insert" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="insert_editor" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_filter" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._filter','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4c5242'];$_f0094b_local_vars=$_f0094b_old_vars['_4c5242'];?>

            <?php $_f0094b_old_params['_b76ba5']=$_f0094b_local_params;$_f0094b_old_vars['_b76ba5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workflow_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <input type="hidden" name="workflow_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
              <input type="hidden" name="workflow_type" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b76ba5'];$_f0094b_local_vars=$_f0094b_old_vars['_b76ba5'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4f2974'];$_f0094b_local_vars=$_f0094b_old_vars['_4f2974'];?>

          <?php $_f0094b_old_params['_cfa770']=$_f0094b_local_params;$_f0094b_old_vars['_cfa770']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="workspace_select" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cfa770'];$_f0094b_local_vars=$_f0094b_old_vars['_cfa770'];?>

          <?php $_f0094b_old_params['_213301']=$_f0094b_local_params;$_f0094b_old_vars['_213301']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="target" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="get_col" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="selected_ids" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="from_obj" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.from_obj','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php $_f0094b_old_params['_7f3b36']=$_f0094b_local_params;$_f0094b_old_vars['_7f3b36']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_add','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="select_add" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7f3b36'];$_f0094b_local_vars=$_f0094b_old_vars['_7f3b36'];?>

          <?php $_f0094b_old_params['_3f4872']=$_f0094b_local_params;$_f0094b_old_vars['_3f4872']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ids_only','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="ids_only" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ids_only','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3f4872'];$_f0094b_local_vars=$_f0094b_old_vars['_3f4872'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_213301'];$_f0094b_local_vars=$_f0094b_old_vars['_213301'];?>

            <div class="modal-body">
              <div class="container-fluid">
                <?php $_f0094b_old_params['_5764b1']=$_f0094b_local_params;$_f0094b_old_vars['_5764b1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'system_filters','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div class="row form-group">
                  <div class="col-md-3"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'System Filters','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <?php $c_effbc1=null;$_f0094b_old_params['_effbc1']=$_f0094b_local_params;$_f0094b_old_vars['_effbc1']=$_f0094b_local_vars;$a_effbc1=$this->setup_args(['name'=>'system_filters','this_tag'=>'loop'],null,$this);$_effbc1=-1;$r_effbc1=true;while($r_effbc1===true):$r_effbc1=($_effbc1!==-1)?false:true;echo $this->block_loop($a_effbc1,$c_effbc1,$this,$r_effbc1,++$_effbc1,'_effbc1');ob_start();?>
<?php $c_effbc1 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_effbc1=false;}if($c_effbc1 ):?>

                      <?php $_f0094b_old_params['_be5cb2']=$_f0094b_local_params;$_f0094b_old_vars['_be5cb2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <select style="width:240px" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" name="select_system_filters" id="select_system_filters">
                        <option value=""><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_be5cb2'];$_f0094b_local_vars=$_f0094b_old_vars['_be5cb2'];?>

                        <option <?php $_f0094b_old_params['_f47ae5']=$_f0094b_local_params;$_f0094b_old_vars['_f47ae5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'input','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
data-input="1" data-hint="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'hint','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f47ae5'];$_f0094b_local_vars=$_f0094b_old_vars['_f47ae5'];?>
data-option="<?php echo $this->function_var($this->setup_args(['name'=>'option','this_tag'=>'var'],null,$this),$this)?>
" <?php $_f0094b_old_params['_652af5']=$_f0094b_local_params;$_f0094b_old_vars['_652af5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'current_system_filter','eq'=>'$name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_652af5'];$_f0094b_local_vars=$_f0094b_old_vars['_652af5'];?>
 value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                      <?php $_f0094b_old_params['_56e8e7']=$_f0094b_local_params;$_f0094b_old_vars['_56e8e7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        </select>
                      <button type="submit" class="btn btn-sm btn-primary filter-selecter-ctrl-apply" id="system_filter-apply-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_56e8e7'];$_f0094b_local_vars=$_f0094b_old_vars['_56e8e7'];?>

                    <?php endif;$c_effbc1=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_effbc1'];$_f0094b_local_vars=$_f0094b_old_vars['_effbc1'];?>

                  </div>
                </div>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5764b1'];$_f0094b_local_vars=$_f0094b_old_vars['_5764b1'];?>

                <div class="row form-group">
                  <div class="col-md-3"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Your Filters','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <select style="width:240px" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" name="select-user_filters" id="select-user_filters">
                      <option value=""><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                      <?php $c_c22fa0=null;$_f0094b_old_params['_c22fa0']=$_f0094b_local_params;$_f0094b_old_vars['_c22fa0']=$_f0094b_local_vars;$a_c22fa0=$this->setup_args(['model'=>'option','kind'=>'list_filter','key'=>'$model','user_id'=>'$user_id','workspace_id'=>'$workspace_id','this_tag'=>'objectloop'],null,$this);$_c22fa0=-1;$r_c22fa0=true;while($r_c22fa0===true):$r_c22fa0=($_c22fa0!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_c22fa0,$c_c22fa0,$this,$r_c22fa0,++$_c22fa0,'_c22fa0');ob_start();?>
<?php $c_c22fa0 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_c22fa0=false;}if($c_c22fa0 ):?>

                      <?php echo $this->function_setvar($this->setup_args(['name'=>'has_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" <?php $_f0094b_old_params['_721d52']=$_f0094b_local_params;$_f0094b_old_vars['_721d52']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'current_filter_id','eq'=>'$id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_721d52'];$_f0094b_local_vars=$_f0094b_old_vars['_721d52'];?>
><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                      <?php endif;$c_c22fa0=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_c22fa0'];$_f0094b_local_vars=$_f0094b_old_vars['_c22fa0'];?>

                      <option value="add_new_filter"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Add New Filter','this_tag'=>'trans'],null,$this),$this)?>
</option>
                    </select>
                    <?php $_f0094b_old_params['_721f84']=$_f0094b_local_params;$_f0094b_old_vars['_721f84']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <button type="submit" class="btn btn-sm btn-primary filter-selecter-ctrl-apply" id="filter-select-apply-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
                    <button type="button" class="delete-filter-elem hidden delete-bun-sm btn btn-secondary btn-sm filter-selecter-ctrl" id="filter-select-delete-button" class="close" data-dismiss="modal">
                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Delete','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    </button>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_721f84'];$_f0094b_local_vars=$_f0094b_old_vars['_721f84'];?>

                  </div>
                </div>
                <div class="row form-group new-filter-elem hidden">
                  <div class="col-md-3" style="float:left;"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <select style="width:240px" name="filters-selector" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" id="filters-selector">
                    <?php $c_12e865=null;$_f0094b_old_params['_12e865']=$_f0094b_local_params;$_f0094b_old_vars['_12e865']=$_f0094b_local_vars;$a_12e865=$this->setup_args(['name'=>'filter_options','this_tag'=>'loop'],null,$this);$_12e865=-1;$r_12e865=true;while($r_12e865===true):$r_12e865=($_12e865!==-1)?false:true;echo $this->block_loop($a_12e865,$c_12e865,$this,$r_12e865,++$_12e865,'_12e865');ob_start();?>
<?php $c_12e865 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_12e865=false;}if($c_12e865 ):?>

                    <?php $_f0094b_old_params['_819219']=$_f0094b_local_params;$_f0094b_old_vars['_819219']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <option><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_819219'];$_f0094b_local_vars=$_f0094b_old_vars['_819219'];?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" class="coltype_<?php $_f0094b_old_params['_812f7d']=$_f0094b_local_params;$_f0094b_old_vars['_812f7d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'created_by','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
reference<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_812f7d'];$_f0094b_local_vars=$_f0094b_old_vars['_812f7d'];?>
"><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                    <?php endif;$c_12e865=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_12e865'];$_f0094b_local_vars=$_f0094b_old_vars['_12e865'];?>

                    </select>
                   <button type="button" class="btn btn-sm btn-secondary filter-selecter-ctrl-apply" id="filter-add-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Add','this_tag'=>'trans'],null,$this),$this)?>
</button>
                  </div>
                </div>
                <div class="row form-group new-filter-elem">
                  <div class="col-md-12">
                    <div class="card hidden" id="filter-parant-block">
                      <ul class="list-group list-group-flush" id="filters-list">
                        <li class="list-group-item hidden" id="selector-tmpl-int">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <input type="number" class="short-padding form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="eq"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="lt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Less than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="gt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Grater than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ne"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ge"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Greater Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="le"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Less Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-text">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <input type="text" class="short-padding form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="ct"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Contains','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="nc"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Contains','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="eq"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ne"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="bw"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Begin with','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ew"><?php echo $this->function_trans($this->setup_args(['phrase'=>'End with','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-date">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'published_on_default','setvar'=>'published_on_default','this_tag'=>'property'],null,$this),$this),$this->setup_args('published_on_default','setvar',$this),$this,'setvar')?>

                              <input type="datetime-local" step="<?php $_f0094b_old_params['_ee72e9']=$_f0094b_local_params;$_f0094b_old_vars['_ee72e9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'time_step','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'time_step','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ee72e9'];$_f0094b_local_vars=$_f0094b_old_vars['_ee72e9'];?>
" class="form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="" value="<?php $_f0094b_old_params['_119106']=$_f0094b_local_params;$_f0094b_old_vars['_119106']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'published_on_default','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_format_ts($this->function_date($this->setup_args(['format'=>'$published_on_default','format_ts'=>'Y-m-d\\TH:i:s','this_tag'=>'date'],null,$this),$this),$this->setup_args('Y-m-d\\\\TH:i:s','format_ts',$this),$this,'format_ts')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_119106'];$_f0094b_local_vars=$_f0094b_old_vars['_119106'];?>
">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="gt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Newer than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="lt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Older than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-status">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                            <?php $_f0094b_old_params['_308ac8']=$_f0094b_local_params;$_f0094b_old_vars['_308ac8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'status_options','split'=>',','setvar'=>'status_label','this_tag'=>'var'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                            <?php else:?>

                              <?php $_f0094b_old_params['_777adc']=$_f0094b_local_params;$_f0094b_old_vars['_777adc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_published','ne'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_trans($this->setup_args(['phrase'=>'Draft,Review,Approval Pending,Reserved,Publish,Ended','split'=>',','setvar'=>'status_label','this_tag'=>'trans'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                              <?php else:?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_trans($this->setup_args(['phrase'=>'Disable,Enable','split'=>',','setvar'=>'status_label','this_tag'=>'trans'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_777adc'];$_f0094b_local_vars=$_f0094b_old_vars['_777adc'];?>

                            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_308ac8'];$_f0094b_local_vars=$_f0094b_old_vars['_308ac8'];?>

                            <select class="form-control form-control-sm custom-select short filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <?php $_f0094b_old_params['_add7e9']=$_f0094b_local_params;$_f0094b_old_vars['_add7e9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_published','ne'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                            <?php $c_2a1ecb=null;$_f0094b_old_params['_2a1ecb']=$_f0094b_local_params;$_f0094b_old_vars['_2a1ecb']=$_f0094b_local_vars;$a_2a1ecb=$this->setup_args(['name'=>'status_label','this_tag'=>'loop'],null,$this);$_2a1ecb=-1;$r_2a1ecb=true;while($r_2a1ecb===true):$r_2a1ecb=($_2a1ecb!==-1)?false:true;echo $this->block_loop($a_2a1ecb,$c_2a1ecb,$this,$r_2a1ecb,++$_2a1ecb,'_2a1ecb');ob_start();?>
<?php $c_2a1ecb = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_2a1ecb=false;}if($c_2a1ecb ):?>

                              <?php $_f0094b_old_params['_097c96']=$_f0094b_local_params;$_f0094b_old_vars['_097c96']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__index__','le'=>'$list_max_status','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php $_f0094b_old_params['_769cd0']=$_f0094b_local_params;$_f0094b_old_vars['_769cd0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                                <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__index__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->modifier_translate($this->function_var($this->setup_args(['name'=>'__value__','translate'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','translate',$this),$this,'translate')?>
</option>
                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_769cd0'];$_f0094b_local_vars=$_f0094b_old_vars['_769cd0'];?>

                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_097c96'];$_f0094b_local_vars=$_f0094b_old_vars['_097c96'];?>

                            <?php endif;$c_2a1ecb=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_2a1ecb'];$_f0094b_local_vars=$_f0094b_old_vars['_2a1ecb'];?>

                            <?php else:?>

                            <?php $c_1bf9f2=null;$_f0094b_old_params['_1bf9f2']=$_f0094b_local_params;$_f0094b_old_vars['_1bf9f2']=$_f0094b_local_vars;$a_1bf9f2=$this->setup_args(['name'=>'status_label','this_tag'=>'loop'],null,$this);$_1bf9f2=-1;$r_1bf9f2=true;while($r_1bf9f2===true):$r_1bf9f2=($_1bf9f2!==-1)?false:true;echo $this->block_loop($a_1bf9f2,$c_1bf9f2,$this,$r_1bf9f2,++$_1bf9f2,'_1bf9f2');ob_start();?>
<?php $c_1bf9f2 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_1bf9f2=false;}if($c_1bf9f2 ):?>

                              <?php $_f0094b_old_params['_435be6']=$_f0094b_local_params;$_f0094b_old_vars['_435be6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','le'=>'$list_max_status','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                                <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__counter__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->modifier_translate($this->function_var($this->setup_args(['name'=>'__value__','translate'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','translate',$this),$this,'translate')?>
</option>
                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_435be6'];$_f0094b_local_vars=$_f0094b_old_vars['_435be6'];?>

                            <?php endif;$c_1bf9f2=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_1bf9f2'];$_f0094b_local_vars=$_f0094b_old_vars['_1bf9f2'];?>

                            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_add7e9'];$_f0094b_local_vars=$_f0094b_old_vars['_add7e9'];?>

                            </select>
                            <input type="hidden" name="" value="eq">
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-secondary delete-filter-elem hidden" id="detach-filter-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach Filter','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-primary new-filter-elem hidden" id="filter-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-secondary new-filter-elem hidden" id="filter-save-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save and Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
            </div>
          </form>
          </div>
        </div>
      </div>
    </div>
<script>
$('#system_filter-apply-button').click(function(){
    if (! $('[name=select_system_filters] option:selected').val() ) {
        if ( filter_itemCount ) {
            return $('#filter-apply').trigger('click');
        }
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    let input = $('[name=select_system_filters] option:selected').data( 'input' );
    let hint = $('[name=select_system_filters] option:selected').data( 'hint' );
    let filter_option = $('[name=select_system_filters] option:selected').attr('data-option');
    if ( input ) {
        if (! hint ) {
            hint = '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Please enter the value.','this_tag'=>'trans'],null,$this),$this)?>
';
        }
        filter_option = prompt( hint, filter_option );
        if (! filter_option ) {
            return false;
        }
    }
    $('#select-user_filters').val('');
    $('#_system_filters_option').val( filter_option );
});
$('#filter-select-delete-button').click(function(){
    var filter_id = $('#select-user_filters').val();
    if ( filter_id == 'add_new_filter' || filter_id == '' ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove selected filter?','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $('#_filter_id').val( filter_id );
    $('#this_mode').val( 'delete_filter' );
    $('[name=select-user_filters] option:selected').remove();
    var str = $("#list_filter_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        if( data.result == true ) {
            $("#header-alert-message").html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The Filter has successfully deleted.','this_tag'=>'trans'],null,$this),$this)?>
');
            $("#header-alert").removeClass("alert-danger");
            $("#header-alert").addClass("alert-success");
        } else {
            $("#header-alert-message").html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while removing the Filter.','this_tag'=>'trans'],null,$this),$this)?>
');
            $("#header-alert").removeClass("alert-success");
            $("#header-alert").addClass("alert-danger");
        }
        $("#header-alert").show();
        setTimeout(focus_header_dialog, 500);
        $(".current-filter").hide();
        $('#this_mode').val( 'list' );
        $('#_filter_id').val('');
        $('#filter-select-delete-button').hide();
        var loc = $(location).attr('href');
        if ( loc.indexOf('?') == -1 ) {
            loc = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&_type=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
            <?php $_f0094b_old_params['_ce93e4']=$_f0094b_local_params;$_f0094b_old_vars['_ce93e4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            loc += '&workspace_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workspace_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce93e4'];$_f0094b_local_vars=$_f0094b_old_vars['_ce93e4'];?>

            loc += '&_detach_filter=1';
            location.href = loc;
        } else {
            loc += '&_detach_filter=1';
            location.href = loc;
        }
    },
    "json"
    );
});
function focus_header_dialog () {
    $("#header-alert").focus();
}
$('#filter-select-apply-button').click(function(){
    var filter_id = $('#select-user_filters').val();
    if ( filter_id == 'add_new_filter' || filter_id == '' ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    $('#select_system_filters').val('');
    $('#_filter_id').val( filter_id );
    return true;
});
$('#select-user_filters').change(function(){
    if ($(this).val() == 'add_new_filter' ) {
        $('.new-filter-elem').show();
        $('.delete-filter-elem').hide();
    } else {
        $('.new-filter-elem').hide();
        if ( $(this).val() ) {
            $('.delete-filter-elem').show();
        }
    }
});
var curr_user_filter = $('#select-user_filters').val();
if ( curr_user_filter != 'add_new_filter' && curr_user_filter != '' ) {
    $('.delete-filter-elem').show();
}
var filter_itemCount = 0;
$('#filter-apply').click(function(){
    if (! filter_itemCount ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
});
$('#filter-save-apply').click(function(){
    if (! filter_itemCount ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    var filter_name = prompt('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Please enter the Name of this Filter.','this_tag'=>'trans'],null,$this),$this)?>
', '');
    if (! filter_name ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The Filter Name is required.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    $('#_save_filter_name').val(filter_name);
});
$('#detach-filter-button').click(function(){
    $('#filters-list').remove();
    $('#_detach_filter').val(1);
});
$('#filter-add-button').click(function(){
    var selected_col = $('#filters-selector').val();
    var sel_class = $('[name=filters-selector] option:selected').attr('class');
    var sel_label = $('[name=filters-selector] option:selected').text();
    sel_class = sel_class.replace( 'coltype_', '' );
    var filter_tmpl = $('#selector-tmpl-text');
    if ( selected_col == 'status' ) {
        filter_tmpl = $('#selector-tmpl-status');
    } else if ( sel_class == 'int' || sel_class == 'tinyint' || sel_class == 'double' || sel_class.indexOf('decimal') == 0 ) {
        filter_tmpl = $('#selector-tmpl-int');
    } else if ( sel_class == 'datetime' ) {
        filter_tmpl = $('#selector-tmpl-date');
    }
    var addSelecter = filter_tmpl.clone( true ).appendTo('#filters-list');
    addSelecter.removeClass('hidden');
    addSelecter.removeAttr('id');
    addSelecter.children('div').children('span').html(sel_label);
    if ( selected_col == 'status' ) {
        addSelecter.children('div').children('input').attr('name', '_filter_cond_' + selected_col + '[]');
        addSelecter.children('div').children('select').attr('name', '_filter_value_' + selected_col + '[]');
    } else {
        addSelecter.children('div').children('input').attr('name', '_filter_value_' + selected_col + '[]');
        addSelecter.children('div').children('select').attr('name', '_filter_cond_' + selected_col + '[]');
    }
    $('#filter-parant-block').show();
    $('#filter-parant-block').css('border','none');
    addSelecter.show();
    filter_itemCount++;
});
$('.detach-filter').click(function(){
    if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove this filter condition?','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $(this).parent().parent().remove();
    filter_itemCount--;
});
</script>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce3b24'];$_f0094b_local_vars=$_f0094b_old_vars['_ce3b24'];?>

    <?php $_f0094b_old_params['_8c0763']=$_f0094b_local_params;$_f0094b_old_vars['_8c0763']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_add2a1']=$_f0094b_local_params;$_f0094b_old_vars['_add2a1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="modal fade" id="startUpload" tabindex="-1" role="dialog" aria-labelledby="startUploadTitle" aria-hidden="true"
        style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="startUploadTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload','this_tag'=>'trans'],null,$this),$this)?>
</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <div class="alert alert-success hidden" id="clear-history-alert" role="alert" tabindex="0">
              <button onclick="$('#clear-history-alert').hide();" type="button" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
                <span aria-hidden="true">&times;</span>
              </button>
              <?php echo $this->function_trans($this->setup_args(['phrase'=>'The upload path history has been cleared successfully.','this_tag'=>'trans'],null,$this),$this)?>

            </div>
              <div class="container-fluid" id="drop-zone">
                <form>
                <span id="file-chooser" class="btn btn-success fileinput-button">
                    <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select File...','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    <!-- The file input field used as target for the file upload widget -->
                    <input id="fileupload" type="file" name="files[]" multiple
                        onfocus="$('#file-chooser').css('border','2px solid green');"
                        onblur="$('#file-chooser').css('border','none');">
                </span>
              <?php $_f0094b_old_params['_9a5c32']=$_f0094b_local_params;$_f0094b_old_vars['_9a5c32']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'asset_overwrite','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <label class="custom-control custom-checkbox" style="margin-top: 10px;margin-left: 7px">
                  <input type="checkbox" class="custom-control-input"
                    id="asset_overwrite" name="overwrite" value="0">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Overwrite files with the same path','this_tag'=>'trans'],null,$this),$this)?>

                </label>
                <script>
                $('#asset_overwrite').change(function(){
                    if ($(this).prop('checked')) {
                        $(this).val('1');
                    } else {
                        $(this).val('0');
                    }
                });
                </script>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9a5c32'];$_f0094b_local_vars=$_f0094b_old_vars['_9a5c32'];?>

                <div class="form-inline" style="margin: 10px 7px">
                  <?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload Path','this_tag'=>'trans'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_e8ed5c']=$_f0094b_local_params;$_f0094b_old_vars['_e8ed5c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model_out_path','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->modifier_add_slash(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model_out_path','escape'=>'','add_slash'=>'','setvar'=>'model_out_path','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('','add_slash',$this),$this,'add_slash'),$this->setup_args('model_out_path','setvar',$this),$this,'setvar')?>

                    <?php echo $this->function_setvar($this->setup_args(['name'=>'extra_path','value'=>'$model_out_path','append'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e8ed5c'];$_f0094b_local_vars=$_f0094b_old_vars['_e8ed5c'];?>

                  <input id="extra_path" type="text" style="width:200px;" class="form-control" name="extra_path" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'extra_path','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
                  <?php echo $this->function_setvar($this->setup_args(['name'=>'upload_paths','value'=>'$extra_path','function'=>'unshift','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php echo $this->modifier_setvar($this->modifier_array_unique($this->function_var($this->setup_args(['name'=>'upload_paths','array_unique'=>'','setvar'=>'upload_paths','this_tag'=>'var'],null,$this),$this),$this->setup_args('','array_unique',$this),$this,'array_unique'),$this->setup_args('upload_paths','setvar',$this),$this,'setvar')?>

                  <?php echo $this->modifier_setvar($this->function_count($this->setup_args(['name'=>'$upload_paths','setvar'=>'path_cnt','this_tag'=>'count'],null,$this),$this),$this->setup_args('path_cnt','setvar',$this),$this,'setvar')?>

                <?php $_f0094b_old_params['_f5312e']=$_f0094b_local_params;$_f0094b_old_vars['_f5312e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'path_cnt','gt'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <div id="upload_paths-box">
                  <?php $c_0755e1=null;$_f0094b_old_params['_0755e1']=$_f0094b_local_params;$_f0094b_old_vars['_0755e1']=$_f0094b_local_vars;$a_0755e1=$this->setup_args(['name'=>'upload_paths','this_tag'=>'loop'],null,$this);$_0755e1=-1;$r_0755e1=true;while($r_0755e1===true):$r_0755e1=($_0755e1!==-1)?false:true;echo $this->block_loop($a_0755e1,$c_0755e1,$this,$r_0755e1,++$_0755e1,'_0755e1');ob_start();?>
<?php $c_0755e1 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_0755e1=false;}if($c_0755e1 ):?>

                    <?php $_f0094b_old_params['_ab4514']=$_f0094b_local_params;$_f0094b_old_vars['_ab4514']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <button class="btn ml-3 btn-secondary" id="toggle-upload_path"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
</button>
                    <span class="hidden" id="upload_path-wrapper">
                    <select class="form-control custom-select short" name="upload_path" id="upload_path"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_ab4514'];$_f0094b_local_vars=$_f0094b_old_vars['_ab4514'];?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" <?php $_f0094b_old_params['_aa40a5']=$_f0094b_local_params;$_f0094b_old_vars['_aa40a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'extra_path','eq'=>'$__value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_aa40a5'];$_f0094b_local_vars=$_f0094b_old_vars['_aa40a5'];?>
><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                    <?php $_f0094b_old_params['_775f0c']=$_f0094b_local_params;$_f0094b_old_vars['_775f0c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</select>
                    <button class="btn ml-0 btn-secondary btn-sm" id="clear-upload_path">  <i class="fa fa-trash" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Clear','this_tag'=>'trans'],null,$this),$this)?>
</span></button>
                    </span>
                  </div>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_775f0c'];$_f0094b_local_vars=$_f0094b_old_vars['_775f0c'];?>

                  <?php endif;$c_0755e1=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_0755e1'];$_f0094b_local_vars=$_f0094b_old_vars['_0755e1'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f5312e'];$_f0094b_local_vars=$_f0094b_old_vars['_f5312e'];?>

                </div>
                <!-- The container for the uploaded files -->
                <div id="files" class="files"></div>
                </form>
              </div>
              <!-- The global progress bar -->
              <div id="progress" class="progress">
                <div class="progress-bar progress-bar-success"></div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary upload-cancel-button" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-primary new-filter-elem hidden" id="filter-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Next','this_tag'=>'trans'],null,$this),$this)?>
</button>
            </div>
          </div>
        </div>
      </div>
<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script src="assets/js/vendor/jquery.ui.widget.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script src="assets/js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'query_string','regex_replace'=>'\'/&offset=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&offset=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&deleted=1/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&deleted=1/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_52ddf8']=$_f0094b_local_params;$_f0094b_old_vars['_52ddf8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&filter_params=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&filter_params=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&magic_token=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&magic_token=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&query=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&query=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_52ddf8'];$_f0094b_local_vars=$_f0094b_old_vars['_52ddf8'];?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}does_act=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}does_act=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}apply_actions=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}apply_actions=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}background_proccess_running=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}background_proccess_running=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}html_background_proccess=1/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}html_background_proccess=1/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&+/\',\'&\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&+/\\\',\\\'&\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/^&+/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/^&+/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<script src="assets/js/jquery.fileupload.js"></script>
<script>
$('#upload_path').change(function(){
    $('#extra_path').val( $(this).val() );
});
$('#clear-upload_path').click(function(){
    if ( !confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to delete the upload path history?','this_tag'=>'trans'],null,$this),$this)?>
') ) {
        return false;
    }
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", {
        '__mode' : 'clear_extra_paths',
        'workspace_id' : '<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
',
        'magic_token': '<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
'
    },
    function ( data ) {
        if( data.result == true ) {
            $('#upload_paths-box').hide( 300 );
            $('#clear-history-alert').show();
            $('#clear-history-alert').focus();
        } else {
            alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while clearing upload path history.','this_tag'=>'trans'],null,$this),$this)?>
");
        }
    },
    "json"
    );
    return false;
});
$('#toggle-upload_path').click(function(){
    $('#upload_path-wrapper').toggle();
    if ( $(this).html() == '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
' ) {
        $(this).html( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Hide','this_tag'=>'trans'],null,$this),$this)?>
' );
        $('#upload_path-wrapper').css('display', 'inline');
    } else {
        $(this).html( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
' );
    }
    return false;
});
var this_url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?<?php $_f0094b_old_params['_5489a2']=$_f0094b_local_params;$_f0094b_old_vars['_5489a2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5489a2'];$_f0094b_local_vars=$_f0094b_old_vars['_5489a2'];?>
<?php echo $this->function_var($this->setup_args(['name'=>'_query_string','this_tag'=>'var'],null,$this),$this)?>
&sort=id&direction=desc';
var selected_ids = [];
var upload_count = 0;
var receive_count = 0;
var DropZone = document.getElementById('drop-zone');
DropZone.addEventListener('dragover', function (event) {
    $('#drop-zone').css('background-color','#ddf');
});
DropZone.addEventListener('dragleave', function (event) {
    $('#drop-zone').css('background-color','#fff');
});
$('#drop-zone').css('border','3px dashed <?php $_f0094b_old_params['_3e283f']=$_f0094b_local_params;$_f0094b_old_vars['_3e283f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3e283f'];$_f0094b_local_vars=$_f0094b_old_vars['_3e283f'];?>
');
$('#drop-zone').css('margin','1px');
$('#drop-zone').css('padding','8px');
$(function () {
    'use strict';
    var url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=upload_multi&magic_token=<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&model=asset&name=file<?php $_f0094b_old_params['_65384a']=$_f0094b_local_params;$_f0094b_old_vars['_65384a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','eq'=>'filter_class_image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&select_system_filters=filter_class_image<?php endif;$_f0094b_local_params=$_f0094b_old_params['_65384a'];$_f0094b_local_vars=$_f0094b_old_vars['_65384a'];?>
';
    $('#fileupload').fileupload({
        url: url,
        dataType: 'json',
        dropZone: $("#drop-zone"),
        // formData: {extra_path: $('#extra_path').val()},
        add: function (e, data) {
            data.formData = {extra_path: $('#extra_path').val()<?php $_f0094b_old_params['_8aede0']=$_f0094b_local_params;$_f0094b_old_vars['_8aede0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'asset_overwrite','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
, overwrite: $('#asset_overwrite').val()<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8aede0'];$_f0094b_local_vars=$_f0094b_old_vars['_8aede0'];?>
};
            data.submit();
            upload_count++;
            $("#drop-zone").hide( 'slow' );
            $('.upload-cancel-button').hide( 'slow' );
        },
        done: function (e, data) {
            $('#clear-history-alert').hide();
            if (!data.result.files) {
                var error = data.result.message;
                $('#progress .progress-bar').css(
                    'width', 0
                );
                alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while uploading.','this_tag'=>'trans'],null,$this),$this)?>
"+' (' + error + ')');
                upload_count = 0;
                receive_count = 0;
                selected_ids = [];
                return;
            }
            $("input[name='id[]']").each(function(){
                if ( $(this).prop('checked') ) {
                    if( $.inArray($(this).val(), selected_ids ) == -1 ) {
                        selected_ids.push($(this).val());
                    }
                }
            });
            $.each(data.result.files, function (index, file) {
                // $('<p/>').text(file.name).appendTo('#files');
                var input_cb = $('#select_ids_tmpl');
                var new_input = input_cb.clone( true ).appendTo('#list-select-form');
                new_input.removeAttr('id');
                new_input.attr('name','id[]');
                new_input.val(file.asset_id);
                selected_ids.push(file.asset_id);
                receive_count++;
                //if ( upload_count == receive_count ) {
                setTimeout(uploaded_hdlr, 1000);
                //}
            });
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress .progress-bar').css(
                'width',
                progress + '%'
            );
            $('#drop-zone').css('background-color','#fff');
            $("#drop-zone").show( 'slow' );
        }
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');
});
function uploaded_hdlr () {
    this_url += '&selected_ids=' + selected_ids.join(',');
    <?php $_f0094b_old_params['_3e1a6d']=$_f0094b_local_params;$_f0094b_old_vars['_3e1a6d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    $("#__mode").prop('value', 'insert_asset');
    $("#list-select-form").submit();
    <?php else:?>

    submit_params_to_post( this_url );
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3e1a6d'];$_f0094b_local_vars=$_f0094b_old_vars['_3e1a6d'];?>

}
</script>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_add2a1'];$_f0094b_local_vars=$_f0094b_old_vars['_add2a1'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8c0763'];$_f0094b_local_vars=$_f0094b_old_vars['_8c0763'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fff85d'];$_f0094b_local_vars=$_f0094b_old_vars['_fff85d'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c82ff2'];$_f0094b_local_vars=$_f0094b_old_vars['_c82ff2'];?>

      <div class="row">
        <main class="pt-3 full <?php $_f0094b_old_params['_0e0d5e']=$_f0094b_local_params;$_f0094b_old_vars['_0e0d5e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'list_screen','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 col-md-12<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0e0d5e'];$_f0094b_local_vars=$_f0094b_old_vars['_0e0d5e'];?>
">
        <?php $_f0094b_old_params['_fd837d']=$_f0094b_local_params;$_f0094b_old_vars['_fd837d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'list_screen','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<div class="col-md-12 full"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_fd837d'];$_f0094b_local_vars=$_f0094b_old_vars['_fd837d'];?>

          <h1 id="page-title" class="<?php $_f0094b_old_params['_1f1684']=$_f0094b_local_params;$_f0094b_old_vars['_1f1684']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'full_title','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
page-title-full<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1f1684'];$_f0094b_local_vars=$_f0094b_old_vars['_1f1684'];?>
<?php $_f0094b_old_params['_6328c9']=$_f0094b_local_params;$_f0094b_old_vars['_6328c9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 title-with-opt<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6328c9'];$_f0094b_local_vars=$_f0094b_old_vars['_6328c9'];?>
"><span class="title"><?php echo $this->function_var($this->setup_args(['name'=>'page_title','this_tag'=>'var'],null,$this),$this)?>
</span>
          <?php echo $this->function_var($this->setup_args(['name'=>'add_heading','this_tag'=>'var'],null,$this),$this)?>

    <?php $_f0094b_old_params['_d6ba51']=$_f0094b_local_params;$_f0094b_old_vars['_d6ba51']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_model','eq'=>'role','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_71f469']=$_f0094b_local_params;$_f0094b_old_vars['_71f469']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      
      <?php echo $this->function_setvar($this->setup_args(['name'=>'_hide_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'select_role','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_71f469'];$_f0094b_local_vars=$_f0094b_old_vars['_71f469'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d6ba51'];$_f0094b_local_vars=$_f0094b_old_vars['_d6ba51'];?>

    <?php $_f0094b_old_params['_61669c']=$_f0094b_local_params;$_f0094b_old_vars['_61669c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'select_role','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_1dada7']=$_f0094b_local_params;$_f0094b_old_vars['_1dada7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_b7a796']=$_f0094b_local_params;$_f0094b_old_vars['_b7a796']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_aa39db']=$_f0094b_local_params;$_f0094b_old_vars['_aa39db']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_param','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_8bc1df']=$_f0094b_local_params;$_f0094b_old_vars['_8bc1df']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $c_691dae=null;$_f0094b_old_params['_691dae']=$_f0094b_local_params;$_f0094b_old_vars['_691dae']=$_f0094b_local_vars;$a_691dae=$this->setup_args(['name'=>'workspace_param','this_tag'=>'setvarblock'],null,$this);ob_start();?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $c_691dae=ob_get_clean();$c_691dae=$this->block_setvarblock($a_691dae,$c_691dae,$this,$r_691dae,1,'_691dae');echo($c_691dae); $_f0094b_local_params=$_f0094b_old_params['_691dae'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8bc1df'];$_f0094b_local_vars=$_f0094b_old_vars['_8bc1df'];?>

          <?php $_f0094b_old_params['_7dd815']=$_f0094b_local_params;$_f0094b_old_vars['_7dd815']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_a41cf7']=$_f0094b_local_params;$_f0094b_old_vars['_a41cf7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_31242e']=$_f0094b_local_params;$_f0094b_old_vars['_31242e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $_f0094b_old_params['_afdafd']=$_f0094b_local_params;$_f0094b_old_vars['_afdafd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._start_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'_hide_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_afdafd'];$_f0094b_local_vars=$_f0094b_old_vars['_afdafd'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_31242e'];$_f0094b_local_vars=$_f0094b_old_vars['_31242e'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a41cf7'];$_f0094b_local_vars=$_f0094b_old_vars['_a41cf7'];?>

          <?php $_f0094b_old_params['_53c458']=$_f0094b_local_params;$_f0094b_old_vars['_53c458']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'error','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_c52fda']=$_f0094b_local_params;$_f0094b_old_vars['_c52fda']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <button type="button" id="filter-button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#filterOptions">
            <?php echo $this->function_trans($this->setup_args(['phrase'=>'Filters','this_tag'=>'trans'],null,$this),$this)?>

          </button>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c52fda'];$_f0094b_local_vars=$_f0094b_old_vars['_c52fda'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_53c458'];$_f0094b_local_vars=$_f0094b_old_vars['_53c458'];?>

          <?php $_f0094b_old_params['_9fe097']=$_f0094b_local_params;$_f0094b_old_vars['_9fe097']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_create','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a694d7']=$_f0094b_local_params;$_f0094b_old_vars['_a694d7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.workspace_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-primary btn-sm create-new-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_6f908e']=$_f0094b_local_params;$_f0094b_old_vars['_6f908e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','ne'=>'workspace','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6f908e'];$_f0094b_local_vars=$_f0094b_old_vars['_6f908e'];?>
&amp;dialog_view=1<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'filter_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php $_f0094b_old_params['_f5dcf8']=$_f0094b_local_params;$_f0094b_old_vars['_f5dcf8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;target=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_9ac4ed']=$_f0094b_local_params;$_f0094b_old_vars['_9ac4ed']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;single_select=1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9ac4ed'];$_f0094b_local_vars=$_f0094b_old_vars['_9ac4ed'];?>
<?php $_f0094b_old_params['_30ea09']=$_f0094b_local_params;$_f0094b_old_vars['_30ea09']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.selected_ids','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;selected_ids=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_30ea09'];$_f0094b_local_vars=$_f0094b_old_vars['_30ea09'];?>
<?php $_f0094b_old_params['_98ff33']=$_f0094b_local_params;$_f0094b_old_vars['_98ff33']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_add','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;select_add=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_add','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_98ff33'];$_f0094b_local_vars=$_f0094b_old_vars['_98ff33'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;select_system_filters=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;_system_filters_option=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;_filter=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._filter','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;insert=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f5dcf8'];$_f0094b_local_vars=$_f0094b_old_vars['_f5dcf8'];?>
<?php $_f0094b_old_params['_66347e']=$_f0094b_local_params;$_f0094b_old_vars['_66347e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._system_filters_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_e90d20']=$_f0094b_local_params;$_f0094b_old_vars['_e90d20']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'tag','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;tag_obj=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e90d20'];$_f0094b_local_vars=$_f0094b_old_vars['_e90d20'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_66347e'];$_f0094b_local_vars=$_f0094b_old_vars['_66347e'];?>
<?php $_f0094b_old_params['_90e79d']=$_f0094b_local_params;$_f0094b_old_vars['_90e79d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;insert_editor=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_90e79d'];$_f0094b_local_vars=$_f0094b_old_vars['_90e79d'];?>
">
            <i class="fa fa-plus-circle" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a694d7'];$_f0094b_local_vars=$_f0094b_old_vars['_a694d7'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9fe097'];$_f0094b_local_vars=$_f0094b_old_vars['_9fe097'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7dd815'];$_f0094b_local_vars=$_f0094b_old_vars['_7dd815'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aa39db'];$_f0094b_local_vars=$_f0094b_old_vars['_aa39db'];?>

        <?php $_f0094b_old_params['_c84b98']=$_f0094b_local_params;$_f0094b_old_vars['_c84b98']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_4b4d46']=$_f0094b_local_params;$_f0094b_old_vars['_4b4d46']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $c_cf6bde=null;$_f0094b_old_params['_cf6bde']=$_f0094b_local_params;$_f0094b_old_vars['_cf6bde']=$_f0094b_local_vars;$a_cf6bde=$this->setup_args(['name'=>'filter_cond','this_tag'=>'setvarblock'],null,$this);ob_start();?>

&amp;select_system_filters=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

&amp;_system_filters_option=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

&amp;_filter=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

<?php $c_cf6bde=ob_get_clean();$c_cf6bde=$this->block_setvarblock($a_cf6bde,$c_cf6bde,$this,$r_cf6bde,1,'_cf6bde');echo($c_cf6bde); $_f0094b_local_params=$_f0094b_old_params['_cf6bde'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4b4d46'];$_f0094b_local_vars=$_f0094b_old_vars['_4b4d46'];?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
&amp;dialog_view=1<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'filter_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php $_f0094b_old_params['_ccd6f0']=$_f0094b_local_params;$_f0094b_old_vars['_ccd6f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.rev_object_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;single_select=1&amp;revision_select=1&amp;rev_object_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.rev_object_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ccd6f0'];$_f0094b_local_vars=$_f0094b_old_vars['_ccd6f0'];?>
<?php $_f0094b_old_params['_7f4f72']=$_f0094b_local_params;$_f0094b_old_vars['_7f4f72']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;target=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_87e897']=$_f0094b_local_params;$_f0094b_old_vars['_87e897']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;single_select=1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_87e897'];$_f0094b_local_vars=$_f0094b_old_vars['_87e897'];?>
<?php $_f0094b_old_params['_a819f1']=$_f0094b_local_params;$_f0094b_old_vars['_a819f1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.selected_ids','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;selected_ids=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a819f1'];$_f0094b_local_vars=$_f0094b_old_vars['_a819f1'];?>
<?php $_f0094b_old_params['_ef9bb5']=$_f0094b_local_params;$_f0094b_old_vars['_ef9bb5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_add','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;select_add=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_add','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ef9bb5'];$_f0094b_local_vars=$_f0094b_old_vars['_ef9bb5'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;select_system_filters=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;_system_filters_option=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;_filter=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._filter','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;insert=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7f4f72'];$_f0094b_local_vars=$_f0094b_old_vars['_7f4f72'];?>
<?php $_f0094b_old_params['_17211b']=$_f0094b_local_params;$_f0094b_old_vars['_17211b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.any_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;any_model=1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_17211b'];$_f0094b_local_vars=$_f0094b_old_vars['_17211b'];?>
<?php $_f0094b_old_params['_a2229b']=$_f0094b_local_params;$_f0094b_old_vars['_a2229b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;insert_editor=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a2229b'];$_f0094b_local_vars=$_f0094b_old_vars['_a2229b'];?>
&amp;_from_scope=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._from_scope','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to Home','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c84b98'];$_f0094b_local_vars=$_f0094b_old_vars['_c84b98'];?>

        <?php $_f0094b_old_params['_bc3a5b']=$_f0094b_local_params;$_f0094b_old_vars['_bc3a5b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_95a5b7']=$_f0094b_local_params;$_f0094b_old_vars['_95a5b7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_100739']=$_f0094b_local_params;$_f0094b_old_vars['_100739']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'create','model'=>'asset','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

          <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#startUpload">
            <?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload','this_tag'=>'trans'],null,$this),$this)?>

          </button>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_100739'];$_f0094b_local_vars=$_f0094b_old_vars['_100739'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_95a5b7'];$_f0094b_local_vars=$_f0094b_old_vars['_95a5b7'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bc3a5b'];$_f0094b_local_vars=$_f0094b_old_vars['_bc3a5b'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b7a796'];$_f0094b_local_vars=$_f0094b_old_vars['_b7a796'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1dada7'];$_f0094b_local_vars=$_f0094b_old_vars['_1dada7'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_61669c'];$_f0094b_local_vars=$_f0094b_old_vars['_61669c'];?>

          </h1>
    <?php $_f0094b_old_params['_0f7547']=$_f0094b_local_params;$_f0094b_old_vars['_0f7547']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_9e7f7c']=$_f0094b_local_params;$_f0094b_old_vars['_9e7f7c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_per_page','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_5de497']=$_f0094b_local_params;$_f0094b_old_vars['_5de497']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php ob_start();$_f0094b_old_params['_60a9db']=$_f0094b_local_params;$_f0094b_old_vars['_60a9db']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['trim_space'=>'3','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div class="text-right disp-option">
    <button type="button" class="btn btn-outline-primary btn-sm disp-option-button" data-toggle="modal" data-target="#dispOptions">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>

    </button>
    <button data-toggle="modal" data-target="#dispOptions" class="hidden btn btn-secondary alt-disp-option-button btn-sm" type="button">
    <i class="fa fa-television" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </button>
  </div>
  <div class="modal fade" id="dispOptions" tabindex="-1" role="dialog" aria-labelledby="dispOptionsTitle" aria-hidden="true"
    style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dispOptionsTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST">
        <input type="hidden" name="__mode" value="display_options">
        <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" name="_type" value="list">
        <input type="hidden" name="_reset" value="" id="_reset-disp-oprions">
        <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
      <?php $_f0094b_old_params['_d58c84']=$_f0094b_local_params;$_f0094b_old_vars['_d58c84']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d58c84'];$_f0094b_local_vars=$_f0094b_old_vars['_d58c84'];?>

      <?php $_f0094b_old_params['_dfac06']=$_f0094b_local_params;$_f0094b_old_vars['_dfac06']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_select" value="1">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_dfac06'];$_f0094b_local_vars=$_f0094b_old_vars['_dfac06'];?>

      <?php $_f0094b_old_params['_cd4626']=$_f0094b_local_params;$_f0094b_old_vars['_cd4626']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="dialog_view" value="1">
        <?php $_f0094b_old_params['_8647c2']=$_f0094b_local_params;$_f0094b_old_vars['_8647c2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ref_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="ref_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ref_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8647c2'];$_f0094b_local_vars=$_f0094b_old_vars['_8647c2'];?>

          <?php $_f0094b_old_params['_93b0b1']=$_f0094b_local_params;$_f0094b_old_vars['_93b0b1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="single_select" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_93b0b1'];$_f0094b_local_vars=$_f0094b_old_vars['_93b0b1'];?>

        <input type="hidden" name="target" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <input type="hidden" name="get_col" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
      <?php $_f0094b_old_params['_78de4e']=$_f0094b_local_params;$_f0094b_old_vars['_78de4e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workflow_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workflow_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <input type="hidden" name="workflow_type" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_78de4e'];$_f0094b_local_vars=$_f0094b_old_vars['_78de4e'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cd4626'];$_f0094b_local_vars=$_f0094b_old_vars['_cd4626'];?>

        <input type="hidden" name="return_args" value="<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'filter_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'insert_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'selected_ids_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
">
        <div class="modal-body">
          <div class="container-fluid">
          <?php $_f0094b_old_params['_e2b7a3']=$_f0094b_local_params;$_f0094b_old_vars['_e2b7a3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'cant_hide_in_list','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_8b6b54']=$_f0094b_local_params;$_f0094b_old_vars['_8b6b54']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

            <div class="row form-group">
              <?php $c_bd449d=null;$_f0094b_old_params['_bd449d']=$_f0094b_local_params;$_f0094b_old_vars['_bd449d']=$_f0094b_local_vars;$a_bd449d=$this->setup_args(['name'=>'disp_options','this_tag'=>'loop'],null,$this);$_bd449d=-1;$r_bd449d=true;while($r_bd449d===true):$r_bd449d=($_bd449d!==-1)?false:true;echo $this->block_loop($a_bd449d,$c_bd449d,$this,$r_bd449d,++$_bd449d,'_bd449d');ob_start();?>
<?php $c_bd449d = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_bd449d=false;}if($c_bd449d ):?>

            <?php $_f0094b_old_params['_46e6dd']=$_f0094b_local_params;$_f0094b_old_vars['_46e6dd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_46e6dd'];$_f0094b_local_vars=$_f0094b_old_vars['_46e6dd'];?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'__display','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_4017ff']=$_f0094b_local_params;$_f0094b_old_vars['_4017ff']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_6c2acb']=$_f0094b_local_params;$_f0094b_old_vars['_6c2acb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__key__','eq'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->function_setvar($this->setup_args(['name'=>'__display','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6c2acb'];$_f0094b_local_vars=$_f0094b_old_vars['_6c2acb'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4017ff'];$_f0094b_local_vars=$_f0094b_old_vars['_4017ff'];?>

                <?php $_f0094b_old_params['_27366a']=$_f0094b_local_params;$_f0094b_old_vars['_27366a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__display','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[2]','setvar'=>'_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('_type','setvar',$this),$this,'setvar')?>

                <label class="custom-control custom-checkbox 
                <?php $_f0094b_old_params['_16792c']=$_f0094b_local_params;$_f0094b_old_vars['_16792c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a3fcf9']=$_f0094b_local_params;$_f0094b_old_vars['_a3fcf9']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3fcf9'];$_f0094b_local_vars=$_f0094b_old_vars['_a3fcf9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_16792c'];$_f0094b_local_vars=$_f0094b_old_vars['_16792c'];?>

                <?php $_f0094b_old_params['_42c2d2']=$_f0094b_local_params;$_f0094b_old_vars['_42c2d2']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_list_options','value'=>'$__key__','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_42c2d2'];$_f0094b_local_vars=$_f0094b_old_vars['_42c2d2'];?>
">
                  <?php $_f0094b_old_params['_091268']=$_f0094b_local_params;$_f0094b_old_vars['_091268']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_type','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_091268'];$_f0094b_local_vars=$_f0094b_old_vars['_091268'];?>

                  <input <?php $_f0094b_old_params['_9569e5']=$_f0094b_local_params;$_f0094b_old_vars['_9569e5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9569e5'];$_f0094b_local_vars=$_f0094b_old_vars['_9569e5'];?>
 <?php $_f0094b_old_params['_a399ff']=$_f0094b_local_params;$_f0094b_old_vars['_a399ff']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'cant_hide_in_list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a399ff'];$_f0094b_local_vars=$_f0094b_old_vars['_a399ff'];?>
<?php $_f0094b_old_params['_d20c88']=$_f0094b_local_params;$_f0094b_old_vars['_d20c88']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_type','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d20c88'];$_f0094b_local_vars=$_f0094b_old_vars['_d20c88'];?>
<?php $_f0094b_old_params['_ee55c6']=$_f0094b_local_params;$_f0094b_old_vars['_ee55c6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_no_primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_c30a7f']=$_f0094b_local_params;$_f0094b_old_vars['_c30a7f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c30a7f'];$_f0094b_local_vars=$_f0094b_old_vars['_c30a7f'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ee55c6'];$_f0094b_local_vars=$_f0094b_old_vars['_ee55c6'];?>
<?php $_f0094b_old_params['_1b835b']=$_f0094b_local_params;$_f0094b_old_vars['_1b835b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1b835b'];$_f0094b_local_vars=$_f0094b_old_vars['_1b835b'];?>
 type="checkbox" class="custom-control-input disp-option-item" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                  <span class="custom-control-indicator<?php $_f0094b_old_params['_9fdd5b']=$_f0094b_local_params;$_f0094b_old_vars['_9fdd5b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9fdd5b'];$_f0094b_local_vars=$_f0094b_old_vars['_9fdd5b'];?>
"></span>
                  <span class="custom-control-description"> <?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</span>
                </label>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_27366a'];$_f0094b_local_vars=$_f0094b_old_vars['_27366a'];?>

            <?php $_f0094b_old_params['_b47094']=$_f0094b_local_params;$_f0094b_old_vars['_b47094']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              </div>
            </div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b47094'];$_f0094b_local_vars=$_f0094b_old_vars['_b47094'];?>

            <?php endif;$c_bd449d=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_bd449d'];$_f0094b_local_vars=$_f0094b_old_vars['_bd449d'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8b6b54'];$_f0094b_local_vars=$_f0094b_old_vars['_8b6b54'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e2b7a3'];$_f0094b_local_vars=$_f0094b_old_vars['_e2b7a3'];?>

            <div class="row form-group">
              <div class="col-md-2"><label for="_per_page"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Paging','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <input id="_per_page" step="1" list="per_page_complete" type="number" min="1" max="5000" class="form-control form-control-sm very-short control-inline" name="_per_page" value="<?php echo $this->function_var($this->setup_args(['name'=>'_per_page','this_tag'=>'var'],null,$this),$this)?>
">
                <?php echo $this->function_trans($this->setup_args(['phrase'=>'Items per Page','this_tag'=>'trans'],null,$this),$this)?>

              </div>
            </div>
            <?php $_f0094b_old_params['_a50759']=$_f0094b_local_params;$_f0094b_old_vars['_a50759']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'search_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Search','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <?php $c_a013a2=null;$_f0094b_old_params['_a013a2']=$_f0094b_local_params;$_f0094b_old_vars['_a013a2']=$_f0094b_local_vars;$a_a013a2=$this->setup_args(['name'=>'search_options','this_tag'=>'loop'],null,$this);$_a013a2=-1;$r_a013a2=true;while($r_a013a2===true):$r_a013a2=($_a013a2!==-1)?false:true;echo $this->block_loop($a_a013a2,$c_a013a2,$this,$r_a013a2,++$_a013a2,'_a013a2');ob_start();?>
<?php $c_a013a2 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_a013a2=false;}if($c_a013a2 ):?>

                  <label class="custom-control custom-checkbox">
                    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                    <input<?php $_f0094b_old_params['_708111']=$_f0094b_local_params;$_f0094b_old_vars['_708111']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_708111'];$_f0094b_local_vars=$_f0094b_old_vars['_708111'];?>
 type="checkbox" class="custom-control-input" name="_s_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description"> <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[0]','setvar'=>'search_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('search_col','setvar',$this),$this,'setvar')?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'$search_col','this_tag'=>'trans'],null,$this),$this)?>
</span>
                  </label>
                <?php endif;$c_a013a2=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_a013a2'];$_f0094b_local_vars=$_f0094b_old_vars['_a013a2'];?>

              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Search Type','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-5">
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_9a2269']=$_f0094b_local_params;$_f0094b_old_vars['_9a2269']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_search_type','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9a2269'];$_f0094b_local_vars=$_f0094b_old_vars['_9a2269'];?>
<?php $_f0094b_old_params['_1dc3af']=$_f0094b_local_params;$_f0094b_old_vars['_1dc3af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1dc3af'];$_f0094b_local_vars=$_f0094b_old_vars['_1dc3af'];?>
 name="_user_search_type" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Phrase','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_79bcb1']=$_f0094b_local_params;$_f0094b_old_vars['_79bcb1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_79bcb1'];$_f0094b_local_vars=$_f0094b_old_vars['_79bcb1'];?>
 name="_user_search_type" value="2">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'OR','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_ce6925']=$_f0094b_local_params;$_f0094b_old_vars['_ce6925']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce6925'];$_f0094b_local_vars=$_f0094b_old_vars['_ce6925'];?>
 name="_user_search_type" value="3">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'AND','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Keyword','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-3">
                <input type="hidden" name="_user_keep_search" value="0">
                <label class="custom-control custom-checkbox">
                  <input type="checkbox" <?php $_f0094b_old_params['_44da5a']=$_f0094b_local_params;$_f0094b_old_vars['_44da5a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_user_keep_search','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_44da5a'];$_f0094b_local_vars=$_f0094b_old_vars['_44da5a'];?>
 class="custom-control-input" name="_user_keep_search" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"> <?php echo $this->function_trans($this->setup_args(['phrase'=>'Keep Keyword','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Replace','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_54d607']=$_f0094b_local_params;$_f0094b_old_vars['_54d607']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_replace_type','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_54d607'];$_f0094b_local_vars=$_f0094b_old_vars['_54d607'];?>
 name="_user_replace_type" value="0">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Case Insensitive','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_479ffb']=$_f0094b_local_params;$_f0094b_old_vars['_479ffb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_replace_type','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_479ffb'];$_f0094b_local_vars=$_f0094b_old_vars['_479ffb'];?>
 name="_user_replace_type" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Case Sensitive','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
            </div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a50759'];$_f0094b_local_vars=$_f0094b_old_vars['_a50759'];?>

            <div class="row form-group">
              <?php $c_6be35c=null;$_f0094b_old_params['_6be35c']=$_f0094b_local_params;$_f0094b_old_vars['_6be35c']=$_f0094b_local_vars;$a_6be35c=$this->setup_args(['name'=>'sort_options','this_tag'=>'loop'],null,$this);$_6be35c=-1;$r_6be35c=true;while($r_6be35c===true):$r_6be35c=($_6be35c!==-1)?false:true;echo $this->block_loop($a_6be35c,$c_6be35c,$this,$r_6be35c,++$_6be35c,'_6be35c');ob_start();?>
<?php $c_6be35c = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_6be35c=false;}if($c_6be35c ):?>

              <?php $_f0094b_old_params['_e61350']=$_f0094b_local_params;$_f0094b_old_vars['_e61350']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Sort','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-7">
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e61350'];$_f0094b_local_vars=$_f0094b_old_vars['_e61350'];?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <label class="custom-control custom-radio">
                    <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_93b7e1']=$_f0094b_local_params;$_f0094b_old_vars['_93b7e1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_93b7e1'];$_f0094b_local_vars=$_f0094b_old_vars['_93b7e1'];?>
 name="_user_sort_by" value="<?php echo $this->function_var($this->setup_args(['name'=>'__key__','this_tag'=>'var'],null,$this),$this)?>
">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description"><?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</span>
                  </label>
              <?php $_f0094b_old_params['_fa5dc8']=$_f0094b_local_params;$_f0094b_old_vars['_fa5dc8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              </div>
              <div class="col-md-3">
                <select name="_user_sort_order" class="form-control custom-select">
                  <?php $c_7a4cf1=null;$_f0094b_old_params['_7a4cf1']=$_f0094b_local_params;$_f0094b_old_vars['_7a4cf1']=$_f0094b_local_vars;$a_7a4cf1=$this->setup_args(['name'=>'order_options','this_tag'=>'loop'],null,$this);$_7a4cf1=-1;$r_7a4cf1=true;while($r_7a4cf1===true):$r_7a4cf1=($_7a4cf1!==-1)?false:true;echo $this->block_loop($a_7a4cf1,$c_7a4cf1,$this,$r_7a4cf1,++$_7a4cf1,'_7a4cf1');ob_start();?>
<?php $c_7a4cf1 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_7a4cf1=false;}if($c_7a4cf1 ):?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__counter__','this_tag'=>'var'],null,$this),$this)?>
"<?php $_f0094b_old_params['_e8f930']=$_f0094b_local_params;$_f0094b_old_vars['_e8f930']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e8f930'];$_f0094b_local_vars=$_f0094b_old_vars['_e8f930'];?>
><?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</option>
                  <?php endif;$c_7a4cf1=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_7a4cf1'];$_f0094b_local_vars=$_f0094b_old_vars['_7a4cf1'];?>

                </select>
              </div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fa5dc8'];$_f0094b_local_vars=$_f0094b_old_vars['_fa5dc8'];?>

              <?php endif;$c_6be35c=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_6be35c'];$_f0094b_local_vars=$_f0094b_old_vars['_6be35c'];?>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="reset-disp-option" class="btn btn-warning"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Reset','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="submit" class="btn btn-primary"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save Changes','this_tag'=>'trans'],null,$this),$this)?>
</button>
        </div>
      </form>
      </div>
    </div>
  </div>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'list_max_cols','setvar'=>'_list_max_cols','this_tag'=>'property'],null,$this),$this),$this->setup_args('_list_max_cols','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_0bb787']=$_f0094b_local_params;$_f0094b_old_vars['_0bb787']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'dialog_max_cols','setvar'=>'_list_max_cols','this_tag'=>'property'],null,$this),$this),$this->setup_args('_list_max_cols','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0bb787'];$_f0094b_local_vars=$_f0094b_old_vars['_0bb787'];?>

<?php $_f0094b_old_params['_d234f0']=$_f0094b_local_params;$_f0094b_old_vars['_d234f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_list_max_cols','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
$('#reset-disp-option').click(function(){
    if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to reset display options?','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        return false;
    }
    $('#_reset-disp-oprions').val(1);
});
$('.disp-option-item').change(function(){
    let checkdCnt = 0;
    $('.disp-option-item').each(function() {
        if ( $(this).prop( 'checked' ) ) {
            checkdCnt++;
        }
    });
    if ( <?php echo $this->function_var($this->setup_args(['name'=>'_list_max_cols','this_tag'=>'var'],null,$this),$this)?>
 < checkdCnt ) {
      <?php $_f0094b_old_params['_7e2d4c']=$_f0094b_local_params;$_f0094b_old_vars['_7e2d4c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'More than %s columns are not reflected in the dialog.','params'=>'$_list_max_cols','this_tag'=>'trans'],null,$this),$this)?>
' );
      <?php else:?>

        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'More than %s columns are not reflected in the display.','params'=>'$_list_max_cols','this_tag'=>'trans'],null,$this),$this)?>
' );
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7e2d4c'];$_f0094b_local_vars=$_f0094b_old_vars['_7e2d4c'];?>

    }
});
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d234f0'];$_f0094b_local_vars=$_f0094b_old_vars['_d234f0'];?>

<?php endif;$_60a9db=ob_get_clean();echo $this->modifier_trim_space($_60a9db,$this->setup_args('3','trim_space',$this),$this,'trim_space');$_f0094b_local_params=$_f0094b_old_params['_60a9db'];$_f0094b_local_vars=$_f0094b_old_vars['_60a9db'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5de497'];$_f0094b_local_vars=$_f0094b_old_vars['_5de497'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9e7f7c'];$_f0094b_local_vars=$_f0094b_old_vars['_9e7f7c'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0f7547'];$_f0094b_local_vars=$_f0094b_old_vars['_0f7547'];?>

    <?php $c_d0bdaa=null;$_f0094b_old_params['_d0bdaa']=$_f0094b_local_params;$_f0094b_old_vars['_d0bdaa']=$_f0094b_local_vars;$a_d0bdaa=$this->setup_args(['name'=>'alert_close','this_tag'=>'setvarblock'],null,$this);ob_start();?>

      <button type="button" class="close" data-dismiss="alert" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
    <?php $c_d0bdaa=ob_get_clean();$c_d0bdaa=$this->block_setvarblock($a_d0bdaa,$c_d0bdaa,$this,$r_d0bdaa,1,'_d0bdaa');echo($c_d0bdaa); $_f0094b_local_params=$_f0094b_old_params['_d0bdaa'];?>

    <div class="alert alert-success hidden" id="header-alert" role="alert" tabindex="0">
      <button onclick="$('#header-alert').hide();" type="button" id="header-alert-close" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <span id="header-alert-message"></span>
    </div>
    <?php $_f0094b_old_params['_aab4c0']=$_f0094b_local_params;$_f0094b_old_vars['_aab4c0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'error','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_43bcd6']=$_f0094b_local_params;$_f0094b_old_vars['_43bcd6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <div class="alert alert-danger" id="header-error-message" tabindex="0" role="alert">
        <?php echo paml_modifier_funcs('nl2br', paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'error','escape'=>'1','nl2br'=>'1','this_tag'=>'var'],null,$this),$this),ENT_QUOTES))?>

      </div>
      <script>
      $('#header-error-message').focus();
      </script>
      <?php echo $this->function_setvar($this->setup_args(['name'=>'error','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_43bcd6'];$_f0094b_local_vars=$_f0094b_old_vars['_43bcd6'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aab4c0'];$_f0094b_local_vars=$_f0094b_old_vars['_aab4c0'];?>

<script>
$(function () {
    if (window.ontouchstart !== null) {
        $('[data-toggle="tooltip"]').tooltip();
    }
})
</script>
<?php else:?>

<?php $_f0094b_old_params['_cfb0e8']=$_f0094b_local_params;$_f0094b_old_vars['_cfb0e8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_fda501']=$_f0094b_local_params;$_f0094b_old_vars['_fda501']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_fix_spacebar','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_fix_spacebar','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fda501'];$_f0094b_local_vars=$_f0094b_old_vars['_fda501'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cfb0e8'];$_f0094b_local_vars=$_f0094b_old_vars['_cfb0e8'];?>

<!DOCTYPE html>
<html lang="<?php $_f0094b_old_params['_54c3d7']=$_f0094b_local_params;$_f0094b_old_vars['_54c3d7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_language','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_language','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
en<?php endif;$_f0094b_local_params=$_f0094b_old_params['_54c3d7'];$_f0094b_local_vars=$_f0094b_old_vars['_54c3d7'];?>
">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta name="author" content="Alfasado Inc.">
    <meta name="robots" content="noindex">
    <meta name="robots" content="nofollow">
    <link rel="icon" href="favicon.ico">
    <title><?php $_f0094b_old_params['_b7eda9']=$_f0094b_local_params;$_f0094b_old_vars['_b7eda9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'html_title','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'html_title','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php else:?>
<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'page_title','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b7eda9'];$_f0094b_local_vars=$_f0094b_old_vars['_b7eda9'];?>
<?php $_f0094b_old_params['_c33655']=$_f0094b_local_params;$_f0094b_old_vars['_c33655']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_aa415d']=$_f0094b_local_params;$_f0094b_old_vars['_aa415d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 | <?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'workspace_name','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_aa415d'];$_f0094b_local_vars=$_f0094b_old_vars['_aa415d'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c33655'];$_f0094b_local_vars=$_f0094b_old_vars['_c33655'];?>
 | <?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'appname','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</title>
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/bootstrap.min.css" rel="stylesheet">
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery-3.2.1.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tether.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/bootstrap.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery-ui.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.ui.touch-punch.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.cookie.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/clipboard.min.js"></script>
    <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/ie10-viewport-bug-workaround.js"></script>
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/theme.min.css?v=<?php echo $this->function_var($this->setup_args(['name'=>'version','this_tag'=>'var'],null,$this),$this)?>
" rel="stylesheet">
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/jquery-ui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/jquery.fileupload.css">
    <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'barcolor','escape'=>'','setvar'=>'sys_barcolor','this_tag'=>'getoption'],null,$this),$this),ENT_QUOTES),$this->setup_args('sys_barcolor','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'bartextcolor','escape'=>'','setvar'=>'sys_bartextcolor','this_tag'=>'getoption'],null,$this),$this),ENT_QUOTES),$this->setup_args('sys_bartextcolor','setvar',$this),$this,'setvar')?>

    <style type="text/css">
    <?php $_f0094b_old_params['_f90fca']=$_f0094b_local_params;$_f0094b_old_vars['_f90fca']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_stickey_buttons','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_17c562']=$_f0094b_local_params;$_f0094b_old_vars['_17c562']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_3c59d5']=$_f0094b_local_params;$_f0094b_old_vars['_3c59d5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_barcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'stickybgcolor','value'=>'$workspace_barcolor','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3c59d5'];$_f0094b_local_vars=$_f0094b_old_vars['_3c59d5'];?>

      <?php $_f0094b_old_params['_85d5cc']=$_f0094b_local_params;$_f0094b_old_vars['_85d5cc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_bartextcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'stickycolor','value'=>'$workspace_bartextcolor','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_85d5cc'];$_f0094b_local_vars=$_f0094b_old_vars['_85d5cc'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_17c562'];$_f0094b_local_vars=$_f0094b_old_vars['_17c562'];?>

      <?php $_f0094b_old_params['_40d94f']=$_f0094b_local_params;$_f0094b_old_vars['_40d94f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'stickybgcolor','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'barcolor','setvar'=>'stickybgcolor','this_tag'=>'var'],null,$this),$this),$this->setup_args('stickybgcolor','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_40d94f'];$_f0094b_local_vars=$_f0094b_old_vars['_40d94f'];?>

      <?php $_f0094b_old_params['_764e2e']=$_f0094b_local_params;$_f0094b_old_vars['_764e2e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'stickycolor','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'bartextcolor','setvar'=>'stickycolor','this_tag'=>'var'],null,$this),$this),$this->setup_args('stickycolor','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_764e2e'];$_f0094b_local_vars=$_f0094b_old_vars['_764e2e'];?>

      @media ( min-height: 576px ) {
      .edit-action-bar { position: sticky; bottom: 0px; z-index: 1020; background: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickybgcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
;
          padding: 10px 0px; vertical-align: middle; border-top: 1px solid #CCC; }
      .edit-action-bar button { border: 1px solid <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickycolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
; }
      .edit-action-bar label { color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'stickycolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
; }
      }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f90fca'];$_f0094b_local_vars=$_f0094b_old_vars['_f90fca'];?>

      .fixed-top { z-index: 1030 !important; }
      .nav-top,.navbar-brand,.dropdown-menu, .nav-top a, footer{ background-color: <?php echo $this->function_var($this->setup_args(['name'=>'sys_barcolor','this_tag'=>'var'],null,$this),$this)?>
 !important; color: <?php echo $this->function_var($this->setup_args(['name'=>'sys_bartextcolor','this_tag'=>'var'],null,$this),$this)?>
 !important; }
      .nav-top .my-sm-0, .nav-top .navbar-toggler{ border-color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'bartextcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; }
      <?php $_f0094b_old_params['_f42c24']=$_f0094b_local_params;$_f0094b_old_vars['_f42c24']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_barcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php ob_start();$_f0094b_old_params['_ae7df8']=$_f0094b_local_params;$_f0094b_old_vars['_ae7df8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_bartextcolor','escape'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      .brand-workspace, .workspace-bar, .workspace-bar a,
      .workspace-bar .dropdown-menu{ background-color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_barcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_bartextcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; }
      .workspace-bar button.my-sm-0{ border-color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_bartextcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; }
      .workspace-bar .my-sm-0, .workspace-bar .navbar-toggler{ border-color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_bartextcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; }
      <?php endif;$_ae7df8=ob_get_clean();echo paml_htmlspecialchars($_ae7df8,ENT_QUOTES);$_f0094b_local_params=$_f0094b_old_params['_ae7df8'];$_f0094b_local_vars=$_f0094b_old_vars['_ae7df8'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f42c24'];$_f0094b_local_vars=$_f0094b_old_vars['_f42c24'];?>

      <?php $_f0094b_old_params['_c31f17']=$_f0094b_local_params;$_f0094b_old_vars['_c31f17']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      .form-control, .custom-select, .relation_nestable_list, .custom-control-indicator, .tox-tinymce, .mce-tinymce, .btn-outline-secondary, .btn-secondary, .pagination-sm li a{ border: 1px solid <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important }
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c31f17'];$_f0094b_local_vars=$_f0094b_old_vars['_c31f17'];?>

      <?php $_f0094b_old_params['_291ee9']=$_f0094b_local_params;$_f0094b_old_vars['_291ee9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'panel_width','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
.nav-link{ max-width: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'panel_width','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
px !important }<?php endif;$_f0094b_local_params=$_f0094b_old_params['_291ee9'];$_f0094b_local_vars=$_f0094b_old_vars['_291ee9'];?>

      .navbar .btn { width:35px }
      <?php $_f0094b_old_params['_e666e9']=$_f0094b_local_params;$_f0094b_old_vars['_e666e9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'in_editing','value'=>'true','this_tag'=>'setvar'],null,$this),$this)?>

      <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'this_mode','eq'=>'config','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'in_editing','value'=>'true','this_tag'=>'setvar'],null,$this),$this)?>

      <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'this_mode','eq'=>'upgrade','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'in_editing','value'=>'true','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e666e9'];$_f0094b_local_vars=$_f0094b_old_vars['_e666e9'];?>

      <?php $_f0094b_old_params['_da9fe1']=$_f0094b_local_params;$_f0094b_old_vars['_da9fe1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'in_editing','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      @media (min-width: 992px) {
      .col-lg-2{ max-width:13rem !important }
      .col-lg-10{ min-width: -webkit-calc(100% - 13rem); min-width: calc(100% - 13rem) } }
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_da9fe1'];$_f0094b_local_vars=$_f0094b_old_vars['_da9fe1'];?>

    </style>
    <?php echo $this->function_var($this->setup_args(['name'=>'html_head','this_tag'=>'var'],null,$this),$this)?>

    <?php $_f0094b_old_params['_26c25b']=$_f0094b_local_params;$_f0094b_old_vars['_26c25b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'invisible_selector','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <style><?php echo $this->modifier_join($this->function_var($this->setup_args(['name'=>'invisible_selector','join'=>',','this_tag'=>'var'],null,$this),$this),$this->setup_args(',','join',$this),$this,'join')?>
{display:none !important}</style>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_26c25b'];$_f0094b_local_vars=$_f0094b_old_vars['_26c25b'];?>

    <?php $_f0094b_old_params['_74fe22']=$_f0094b_local_params;$_f0094b_old_vars['_74fe22']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<style><?php $_f0094b_old_params['_9f4fbc']=$_f0094b_local_params;$_f0094b_old_vars['_9f4fbc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
body { padding-top: 80px; } .workspace-bar { margin-top: 0;}
    <?php else:?>
.workspace-bar { margin-bottom: 14px;}<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f4fbc'];$_f0094b_local_vars=$_f0094b_old_vars['_9f4fbc'];?>
</style><?php endif;$_f0094b_local_params=$_f0094b_old_params['_74fe22'];$_f0094b_local_vars=$_f0094b_old_vars['_74fe22'];?>

    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'user_css','setvar'=>'config_user_css','this_tag'=>'property'],null,$this),$this),$this->setup_args('config_user_css','setvar',$this),$this,'setvar')?>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'user_js','setvar'=>'config_user_js','this_tag'=>'property'],null,$this),$this),$this->setup_args('config_user_js','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_cbb223']=$_f0094b_local_params;$_f0094b_old_vars['_cbb223']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'config_user_css','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<link rel="stylesheet" href="<?php echo $this->function_var($this->setup_args(['name'=>'config_user_css','this_tag'=>'var'],null,$this),$this)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_cbb223'];$_f0094b_local_vars=$_f0094b_old_vars['_cbb223'];?>

    <?php $_f0094b_old_params['_1bfa9f']=$_f0094b_local_params;$_f0094b_old_vars['_1bfa9f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'config_user_js','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<script src="<?php echo $this->function_var($this->setup_args(['name'=>'config_user_js','this_tag'=>'var'],null,$this),$this)?>
"></script><?php endif;$_f0094b_local_params=$_f0094b_old_params['_1bfa9f'];$_f0094b_local_vars=$_f0094b_old_vars['_1bfa9f'];?>

  </head>
  <body class="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'body_class','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<?php $_f0094b_old_params['_daa1dd']=$_f0094b_local_params;$_f0094b_old_vars['_daa1dd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
jQuery.fn.extend({
  ksortable: function(options) {
    let self = this;
    self.sortable(options);
    $(self).children().attr('tabindex', 0);
    $(self).on('keydown', '> *', function(event) {
    // $('li', this).attr('tabindex', 0).bind('keydown', function(event) {
        if ( event.target && /^(input|textarea|select)$/.test( event.target.tagName.toLowerCase()) ) {
            return;
        }
        if(event.which == 37 || event.which == 38) { // left or up
          $(this).insertBefore($(this).prev());
        } 
        if(event.which == 39 || event.which == 40) { // right or down
          $(this).insertAfter($(this).next()); 
        }     
        if (event.which == 84 || event.which == 33) { // "t" or page-up
          $(this).parent().prepend($(this));
        } 
        if (event.which == 66 || event.which == 34) { // "b" or page-down
          $(this).parent().append($(this));
        } 
        if(event.which == 82) { // "r"
          var p = $(this).parent();
          p.children().each(function(){p.prepend($(this))})
        } 
        if(event.which == 83) { // "s"
          var p = $(this).parent();
          p.children().each(function(){
            if(Math.random()<.5)
              p.prepend($(this));
            else
              p.append($(this));
          })
        }
        var keyNums = [33, 34, 37, 38, 39, 40, 66, 82, 83, 84];
        var keyNum = event.which + 0;
        if (keyNums.indexOf(keyNum) >= 0){
          event.stopPropagation();
          $(this).focus();
          if ( $(this).hasClass("edit-options-child") ) {
            sort_fields();
          } else if ( $(this).hasClass("badge-relation") ) {
            editContentChanged = true;
          }
          $(self).sortable('refresh').sortable('refreshPositions');
          $(self).trigger('ksortupdate', this);
        }
    });
    return self;
  }
});
</script>
<?php $_f0094b_old_params['_53a4f3']=$_f0094b_local_params;$_f0094b_old_vars['_53a4f3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_loader','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div id="__loader-bg">
  <img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif" alt="" width="45" height="45">
</div>
<script>
window.addEventListener('load', function(){
    $('#__loader-bg').hide("fast");
});
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_53a4f3'];$_f0094b_local_vars=$_f0094b_old_vars['_53a4f3'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_daa1dd'];$_f0094b_local_vars=$_f0094b_old_vars['_daa1dd'];?>

  <div id="main-content">
<?php $_f0094b_old_params['_8522d0']=$_f0094b_local_params;$_f0094b_old_vars['_8522d0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div class="fixed-top">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8522d0'];$_f0094b_local_vars=$_f0094b_old_vars['_8522d0'];?>

  <?php $_f0094b_old_params['_95fb97']=$_f0094b_local_params;$_f0094b_old_vars['_95fb97']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_e7ff58']=$_f0094b_local_params;$_f0094b_old_vars['_e7ff58']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.__mode','match'=>'/^(?:login|logout)$/iu','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'is_login','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e7ff58'];$_f0094b_local_vars=$_f0094b_old_vars['_e7ff58'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_95fb97'];$_f0094b_local_vars=$_f0094b_old_vars['_95fb97'];?>

  <?php $_f0094b_old_params['_42c3aa']=$_f0094b_local_params;$_f0094b_old_vars['_42c3aa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'member_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'is_login','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_42c3aa'];$_f0094b_local_vars=$_f0094b_old_vars['_42c3aa'];?>

    <nav class="bar navbar navbar-toggleable-md navbar-inverse bg-inverse nav-top<?php $_f0094b_old_params['_304483']=$_f0094b_local_params;$_f0094b_old_vars['_304483']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 fixed-top<?php endif;$_f0094b_local_params=$_f0094b_old_params['_304483'];$_f0094b_local_vars=$_f0094b_old_vars['_304483'];?>
">
      <?php $_f0094b_old_params['_c2976b']=$_f0094b_local_params;$_f0094b_old_vars['_c2976b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'upgrade','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_225405']=$_f0094b_local_params;$_f0094b_old_vars['_225405']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'install','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a class="navbar-brand brand-prototype" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
">PowerCMS X</a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_225405'];$_f0094b_local_vars=$_f0094b_old_vars['_225405'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c2976b'];$_f0094b_local_vars=$_f0094b_old_vars['_c2976b'];?>

      <?php $_f0094b_old_params['_ca52a3']=$_f0094b_local_params;$_f0094b_old_vars['_ca52a3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'is_login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <button style="background-color: <?php echo $this->function_var($this->setup_args(['name'=>'sys_barcolor','this_tag'=>'var'],null,$this),$this)?>
 !important; color: <?php echo $this->function_var($this->setup_args(['name'=>'sys_bartextcolor','this_tag'=>'var'],null,$this),$this)?>
 !important; z-index:7" class="navbar-toggler navbar-toggler-right hidden-lg-up" type="button" data-toggle="collapse" data-target="#navbars" aria-controls="navbars" aria-expanded="false" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Toggle Navigation','this_tag'=>'trans'],null,$this),$this)?>
">
        <i class="fa fa-bars" aria-hidden="true"></i>
        <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Toggle Navigation','this_tag'=>'trans'],null,$this),$this)?>
</span>
      </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ca52a3'];$_f0094b_local_vars=$_f0094b_old_vars['_ca52a3'];?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_param','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_d8432c']=$_f0094b_local_params;$_f0094b_old_vars['_d8432c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $c_674c8d=null;$_f0094b_old_params['_674c8d']=$_f0094b_local_params;$_f0094b_old_vars['_674c8d']=$_f0094b_local_vars;$a_674c8d=$this->setup_args(['name'=>'workspace_param','this_tag'=>'setvarblock'],null,$this);ob_start();?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $c_674c8d=ob_get_clean();$c_674c8d=$this->block_setvarblock($a_674c8d,$c_674c8d,$this,$r_674c8d,1,'_674c8d');echo($c_674c8d); $_f0094b_local_params=$_f0094b_old_params['_674c8d'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d8432c'];$_f0094b_local_vars=$_f0094b_old_vars['_d8432c'];?>

      <?php $_f0094b_old_params['_8f31d6']=$_f0094b_local_params;$_f0094b_old_vars['_8f31d6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'upgrade','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <a class="navbar-brand"<?php $_f0094b_old_params['_3a0bd9']=$_f0094b_local_params;$_f0094b_old_vars['_3a0bd9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3a0bd9'];$_f0094b_local_vars=$_f0094b_old_vars['_3a0bd9'];?>
 style="z-index:1"><?php echo $this->modifier_trim_to(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'appname','escape'=>'','trim_to'=>'20+...','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('20+...','trim_to',$this),$this,'trim_to')?>
<span id="navbar-brand-end"></span></a>
      <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_counter','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

      <?php $_f0094b_old_params['_b7461f']=$_f0094b_local_params;$_f0094b_old_vars['_b7461f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_9ff185']=$_f0094b_local_params;$_f0094b_old_vars['_9ff185']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'ws_selector_limit','setvar'=>'selector_limit','this_tag'=>'property'],null,$this),$this),$this->setup_args('selector_limit','setvar',$this),$this,'setvar')?>

        <?php $_f0094b_old_params['_34709e']=$_f0094b_local_params;$_f0094b_old_vars['_34709e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'selector_limit','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'selector_limit','value'=>'16','this_tag'=>'setvar'],null,$this),$this)?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_34709e'];$_f0094b_local_vars=$_f0094b_old_vars['_34709e'];?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'selector_limit','op'=>'+','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'ws_sort_by','value'=>'last_update','this_tag'=>'setvar'],null,$this),$this)?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'ws_sort_order','value'=>'descend','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_fcc721']=$_f0094b_local_params;$_f0094b_old_vars['_fcc721']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_space_order','eq'=>'Default','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'ws_sort_by','value'=>'order','this_tag'=>'setvar'],null,$this),$this)?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'ws_sort_order','value'=>'ascend','this_tag'=>'setvar'],null,$this),$this)?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fcc721'];$_f0094b_local_vars=$_f0094b_old_vars['_fcc721'];?>

        <?php $c_ae9f0b=null;$_f0094b_old_params['_ae9f0b']=$_f0094b_local_params;$_f0094b_old_vars['_ae9f0b']=$_f0094b_local_vars;$a_ae9f0b=$this->setup_args(['cols'=>'id,name,barcolor,bartextcolor','model'=>'workspace','can_access'=>'1','limit'=>'$selector_limit','sort_by'=>'$ws_sort_by','direction'=>'$ws_sort_order','this_tag'=>'objectloop'],null,$this);$_ae9f0b=-1;$r_ae9f0b=true;while($r_ae9f0b===true):$r_ae9f0b=($_ae9f0b!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_ae9f0b,$c_ae9f0b,$this,$r_ae9f0b,++$_ae9f0b,'_ae9f0b');ob_start();?>
<?php $c_ae9f0b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_ae9f0b=false;}if($c_ae9f0b ):?>

        <?php $_f0094b_old_params['_1dfbcb']=$_f0094b_local_params;$_f0094b_old_vars['_1dfbcb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <div class="hidden nav-item dropdown workspace-dd-wrapper active" id="workspace-selector" style="z-index:5">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'WorkSpaces','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
            <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select a WorkSpace','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-cube workspace-dd" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'WorkSpaces','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1dfbcb'];$_f0094b_local_vars=$_f0094b_old_vars['_1dfbcb'];?>

            <?php $_f0094b_old_params['_718a49']=$_f0094b_local_params;$_f0094b_old_vars['_718a49']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','lt'=>'$selector_limit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <a<?php $_f0094b_old_params['_7a2a22']=$_f0094b_local_params;$_f0094b_old_vars['_7a2a22']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_color_the_selector','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_900bf9']=$_f0094b_local_params;$_f0094b_old_vars['_900bf9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'barcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a73bc9']=$_f0094b_local_params;$_f0094b_old_vars['_a73bc9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'bartextcolor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 style="<?php $_f0094b_old_params['_3428da']=$_f0094b_local_params;$_f0094b_old_vars['_3428da']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__last__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
margin-bottom:3px;<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3428da'];$_f0094b_local_vars=$_f0094b_old_vars['_3428da'];?>
background-color:<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'barcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important;color:<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'bartextcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a73bc9'];$_f0094b_local_vars=$_f0094b_old_vars['_a73bc9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_900bf9'];$_f0094b_local_vars=$_f0094b_old_vars['_900bf9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7a2a22'];$_f0094b_local_vars=$_f0094b_old_vars['_7a2a22'];?>
 class="dropdown-item btn-sm <?php $_f0094b_old_params['_80e773']=$_f0094b_local_params;$_f0094b_old_vars['_80e773']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'id','eq'=>'$workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
active<?php endif;$_f0094b_local_params=$_f0094b_old_params['_80e773'];$_f0094b_local_vars=$_f0094b_old_vars['_80e773'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?_selector=1&amp;<?php $_f0094b_old_params['_b0d8a5']=$_f0094b_local_params;$_f0094b_old_vars['_b0d8a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request_method','eq'=>'GET','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_5e2c5a']=$_f0094b_local_params;$_f0094b_old_vars['_5e2c5a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->modifier_replace($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'query_string','regex_replace'=>'\'/&offset=[0-9]*/\',\'\'','replace'=>'\'does_act=1\',\'\'','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&offset=[0-9]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('\\\'does_act=1\\\',\\\'\\\'','replace',$this),$this,'replace'),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5e2c5a'];$_f0094b_local_vars=$_f0094b_old_vars['_5e2c5a'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b0d8a5'];$_f0094b_local_vars=$_f0094b_old_vars['_b0d8a5'];?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
">
              <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

            </a>
            <?php else:?>

            <a class="dropdown-item btn-sm" data-toggle="modal" data-target="#modal"
                data-href="" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=workspace&amp;dialog_view=1&amp;workspace_select=1"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_718a49'];$_f0094b_local_vars=$_f0094b_old_vars['_718a49'];?>

        <?php $_f0094b_old_params['_a1b6db']=$_f0094b_local_params;$_f0094b_old_vars['_a1b6db']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_counter','value'=>'$__counter__','this_tag'=>'setvar'],null,$this),$this)?>

            </div>
          </div>
<script>
$(window).on('load resize', function(){
  $('#navbar-brand-end').css('display','inline-block');
  var brandOffset = $('#navbar-brand-end').offset();
  $('#workspace-selector').css('position','absolute');
  $('#workspace-selector').css('left',brandOffset.left + 8);
  $('#workspace-selector').css('top','1px');
  if ( $('#workspace-selector').is(':hidden') ) {
    $('#workspace-selector').show('fast');
  }
});
</script>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a1b6db'];$_f0094b_local_vars=$_f0094b_old_vars['_a1b6db'];?>

        <?php endif;$c_ae9f0b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_ae9f0b'];$_f0094b_local_vars=$_f0094b_old_vars['_ae9f0b'];?>

      <div class="collapse navbar-collapse" id="navbars" <?php $_f0094b_old_params['_8b1b6f']=$_f0094b_local_params;$_f0094b_old_vars['_8b1b6f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'workspace_counter','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
style="margin-left:-66px;z-index:0"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8b1b6f'];$_f0094b_local_vars=$_f0094b_old_vars['_8b1b6f'];?>
>
        <ul class="nav-pills navbar-nav mr-auto" id="system-panel">
        <?php $c_d60dea=null;$_f0094b_old_params['_d60dea']=$_f0094b_local_params;$_f0094b_old_vars['_d60dea']=$_f0094b_local_vars;$a_d60dea=$this->setup_args(['menu_type'=>'6','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_d60dea=-1;$r_d60dea=true;while($r_d60dea===true):$r_d60dea=($_d60dea!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_d60dea,$c_d60dea,$this,$r_d60dea,++$_d60dea,'_d60dea');ob_start();?>
<?php $c_d60dea = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_d60dea=false;}if($c_d60dea ):?>

          <?php $_f0094b_old_params['_ba6646']=$_f0094b_local_params;$_f0094b_old_vars['_ba6646']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-bookmark" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ba6646'];$_f0094b_local_vars=$_f0094b_old_vars['_ba6646'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_28f393']=$_f0094b_local_params;$_f0094b_old_vars['_28f393']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_28f393'];$_f0094b_local_vars=$_f0094b_old_vars['_28f393'];?>

        <?php endif;$c_d60dea=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_d60dea'];$_f0094b_local_vars=$_f0094b_old_vars['_d60dea'];?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'panel_limit','setvar'=>'panel_limit','this_tag'=>'property'],null,$this),$this),$this->setup_args('panel_limit','setvar',$this),$this,'setvar')?>

        <?php $c_30e561=null;$_f0094b_old_params['_30e561']=$_f0094b_local_params;$_f0094b_old_vars['_30e561']=$_f0094b_local_vars;$a_30e561=$this->setup_args(['limit'=>'$panel_limit','menu_type'=>'1','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_30e561=-1;$r_30e561=true;while($r_30e561===true):$r_30e561=($_30e561!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_30e561,$c_30e561,$this,$r_30e561,++$_30e561,'_30e561');ob_start();?>
<?php $c_30e561 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_30e561=false;}if($c_30e561 ):?>

          <li class="nav-item <?php $_f0094b_old_params['_8a93cd']=$_f0094b_local_params;$_f0094b_old_vars['_8a93cd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'$model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
active<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8a93cd'];$_f0094b_local_vars=$_f0094b_old_vars['_8a93cd'];?>
">
            <?php echo $this->modifier_setvar($this->modifier_count_chars($this->function_var($this->setup_args(['name'=>'label','count_chars'=>'','setvar'=>'count_chars','this_tag'=>'var'],null,$this),$this),$this->setup_args('','count_chars',$this),$this,'count_chars'),$this->setup_args('count_chars','setvar',$this),$this,'setvar')?>
<a class="nav-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"<?php $_f0094b_old_params['_23e327']=$_f0094b_local_params;$_f0094b_old_vars['_23e327']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'count_chars','gt'=>'18','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 data-toggle="tooltip" data-placement="right" title="<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_23e327'];$_f0094b_local_vars=$_f0094b_old_vars['_23e327'];?>
><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          </li>
        <?php endif;$c_30e561=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_30e561'];$_f0094b_local_vars=$_f0094b_old_vars['_30e561'];?>

        <?php $c_b0cd23=null;$_f0094b_old_params['_b0cd23']=$_f0094b_local_params;$_f0094b_old_vars['_b0cd23']=$_f0094b_local_vars;$a_b0cd23=$this->setup_args(['limit'=>'100000','offset'=>'$panel_limit','menu_type'=>'1','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_b0cd23=-1;$r_b0cd23=true;while($r_b0cd23===true):$r_b0cd23=($_b0cd23!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_b0cd23,$c_b0cd23,$this,$r_b0cd23,++$_b0cd23,'_b0cd23');ob_start();?>
<?php $c_b0cd23 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_b0cd23=false;}if($c_b0cd23 ):?>

          <?php $_f0094b_old_params['_205dbc']=$_f0094b_local_params;$_f0094b_old_vars['_205dbc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-window-maximize" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_205dbc'];$_f0094b_local_vars=$_f0094b_old_vars['_205dbc'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_be9304']=$_f0094b_local_params;$_f0094b_old_vars['_be9304']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_be9304'];$_f0094b_local_vars=$_f0094b_old_vars['_be9304'];?>

        <?php endif;$c_b0cd23=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_b0cd23'];$_f0094b_local_vars=$_f0094b_old_vars['_b0cd23'];?>

        <?php $c_0ef3f6=null;$_f0094b_old_params['_0ef3f6']=$_f0094b_local_params;$_f0094b_old_vars['_0ef3f6']=$_f0094b_local_vars;$a_0ef3f6=$this->setup_args(['menu_type'=>'2','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_0ef3f6=-1;$r_0ef3f6=true;while($r_0ef3f6===true):$r_0ef3f6=($_0ef3f6!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_0ef3f6,$c_0ef3f6,$this,$r_0ef3f6,++$_0ef3f6,'_0ef3f6');ob_start();?>
<?php $c_0ef3f6 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_0ef3f6=false;}if($c_0ef3f6 ):?>

          <?php $_f0094b_old_params['_586d13']=$_f0094b_local_params;$_f0094b_old_vars['_586d13']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-cog" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_586d13'];$_f0094b_local_vars=$_f0094b_old_vars['_586d13'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_d40815']=$_f0094b_local_params;$_f0094b_old_vars['_d40815']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d40815'];$_f0094b_local_vars=$_f0094b_old_vars['_d40815'];?>

        <?php endif;$c_0ef3f6=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_0ef3f6'];$_f0094b_local_vars=$_f0094b_old_vars['_0ef3f6'];?>

        <?php $c_4473f4=null;$_f0094b_old_params['_4473f4']=$_f0094b_local_params;$_f0094b_old_vars['_4473f4']=$_f0094b_local_vars;$a_4473f4=$this->setup_args(['menu_type'=>'3','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_4473f4=-1;$r_4473f4=true;while($r_4473f4===true):$r_4473f4=($_4473f4!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_4473f4,$c_4473f4,$this,$r_4473f4,++$_4473f4,'_4473f4');ob_start();?>
<?php $c_4473f4 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_4473f4=false;}if($c_4473f4 ):?>

          <?php $_f0094b_old_params['_02cf2a']=$_f0094b_local_params;$_f0094b_old_vars['_02cf2a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-database" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_02cf2a'];$_f0094b_local_vars=$_f0094b_old_vars['_02cf2a'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_3bd77d']=$_f0094b_local_params;$_f0094b_old_vars['_3bd77d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3bd77d'];$_f0094b_local_vars=$_f0094b_old_vars['_3bd77d'];?>

        <?php endif;$c_4473f4=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_4473f4'];$_f0094b_local_vars=$_f0094b_old_vars['_4473f4'];?>

        <?php $c_f0377b=null;$_f0094b_old_params['_f0377b']=$_f0094b_local_params;$_f0094b_old_vars['_f0377b']=$_f0094b_local_vars;$a_f0377b=$this->setup_args(['menu_type'=>'4','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_f0377b=-1;$r_f0377b=true;while($r_f0377b===true):$r_f0377b=($_f0377b!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_f0377b,$c_f0377b,$this,$r_f0377b,++$_f0377b,'_f0377b');ob_start();?>
<?php $c_f0377b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f0377b=false;}if($c_f0377b ):?>

          <?php $_f0094b_old_params['_e5ac8d']=$_f0094b_local_params;$_f0094b_old_vars['_e5ac8d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-comments" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e5ac8d'];$_f0094b_local_vars=$_f0094b_old_vars['_e5ac8d'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_25c150']=$_f0094b_local_params;$_f0094b_old_vars['_25c150']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_25c150'];$_f0094b_local_vars=$_f0094b_old_vars['_25c150'];?>

        <?php endif;$c_f0377b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f0377b'];$_f0094b_local_vars=$_f0094b_old_vars['_f0377b'];?>

        <?php $c_ad5ec2=null;$_f0094b_old_params['_ad5ec2']=$_f0094b_local_params;$_f0094b_old_vars['_ad5ec2']=$_f0094b_local_vars;$a_ad5ec2=$this->setup_args(['menu_type'=>'5','permission'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_ad5ec2=-1;$r_ad5ec2=true;while($r_ad5ec2===true):$r_ad5ec2=($_ad5ec2!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_ad5ec2,$c_ad5ec2,$this,$r_ad5ec2,++$_ad5ec2,'_ad5ec2');ob_start();?>
<?php $c_ad5ec2 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_ad5ec2=false;}if($c_ad5ec2 ):?>

          <?php $_f0094b_old_params['_e5776c']=$_f0094b_local_params;$_f0094b_old_vars['_e5776c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-user-plus" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e5776c'];$_f0094b_local_vars=$_f0094b_old_vars['_e5776c'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_742563']=$_f0094b_local_params;$_f0094b_old_vars['_742563']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_742563'];$_f0094b_local_vars=$_f0094b_old_vars['_742563'];?>

        <?php endif;$c_ad5ec2=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_ad5ec2'];$_f0094b_local_vars=$_f0094b_old_vars['_ad5ec2'];?>

        <?php $c_3733e3=null;$_f0094b_old_params['_3733e3']=$_f0094b_local_params;$_f0094b_old_vars['_3733e3']=$_f0094b_local_vars;$a_3733e3=$this->setup_args(['name'=>'system_menus','this_tag'=>'loop'],null,$this);$_3733e3=-1;$r_3733e3=true;while($r_3733e3===true):$r_3733e3=($_3733e3!==-1)?false:true;echo $this->block_loop($a_3733e3,$c_3733e3,$this,$r_3733e3,++$_3733e3,'_3733e3');ob_start();?>
<?php $c_3733e3 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_3733e3=false;}if($c_3733e3 ):?>

          <?php $_f0094b_old_params['_2e1ef1']=$_f0094b_local_params;$_f0094b_old_vars['_2e1ef1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <?php $_f0094b_old_params['_7b9b3f']=$_f0094b_local_params;$_f0094b_old_vars['_7b9b3f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'scheme_upgrade_count','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<div class="badge-icon-badge"></div><?php elseif($this->conditional_elseif($this->setup_args(['name'=>'plugin_upgrade_count','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
<div class="badge-icon-badge"></div><?php endif;$_f0094b_local_params=$_f0094b_old_params['_7b9b3f'];$_f0094b_local_vars=$_f0094b_old_vars['_7b9b3f'];?>

            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-plug" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e1ef1'];$_f0094b_local_vars=$_f0094b_old_vars['_2e1ef1'];?>

            <a <?php $_f0094b_old_params['_d1d56c']=$_f0094b_local_params;$_f0094b_old_vars['_d1d56c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
target="<?php echo $this->function_var($this->setup_args(['name'=>'menu_target','this_tag'=>'var'],null,$this),$this)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d1d56c'];$_f0094b_local_vars=$_f0094b_old_vars['_d1d56c'];?>
 class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=<?php echo $this->function_var($this->setup_args(['name'=>'menu_mode','this_tag'=>'var'],null,$this),$this)?>
<?php $c_1eed5b=null;$_f0094b_old_params['_1eed5b']=$_f0094b_local_params;$_f0094b_old_vars['_1eed5b']=$_f0094b_local_vars;$a_1eed5b=$this->setup_args(['name'=>'menu_args','this_tag'=>'loop'],null,$this);$_1eed5b=-1;$r_1eed5b=true;while($r_1eed5b===true):$r_1eed5b=($_1eed5b!==-1)?false:true;echo $this->block_loop($a_1eed5b,$c_1eed5b,$this,$r_1eed5b,++$_1eed5b,'_1eed5b');ob_start();?>
<?php $c_1eed5b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_1eed5b=false;}if($c_1eed5b ):?>
&amp;<?php echo $this->function_var($this->setup_args(['name'=>'__key__','this_tag'=>'var'],null,$this),$this)?>
=<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_1eed5b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_1eed5b'];$_f0094b_local_vars=$_f0094b_old_vars['_1eed5b'];?>
">
            <?php echo $this->function_var($this->setup_args(['name'=>'menu_label','this_tag'=>'var'],null,$this),$this)?>

            <?php $_f0094b_old_params['_eddcd0']=$_f0094b_local_params;$_f0094b_old_vars['_eddcd0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_mode','eq'=>'manage_scheme','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_1c9704']=$_f0094b_local_params;$_f0094b_old_vars['_1c9704']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'scheme_upgrade_count','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="badge-icon-badge badge-icon-middle"></div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c9704'];$_f0094b_local_vars=$_f0094b_old_vars['_1c9704'];?>

            <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'menu_mode','eq'=>'manage_plugins','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_5a9a6f']=$_f0094b_local_params;$_f0094b_old_vars['_5a9a6f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'plugin_upgrade_count','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="badge-icon-badge badge-icon-middle"></div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5a9a6f'];$_f0094b_local_vars=$_f0094b_old_vars['_5a9a6f'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_eddcd0'];$_f0094b_local_vars=$_f0094b_old_vars['_eddcd0'];?>

            </a>
          <?php $_f0094b_old_params['_24afa4']=$_f0094b_local_params;$_f0094b_old_vars['_24afa4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_24afa4'];$_f0094b_local_vars=$_f0094b_old_vars['_24afa4'];?>

        <?php endif;$c_3733e3=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_3733e3'];$_f0094b_local_vars=$_f0094b_old_vars['_3733e3'];?>

        </ul>
        <div class="header-util">
          <?php echo $this->function_var($this->setup_args(['name'=>'add_header_system','this_tag'=>'var'],null,$this),$this)?>

          <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'show_both','setvar'=>'__show_both','this_tag'=>'property'],null,$this),$this),$this->setup_args('__show_both','setvar',$this),$this,'setvar')?>

          <a href="<?php $_f0094b_old_params['_b4cd52']=$_f0094b_local_params;$_f0094b_old_vars['_b4cd52']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_e8bd93']=$_f0094b_local_params;$_f0094b_old_vars['_e8bd93']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'site_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'link_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e8bd93'];$_f0094b_local_vars=$_f0094b_old_vars['_e8bd93'];?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'site_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b4cd52'];$_f0094b_local_vars=$_f0094b_old_vars['_b4cd52'];?>
" target="_blank" class="btn btn-sm btn-secondary my-2 my-sm-0 view-external" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-external-link-square" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php $_f0094b_old_params['_31eea1']=$_f0094b_local_params;$_f0094b_old_vars['_31eea1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'link_url','this_tag'=>'var'],null,$this),$this)?>
" target="_blank" class="btn btn-sm btn-secondary my-2 my-sm-0 view-external" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-globe" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_31eea1'];$_f0094b_local_vars=$_f0094b_old_vars['_31eea1'];?>

        <?php $_f0094b_old_params['_ecadac']=$_f0094b_local_params;$_f0094b_old_vars['_ecadac']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'can_rebuild','workspace_id'=>'0','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <?php $c_b5158d=null;$_f0094b_old_params['_b5158d']=$_f0094b_local_params;$_f0094b_old_vars['_b5158d']=$_f0094b_local_vars;$a_b5158d=$this->setup_args(['model'=>'urlmapping','count'=>'model','group'=>'\'workspace_id\',\'model\'','workspace_id'=>'0','limit'=>'1','this_tag'=>'countgroupby'],null,$this);$_b5158d=-1;$r_b5158d=true;while($r_b5158d===true):$r_b5158d=($_b5158d!==-1)?false:true;echo $this->component('PTTags')->hdlr_countgroupby($a_b5158d,$c_b5158d,$this,$r_b5158d,++$_b5158d,'_b5158d');ob_start();?>
<?php $c_b5158d = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_b5158d=false;}if($c_b5158d ):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=rebuild_phase&amp;_type=start_rebuild" class="popup btn btn-sm btn-secondary my-2 my-sm-0 rebuild-popup" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Rebuild','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-refresh" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Rebuild','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
        <?php endif;$c_b5158d=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_b5158d'];$_f0094b_local_vars=$_f0094b_old_vars['_b5158d'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ecadac'];$_f0094b_local_vars=$_f0094b_old_vars['_ecadac'];?>

          <a style="padding:<?php $_f0094b_old_params['_ce7cc0']=$_f0094b_local_params;$_f0094b_old_vars['_ce7cc0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_photo','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
0 3px<?php else:?>
4px<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce7cc0'];$_f0094b_local_vars=$_f0094b_old_vars['_ce7cc0'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=user&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'user_id','this_tag'=>'var'],null,$this),$this)?>
&amp;_profile=1" class="btn btn-sm btn-secondary my-2 my-sm-0 profile-btn" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Profile','this_tag'=>'trans'],null,$this),$this)?>
">
          <?php $_f0094b_old_params['_671b57']=$_f0094b_local_params;$_f0094b_old_vars['_671b57']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_photo','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.lazyload.min.js"></script>
            <img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif" class="lazy" style="Border-radius:50%" data-original="<?php echo $this->function_var($this->setup_args(['name'=>'user_photo','this_tag'=>'var'],null,$this),$this)?>
" width="26" height="26" alt="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Profile','this_tag'=>'trans'],null,$this),$this)?>
">
            <script>$(function() { $('img.lazy').lazyload(); });</script>
          <?php else:?>

            <i class="fa fa-user-circle" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Profile','this_tag'=>'trans'],null,$this),$this)?>
</span>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_671b57'];$_f0094b_local_vars=$_f0094b_old_vars['_671b57'];?>

          </a>
          <a id="__logout" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=logout" class="btn btn-sm btn-secondary my-2 my-sm-0 logout-btn" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Logout','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-sign-out" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Logout','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php $_f0094b_old_params['_e4d0eb']=$_f0094b_local_params;$_f0094b_old_vars['_e4d0eb']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_isadmin($this->setup_args(['this_tag'=>'isadmin'],null,$this),null,$this,true,true)):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=config" class="btn btn-sm btn-secondary my-2 my-sm-0 config-system" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Config','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-wrench" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Config','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e4d0eb'];$_f0094b_local_vars=$_f0094b_old_vars['_e4d0eb'];?>

        </div>
      </div>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9ff185'];$_f0094b_local_vars=$_f0094b_old_vars['_9ff185'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b7461f'];$_f0094b_local_vars=$_f0094b_old_vars['_b7461f'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8f31d6'];$_f0094b_local_vars=$_f0094b_old_vars['_8f31d6'];?>

      <?php $_f0094b_old_params['_3d3d49']=$_f0094b_local_params;$_f0094b_old_vars['_3d3d49']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'member_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <div class="collapse navbar-collapse" id="navbars" <?php $_f0094b_old_params['_11edc7']=$_f0094b_local_params;$_f0094b_old_vars['_11edc7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'workspace_counter','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
style="margin-left:-66px;z-index:0"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_11edc7'];$_f0094b_local_vars=$_f0094b_old_vars['_11edc7'];?>
>
        <ul class="nav-pills navbar-nav mr-auto" id="system-panel"></ul>
          <div class="header-util">
          <?php echo $this->function_var($this->setup_args(['name'=>'add_header_workspace','this_tag'=>'var'],null,$this),$this)?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=logout<?php $_f0094b_old_params['_90755b']=$_f0094b_local_params;$_f0094b_old_vars['_90755b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workspace_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_90755b'];$_f0094b_local_vars=$_f0094b_old_vars['_90755b'];?>
" class="btn btn-sm btn-secondary my-2 my-sm-0 logout-btn" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Logout','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-sign-out" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Logout','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=edit_profile<?php $_f0094b_old_params['_7d73f7']=$_f0094b_local_params;$_f0094b_old_vars['_7d73f7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workspace_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7d73f7'];$_f0094b_local_vars=$_f0094b_old_vars['_7d73f7'];?>
" class="btn btn-sm btn-secondary my-2 my-sm-0 profile-btn" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Profile','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-user-circle" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Profile','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          </div>
        </div>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d3d49'];$_f0094b_local_vars=$_f0094b_old_vars['_3d3d49'];?>

    </nav>
  <?php $_f0094b_old_params['_baeeb7']=$_f0094b_local_params;$_f0094b_old_vars['_baeeb7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'upgrade','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_87993f']=$_f0094b_local_params;$_f0094b_old_vars['_87993f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_aa82a3']=$_f0094b_local_params;$_f0094b_old_vars['_aa82a3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_e57720']=$_f0094b_local_params;$_f0094b_old_vars['_e57720']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <nav class="bar navbar navbar-toggleable-md navbar-inverse bg-inverse workspace-bar"<?php $_f0094b_old_params['_a03524']=$_f0094b_local_params;$_f0094b_old_vars['_a03524']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 style="z-index:1029;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a03524'];$_f0094b_local_vars=$_f0094b_old_vars['_a03524'];?>
>
      <?php $_f0094b_old_params['_3420bd']=$_f0094b_local_params;$_f0094b_old_vars['_3420bd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <button style="background-color: <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_barcolor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 !important; color: <?php echo $this->function_var($this->setup_args(['name'=>'workspace_bartextcolor','this_tag'=>'var'],null,$this),$this)?>
 !important;" class="navbar-toggler navbar-toggler-right btn-ws" type="button" data-toggle="collapse" data-target="#navbars-ws" aria-controls="navbars" aria-expanded="false" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Toggle Navigation','this_tag'=>'trans'],null,$this),$this)?>
">
        <i class="fa fa-bars" aria-hidden="true"></i>
        <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Toggle Navigation','this_tag'=>'trans'],null,$this),$this)?>
</span>
      </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3420bd'];$_f0094b_local_vars=$_f0094b_old_vars['_3420bd'];?>

      <?php echo $this->modifier_setvar($this->modifier_count_chars($this->function_var($this->setup_args(['name'=>'workspace_name','count_chars'=>'','setvar'=>'workspace_chars','this_tag'=>'var'],null,$this),$this),$this->setup_args('','count_chars',$this),$this,'count_chars'),$this->setup_args('workspace_chars','setvar',$this),$this,'setvar')?>
<a class="navbar-brand brand-workspace" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=dashboard&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
"<?php $_f0094b_old_params['_609602']=$_f0094b_local_params;$_f0094b_old_vars['_609602']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_chars','gt'=>'18','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 title="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_609602'];$_f0094b_local_vars=$_f0094b_old_vars['_609602'];?>
><?php echo $this->modifier_trim_to(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_name','escape'=>'','trim_to'=>'20+...','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('20+...','trim_to',$this),$this,'trim_to')?>
</a>
      <div class="collapse navbar-collapse" id="navbars-ws">
        <ul class="nav-pills navbar-nav mr-auto">
          <?php $c_028cca=null;$_f0094b_old_params['_028cca']=$_f0094b_local_params;$_f0094b_old_vars['_028cca']=$_f0094b_local_vars;$a_028cca=$this->setup_args(['type'=>'display_space','menu_type'=>'6','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_028cca=-1;$r_028cca=true;while($r_028cca===true):$r_028cca=($_028cca!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_028cca,$c_028cca,$this,$r_028cca,++$_028cca,'_028cca');ob_start();?>
<?php $c_028cca = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_028cca=false;}if($c_028cca ):?>

            <?php $_f0094b_old_params['_be2a2d']=$_f0094b_local_params;$_f0094b_old_vars['_be2a2d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <li class="nav-item dropdown">
              <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
                <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-bookmark" aria-hidden="true"></i>
                <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Favorites','this_tag'=>'trans'],null,$this),$this)?>
</span>
              </a>
              <div class="dropdown-menu">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_be2a2d'];$_f0094b_local_vars=$_f0094b_old_vars['_be2a2d'];?>

              <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_2e3d04']=$_f0094b_local_params;$_f0094b_old_vars['_2e3d04']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e3d04'];$_f0094b_local_vars=$_f0094b_old_vars['_2e3d04'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
            <?php $_f0094b_old_params['_f11b7d']=$_f0094b_local_params;$_f0094b_old_vars['_f11b7d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              </div>
              </li>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f11b7d'];$_f0094b_local_vars=$_f0094b_old_vars['_f11b7d'];?>

          <?php endif;$c_028cca=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_028cca'];$_f0094b_local_vars=$_f0094b_old_vars['_028cca'];?>

        <?php $c_39b2cd=null;$_f0094b_old_params['_39b2cd']=$_f0094b_local_params;$_f0094b_old_vars['_39b2cd']=$_f0094b_local_vars;$a_39b2cd=$this->setup_args(['limit'=>'$panel_limit','type'=>'display_space','menu_type'=>'1','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_39b2cd=-1;$r_39b2cd=true;while($r_39b2cd===true):$r_39b2cd=($_39b2cd!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_39b2cd,$c_39b2cd,$this,$r_39b2cd,++$_39b2cd,'_39b2cd');ob_start();?>
<?php $c_39b2cd = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_39b2cd=false;}if($c_39b2cd ):?>

          <li class="nav-item nav-item-ws <?php $_f0094b_old_params['_cb0656']=$_f0094b_local_params;$_f0094b_old_vars['_cb0656']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'$model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
active<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cb0656'];$_f0094b_local_vars=$_f0094b_old_vars['_cb0656'];?>
">
            <?php echo $this->modifier_setvar($this->modifier_count_chars($this->function_var($this->setup_args(['name'=>'label','count_chars'=>'','setvar'=>'count_chars','this_tag'=>'var'],null,$this),$this),$this->setup_args('','count_chars',$this),$this,'count_chars'),$this->setup_args('count_chars','setvar',$this),$this,'setvar')?>
<a class="nav-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_2fc271']=$_f0094b_local_params;$_f0094b_old_vars['_2fc271']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2fc271'];$_f0094b_local_vars=$_f0094b_old_vars['_2fc271'];?>
"<?php $_f0094b_old_params['_25e811']=$_f0094b_local_params;$_f0094b_old_vars['_25e811']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'count_chars','gt'=>'18','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 data-toggle="tooltip" data-placement="right" title="<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_25e811'];$_f0094b_local_vars=$_f0094b_old_vars['_25e811'];?>
><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          </li>
        <?php endif;$c_39b2cd=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_39b2cd'];$_f0094b_local_vars=$_f0094b_old_vars['_39b2cd'];?>

        <?php $c_113faa=null;$_f0094b_old_params['_113faa']=$_f0094b_local_params;$_f0094b_old_vars['_113faa']=$_f0094b_local_vars;$a_113faa=$this->setup_args(['limit'=>'100000','offset'=>'$panel_limit','type'=>'display_space','menu_type'=>'1','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_113faa=-1;$r_113faa=true;while($r_113faa===true):$r_113faa=($_113faa!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_113faa,$c_113faa,$this,$r_113faa,++$_113faa,'_113faa');ob_start();?>
<?php $c_113faa = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_113faa=false;}if($c_113faa ):?>

          <?php $_f0094b_old_params['_abe797']=$_f0094b_local_params;$_f0094b_old_vars['_abe797']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-window-maximize" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Panel','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_abe797'];$_f0094b_local_vars=$_f0094b_old_vars['_abe797'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_2fe657']=$_f0094b_local_params;$_f0094b_old_vars['_2fe657']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2fe657'];$_f0094b_local_vars=$_f0094b_old_vars['_2fe657'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_cdd556']=$_f0094b_local_params;$_f0094b_old_vars['_cdd556']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cdd556'];$_f0094b_local_vars=$_f0094b_old_vars['_cdd556'];?>

        <?php endif;$c_113faa=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_113faa'];$_f0094b_local_vars=$_f0094b_old_vars['_113faa'];?>

        <?php $c_3e13e8=null;$_f0094b_old_params['_3e13e8']=$_f0094b_local_params;$_f0094b_old_vars['_3e13e8']=$_f0094b_local_vars;$a_3e13e8=$this->setup_args(['type'=>'display_space','menu_type'=>'2','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_3e13e8=-1;$r_3e13e8=true;while($r_3e13e8===true):$r_3e13e8=($_3e13e8!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_3e13e8,$c_3e13e8,$this,$r_3e13e8,++$_3e13e8,'_3e13e8');ob_start();?>
<?php $c_3e13e8 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_3e13e8=false;}if($c_3e13e8 ):?>

          <?php $_f0094b_old_params['_bf589c']=$_f0094b_local_params;$_f0094b_old_vars['_bf589c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-cog" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'System Objects','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf589c'];$_f0094b_local_vars=$_f0094b_old_vars['_bf589c'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_59c5af']=$_f0094b_local_params;$_f0094b_old_vars['_59c5af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_59c5af'];$_f0094b_local_vars=$_f0094b_old_vars['_59c5af'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_752980']=$_f0094b_local_params;$_f0094b_old_vars['_752980']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_752980'];$_f0094b_local_vars=$_f0094b_old_vars['_752980'];?>

        <?php endif;$c_3e13e8=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_3e13e8'];$_f0094b_local_vars=$_f0094b_old_vars['_3e13e8'];?>

        <?php $c_e05615=null;$_f0094b_old_params['_e05615']=$_f0094b_local_params;$_f0094b_old_vars['_e05615']=$_f0094b_local_vars;$a_e05615=$this->setup_args(['type'=>'display_space','menu_type'=>'3','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_e05615=-1;$r_e05615=true;while($r_e05615===true):$r_e05615=($_e05615!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_e05615,$c_e05615,$this,$r_e05615,++$_e05615,'_e05615');ob_start();?>
<?php $c_e05615 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_e05615=false;}if($c_e05615 ):?>

          <?php $_f0094b_old_params['_4bfbf0']=$_f0094b_local_params;$_f0094b_old_vars['_4bfbf0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-database" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Read-only Objects','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4bfbf0'];$_f0094b_local_vars=$_f0094b_old_vars['_4bfbf0'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_fbd330']=$_f0094b_local_params;$_f0094b_old_vars['_fbd330']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fbd330'];$_f0094b_local_vars=$_f0094b_old_vars['_fbd330'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_1bb236']=$_f0094b_local_params;$_f0094b_old_vars['_1bb236']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1bb236'];$_f0094b_local_vars=$_f0094b_old_vars['_1bb236'];?>

        <?php endif;$c_e05615=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_e05615'];$_f0094b_local_vars=$_f0094b_old_vars['_e05615'];?>

        <?php $c_92d8c8=null;$_f0094b_old_params['_92d8c8']=$_f0094b_local_params;$_f0094b_old_vars['_92d8c8']=$_f0094b_local_vars;$a_92d8c8=$this->setup_args(['type'=>'display_space','menu_type'=>'4','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_92d8c8=-1;$r_92d8c8=true;while($r_92d8c8===true):$r_92d8c8=($_92d8c8!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_92d8c8,$c_92d8c8,$this,$r_92d8c8,++$_92d8c8,'_92d8c8');ob_start();?>
<?php $c_92d8c8 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_92d8c8=false;}if($c_92d8c8 ):?>

          <?php $_f0094b_old_params['_20f5e3']=$_f0094b_local_params;$_f0094b_old_vars['_20f5e3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-comments" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Communication','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_20f5e3'];$_f0094b_local_vars=$_f0094b_old_vars['_20f5e3'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_16efff']=$_f0094b_local_params;$_f0094b_old_vars['_16efff']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_16efff'];$_f0094b_local_vars=$_f0094b_old_vars['_16efff'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_c31471']=$_f0094b_local_params;$_f0094b_old_vars['_c31471']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c31471'];$_f0094b_local_vars=$_f0094b_old_vars['_c31471'];?>

        <?php endif;$c_92d8c8=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_92d8c8'];$_f0094b_local_vars=$_f0094b_old_vars['_92d8c8'];?>

        <?php $c_1e464b=null;$_f0094b_old_params['_1e464b']=$_f0094b_local_params;$_f0094b_old_vars['_1e464b']=$_f0094b_local_vars;$a_1e464b=$this->setup_args(['type'=>'display_space','menu_type'=>'5','permission'=>'1','workspace_perm'=>'1','cols'=>'id,name,plural','this_tag'=>'tables'],null,$this);$_1e464b=-1;$r_1e464b=true;while($r_1e464b===true):$r_1e464b=($_1e464b!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_1e464b,$c_1e464b,$this,$r_1e464b,++$_1e464b,'_1e464b');ob_start();?>
<?php $c_1e464b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_1e464b=false;}if($c_1e464b ):?>

          <?php $_f0094b_old_params['_feb493']=$_f0094b_local_params;$_f0094b_old_vars['_feb493']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-user-plus" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'User and Permission','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_feb493'];$_f0094b_local_vars=$_f0094b_old_vars['_feb493'];?>

            <a class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_b8010e']=$_f0094b_local_params;$_f0094b_old_vars['_b8010e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b8010e'];$_f0094b_local_vars=$_f0094b_old_vars['_b8010e'];?>
"><?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'label','escape'=>'single','this_tag'=>'var'],null,$this),$this),$this->setup_args('single','escape',$this),$this,'escape')?>
</a>
          <?php $_f0094b_old_params['_e5fcb8']=$_f0094b_local_params;$_f0094b_old_vars['_e5fcb8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e5fcb8'];$_f0094b_local_vars=$_f0094b_old_vars['_e5fcb8'];?>

        <?php endif;$c_1e464b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_1e464b'];$_f0094b_local_vars=$_f0094b_old_vars['_1e464b'];?>

        <?php $c_8e8c7b=null;$_f0094b_old_params['_8e8c7b']=$_f0094b_local_params;$_f0094b_old_vars['_8e8c7b']=$_f0094b_local_vars;$a_8e8c7b=$this->setup_args(['name'=>'workspace_menus','this_tag'=>'loop'],null,$this);$_8e8c7b=-1;$r_8e8c7b=true;while($r_8e8c7b===true):$r_8e8c7b=($_8e8c7b!==-1)?false:true;echo $this->block_loop($a_8e8c7b,$c_8e8c7b,$this,$r_8e8c7b,++$_8e8c7b,'_8e8c7b');ob_start();?>
<?php $c_8e8c7b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_8e8c7b=false;}if($c_8e8c7b ):?>

          <?php $_f0094b_old_params['_6dc2a5']=$_f0094b_local_params;$_f0094b_old_vars['_6dc2a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <li class="nav-item dropdown">
            <a aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">
              <i data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
" class="fa fa-plug" aria-hidden="true"></i>
              <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Tools','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </a>
            <div class="dropdown-menu">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6dc2a5'];$_f0094b_local_vars=$_f0094b_old_vars['_6dc2a5'];?>

            <a <?php $_f0094b_old_params['_143d16']=$_f0094b_local_params;$_f0094b_old_vars['_143d16']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
target="<?php echo $this->function_var($this->setup_args(['name'=>'menu_target','this_tag'=>'var'],null,$this),$this)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_143d16'];$_f0094b_local_vars=$_f0094b_old_vars['_143d16'];?>
 class="dropdown-item dropdown-sub btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=<?php echo $this->function_var($this->setup_args(['name'=>'menu_mode','this_tag'=>'var'],null,$this),$this)?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $c_804fb9=null;$_f0094b_old_params['_804fb9']=$_f0094b_local_params;$_f0094b_old_vars['_804fb9']=$_f0094b_local_vars;$a_804fb9=$this->setup_args(['name'=>'menu_args','this_tag'=>'loop'],null,$this);$_804fb9=-1;$r_804fb9=true;while($r_804fb9===true):$r_804fb9=($_804fb9!==-1)?false:true;echo $this->block_loop($a_804fb9,$c_804fb9,$this,$r_804fb9,++$_804fb9,'_804fb9');ob_start();?>
<?php $c_804fb9 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_804fb9=false;}if($c_804fb9 ):?>
&amp;<?php echo $this->function_var($this->setup_args(['name'=>'__key__','this_tag'=>'var'],null,$this),$this)?>
=<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_804fb9=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_804fb9'];$_f0094b_local_vars=$_f0094b_old_vars['_804fb9'];?>
"><?php echo $this->function_var($this->setup_args(['name'=>'menu_label','this_tag'=>'var'],null,$this),$this)?>
</a>
          <?php $_f0094b_old_params['_baa274']=$_f0094b_local_params;$_f0094b_old_vars['_baa274']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            </div>
            </li>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_baa274'];$_f0094b_local_vars=$_f0094b_old_vars['_baa274'];?>

        <?php endif;$c_8e8c7b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_8e8c7b'];$_f0094b_local_vars=$_f0094b_old_vars['_8e8c7b'];?>

        </ul>
        <div class="header-util">
          <a href="<?php $_f0094b_old_params['_d2905f']=$_f0094b_local_params;$_f0094b_old_vars['_d2905f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_fa688d']=$_f0094b_local_params;$_f0094b_old_vars['_fa688d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fa688d'];$_f0094b_local_vars=$_f0094b_old_vars['_fa688d'];?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d2905f'];$_f0094b_local_vars=$_f0094b_old_vars['_d2905f'];?>
" target="_blank" class="btn btn-sm btn-secondary my-2 my-sm-0 view-external" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-external-link-square" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php $_f0094b_old_params['_ec4227']=$_f0094b_local_params;$_f0094b_old_vars['_ec4227']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_11aeab']=$_f0094b_local_params;$_f0094b_old_vars['_11aeab']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'var'],null,$this),$this)?>
" target="_blank" class="btn btn-sm btn-secondary my-2 my-sm-0 view-external" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-globe" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_11aeab'];$_f0094b_local_vars=$_f0094b_old_vars['_11aeab'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ec4227'];$_f0094b_local_vars=$_f0094b_old_vars['_ec4227'];?>

        <?php $_f0094b_old_params['_e072c8']=$_f0094b_local_params;$_f0094b_old_vars['_e072c8']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'can_rebuild','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <?php $c_da57ec=null;$_f0094b_old_params['_da57ec']=$_f0094b_local_params;$_f0094b_old_vars['_da57ec']=$_f0094b_local_vars;$a_da57ec=$this->setup_args(['model'=>'urlmapping','count'=>'model','group'=>'\'workspace_id\',\'model\'','workspace_id'=>'$workspace_id','limit'=>'1','this_tag'=>'countgroupby'],null,$this);$_da57ec=-1;$r_da57ec=true;while($r_da57ec===true):$r_da57ec=($_da57ec!==-1)?false:true;echo $this->component('PTTags')->hdlr_countgroupby($a_da57ec,$c_da57ec,$this,$r_da57ec,++$_da57ec,'_da57ec');ob_start();?>
<?php $c_da57ec = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_da57ec=false;}if($c_da57ec ):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=rebuild_phase&amp;_type=start_rebuild&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
" class="popup btn btn-sm btn-secondary my-2 my-sm-0 rebuild-popup" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Rebuild','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-refresh" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Rebuild','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
        <?php endif;$c_da57ec=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_da57ec'];$_f0094b_local_vars=$_f0094b_old_vars['_da57ec'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e072c8'];$_f0094b_local_vars=$_f0094b_old_vars['_e072c8'];?>

        <?php $_f0094b_old_params['_7842f2']=$_f0094b_local_params;$_f0094b_old_vars['_7842f2']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'workspace','id'=>'$workspace_id','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

          <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=workspace&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-sm btn-secondary my-2 my-sm-0 config-workspace" data-toggle="tooltip" data-placement="bottom" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Settings','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-wrench" aria-hidden="true"></i>
            <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'WorkSpace Settings','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7842f2'];$_f0094b_local_vars=$_f0094b_old_vars['_7842f2'];?>

        </div>
      </div>
    </nav>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e57720'];$_f0094b_local_vars=$_f0094b_old_vars['_e57720'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aa82a3'];$_f0094b_local_vars=$_f0094b_old_vars['_aa82a3'];?>

<?php $_f0094b_old_params['_b47316']=$_f0094b_local_params;$_f0094b_old_vars['_b47316']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  </div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b47316'];$_f0094b_local_vars=$_f0094b_old_vars['_b47316'];?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'can_action','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'disp_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_ab7ada']=$_f0094b_local_params;$_f0094b_old_vars['_ab7ada']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'child_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_87bb85']=$_f0094b_local_params;$_f0094b_old_vars['_87bb85']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'workspace_id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_87bb85'];$_f0094b_local_vars=$_f0094b_old_vars['_87bb85'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ab7ada'];$_f0094b_local_vars=$_f0094b_old_vars['_ab7ada'];?>

    <?php $_f0094b_old_params['_b1936a']=$_f0094b_local_params;$_f0094b_old_vars['_b1936a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'error','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b1936a'];$_f0094b_local_vars=$_f0094b_old_vars['_b1936a'];?>

    <?php $_f0094b_old_params['_942b79']=$_f0094b_local_params;$_f0094b_old_vars['_942b79']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_a80a2f']=$_f0094b_local_params;$_f0094b_old_vars['_a80a2f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','ne'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a80a2f'];$_f0094b_local_vars=$_f0094b_old_vars['_a80a2f'];?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'comment','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'attachmentfile','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'model','eq'=>'contact','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_942b79'];$_f0094b_local_vars=$_f0094b_old_vars['_942b79'];?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'output_container','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <div class="container-fluid">
    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_b74ca0']=$_f0094b_local_params;$_f0094b_old_vars['_b74ca0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_a7ebb0']=$_f0094b_local_params;$_f0094b_old_vars['_a7ebb0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_faaf2e']=$_f0094b_local_params;$_f0094b_old_vars['_faaf2e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_d09f75']=$_f0094b_local_params;$_f0094b_old_vars['_d09f75']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'time_step','setvar'=>'time_step','this_tag'=>'property'],null,$this),$this),$this->setup_args('time_step','setvar',$this),$this,'setvar')?>

      <div class="modal fade" id="filterOptions" tabindex="-1" role="dialog" aria-labelledby="listFiltersTitle" aria-hidden="true"
        style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="listFiltersTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Filters','this_tag'=>'trans'],null,$this),$this)?>
</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          <form id="list_filter_form" action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST">
            <input type="hidden" name="__mode" value="view" id="this_mode">
            <input type="hidden" name="_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_type" value="list">
            <input type="hidden" name="_filter" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_filter_id" id="_filter_id" value="">
            <input type="hidden" name="_save_filter_name" id="_save_filter_name" value="">
            <input type="hidden" name="_detach_filter" id="_detach_filter" value="">
            <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
            <input type="hidden" name="_system_filters_option" value="" id="_system_filters_option">
            <?php $_f0094b_old_params['_5b269f']=$_f0094b_local_params;$_f0094b_old_vars['_5b269f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="single_select" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_5b269f'];$_f0094b_local_vars=$_f0094b_old_vars['_5b269f'];?>

            <?php $_f0094b_old_params['_173a7d']=$_f0094b_local_params;$_f0094b_old_vars['_173a7d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="_from_scope" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._from_scope','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_173a7d'];$_f0094b_local_vars=$_f0094b_old_vars['_173a7d'];?>

          <?php $_f0094b_old_params['_b3cee5']=$_f0094b_local_params;$_f0094b_old_vars['_b3cee5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b3cee5'];$_f0094b_local_vars=$_f0094b_old_vars['_b3cee5'];?>

          <?php $_f0094b_old_params['_4cc87d']=$_f0094b_local_params;$_f0094b_old_vars['_4cc87d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="manage_revision" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4cc87d'];$_f0094b_local_vars=$_f0094b_old_vars['_4cc87d'];?>

          <?php $_f0094b_old_params['_e61a55']=$_f0094b_local_params;$_f0094b_old_vars['_e61a55']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="dialog_view" value="1">
            <?php $_f0094b_old_params['_9b449e']=$_f0094b_local_params;$_f0094b_old_vars['_9b449e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ref_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="ref_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ref_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9b449e'];$_f0094b_local_vars=$_f0094b_old_vars['_9b449e'];?>

          <?php $_f0094b_old_params['_4ebefe']=$_f0094b_local_params;$_f0094b_old_vars['_4ebefe']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="select_system_filters" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_system_filters_option" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="insert" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="insert_editor" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="_filter" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._filter','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ebefe'];$_f0094b_local_vars=$_f0094b_old_vars['_4ebefe'];?>

            <?php $_f0094b_old_params['_a3531c']=$_f0094b_local_params;$_f0094b_old_vars['_a3531c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workflow_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <input type="hidden" name="workflow_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
              <input type="hidden" name="workflow_type" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3531c'];$_f0094b_local_vars=$_f0094b_old_vars['_a3531c'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e61a55'];$_f0094b_local_vars=$_f0094b_old_vars['_e61a55'];?>

          <?php $_f0094b_old_params['_d6d40b']=$_f0094b_local_params;$_f0094b_old_vars['_d6d40b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="workspace_select" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d6d40b'];$_f0094b_local_vars=$_f0094b_old_vars['_d6d40b'];?>

          <?php $_f0094b_old_params['_f0074c']=$_f0094b_local_params;$_f0094b_old_vars['_f0074c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="target" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="get_col" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="selected_ids" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
            <input type="hidden" name="from_obj" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.from_obj','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php $_f0094b_old_params['_fe6429']=$_f0094b_local_params;$_f0094b_old_vars['_fe6429']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_add','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="select_add" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fe6429'];$_f0094b_local_vars=$_f0094b_old_vars['_fe6429'];?>

          <?php $_f0094b_old_params['_9838a0']=$_f0094b_local_params;$_f0094b_old_vars['_9838a0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ids_only','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <input type="hidden" name="ids_only" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ids_only','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9838a0'];$_f0094b_local_vars=$_f0094b_old_vars['_9838a0'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f0074c'];$_f0094b_local_vars=$_f0094b_old_vars['_f0074c'];?>

            <div class="modal-body">
              <div class="container-fluid">
                <?php $_f0094b_old_params['_71b5b8']=$_f0094b_local_params;$_f0094b_old_vars['_71b5b8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'system_filters','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div class="row form-group">
                  <div class="col-md-3"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'System Filters','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <?php $c_71a7c3=null;$_f0094b_old_params['_71a7c3']=$_f0094b_local_params;$_f0094b_old_vars['_71a7c3']=$_f0094b_local_vars;$a_71a7c3=$this->setup_args(['name'=>'system_filters','this_tag'=>'loop'],null,$this);$_71a7c3=-1;$r_71a7c3=true;while($r_71a7c3===true):$r_71a7c3=($_71a7c3!==-1)?false:true;echo $this->block_loop($a_71a7c3,$c_71a7c3,$this,$r_71a7c3,++$_71a7c3,'_71a7c3');ob_start();?>
<?php $c_71a7c3 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_71a7c3=false;}if($c_71a7c3 ):?>

                      <?php $_f0094b_old_params['_ede60f']=$_f0094b_local_params;$_f0094b_old_vars['_ede60f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <select style="width:240px" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" name="select_system_filters" id="select_system_filters">
                        <option value=""><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ede60f'];$_f0094b_local_vars=$_f0094b_old_vars['_ede60f'];?>

                        <option <?php $_f0094b_old_params['_7d27c8']=$_f0094b_local_params;$_f0094b_old_vars['_7d27c8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'input','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
data-input="1" data-hint="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'hint','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7d27c8'];$_f0094b_local_vars=$_f0094b_old_vars['_7d27c8'];?>
data-option="<?php echo $this->function_var($this->setup_args(['name'=>'option','this_tag'=>'var'],null,$this),$this)?>
" <?php $_f0094b_old_params['_0ba4fb']=$_f0094b_local_params;$_f0094b_old_vars['_0ba4fb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'current_system_filter','eq'=>'$name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0ba4fb'];$_f0094b_local_vars=$_f0094b_old_vars['_0ba4fb'];?>
 value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                      <?php $_f0094b_old_params['_15fd72']=$_f0094b_local_params;$_f0094b_old_vars['_15fd72']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        </select>
                      <button type="submit" class="btn btn-sm btn-primary filter-selecter-ctrl-apply" id="system_filter-apply-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_15fd72'];$_f0094b_local_vars=$_f0094b_old_vars['_15fd72'];?>

                    <?php endif;$c_71a7c3=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_71a7c3'];$_f0094b_local_vars=$_f0094b_old_vars['_71a7c3'];?>

                  </div>
                </div>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_71b5b8'];$_f0094b_local_vars=$_f0094b_old_vars['_71b5b8'];?>

                <div class="row form-group">
                  <div class="col-md-3"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Your Filters','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <select style="width:240px" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" name="select-user_filters" id="select-user_filters">
                      <option value=""><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                      <?php $c_dfdb3d=null;$_f0094b_old_params['_dfdb3d']=$_f0094b_local_params;$_f0094b_old_vars['_dfdb3d']=$_f0094b_local_vars;$a_dfdb3d=$this->setup_args(['model'=>'option','kind'=>'list_filter','key'=>'$model','user_id'=>'$user_id','workspace_id'=>'$workspace_id','this_tag'=>'objectloop'],null,$this);$_dfdb3d=-1;$r_dfdb3d=true;while($r_dfdb3d===true):$r_dfdb3d=($_dfdb3d!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_dfdb3d,$c_dfdb3d,$this,$r_dfdb3d,++$_dfdb3d,'_dfdb3d');ob_start();?>
<?php $c_dfdb3d = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_dfdb3d=false;}if($c_dfdb3d ):?>

                      <?php echo $this->function_setvar($this->setup_args(['name'=>'has_filter','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" <?php $_f0094b_old_params['_f2168d']=$_f0094b_local_params;$_f0094b_old_vars['_f2168d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'current_filter_id','eq'=>'$id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f2168d'];$_f0094b_local_vars=$_f0094b_old_vars['_f2168d'];?>
><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                      <?php endif;$c_dfdb3d=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_dfdb3d'];$_f0094b_local_vars=$_f0094b_old_vars['_dfdb3d'];?>

                      <option value="add_new_filter"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Add New Filter','this_tag'=>'trans'],null,$this),$this)?>
</option>
                    </select>
                    <?php $_f0094b_old_params['_269f3c']=$_f0094b_local_params;$_f0094b_old_vars['_269f3c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <button type="submit" class="btn btn-sm btn-primary filter-selecter-ctrl-apply" id="filter-select-apply-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
                    <button type="button" class="delete-filter-elem hidden delete-bun-sm btn btn-secondary btn-sm filter-selecter-ctrl" id="filter-select-delete-button" class="close" data-dismiss="modal">
                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Delete','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    </button>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_269f3c'];$_f0094b_local_vars=$_f0094b_old_vars['_269f3c'];?>

                  </div>
                </div>
                <div class="row form-group new-filter-elem hidden">
                  <div class="col-md-3" style="float:left;"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
                  <div class="col-md-9 form-inline">
                    <select style="width:240px" name="filters-selector" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-dd" id="filters-selector">
                    <?php $c_e472d5=null;$_f0094b_old_params['_e472d5']=$_f0094b_local_params;$_f0094b_old_vars['_e472d5']=$_f0094b_local_vars;$a_e472d5=$this->setup_args(['name'=>'filter_options','this_tag'=>'loop'],null,$this);$_e472d5=-1;$r_e472d5=true;while($r_e472d5===true):$r_e472d5=($_e472d5!==-1)?false:true;echo $this->block_loop($a_e472d5,$c_e472d5,$this,$r_e472d5,++$_e472d5,'_e472d5');ob_start();?>
<?php $c_e472d5 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_e472d5=false;}if($c_e472d5 ):?>

                    <?php $_f0094b_old_params['_ece5d0']=$_f0094b_local_params;$_f0094b_old_vars['_ece5d0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <option><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ece5d0'];$_f0094b_local_vars=$_f0094b_old_vars['_ece5d0'];?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" class="coltype_<?php $_f0094b_old_params['_df0128']=$_f0094b_local_params;$_f0094b_old_vars['_df0128']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'created_by','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
reference<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_df0128'];$_f0094b_local_vars=$_f0094b_old_vars['_df0128'];?>
"><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                    <?php endif;$c_e472d5=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_e472d5'];$_f0094b_local_vars=$_f0094b_old_vars['_e472d5'];?>

                    </select>
                   <button type="button" class="btn btn-sm btn-secondary filter-selecter-ctrl-apply" id="filter-add-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Add','this_tag'=>'trans'],null,$this),$this)?>
</button>
                  </div>
                </div>
                <div class="row form-group new-filter-elem">
                  <div class="col-md-12">
                    <div class="card hidden" id="filter-parant-block">
                      <ul class="list-group list-group-flush" id="filters-list">
                        <li class="list-group-item hidden" id="selector-tmpl-int">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <input type="number" class="short-padding form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="eq"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="lt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Less than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="gt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Grater than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ne"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ge"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Greater Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="le"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Less Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-text">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <input type="text" class="short-padding form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="ct"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Contains','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="nc"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Contains','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="eq"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ne"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Not Equal','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="bw"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Begin with','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="ew"><?php echo $this->function_trans($this->setup_args(['phrase'=>'End with','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-date">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                              <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'published_on_default','setvar'=>'published_on_default','this_tag'=>'property'],null,$this),$this),$this->setup_args('published_on_default','setvar',$this),$this,'setvar')?>

                              <input type="datetime-local" step="<?php $_f0094b_old_params['_db7734']=$_f0094b_local_params;$_f0094b_old_vars['_db7734']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'time_step','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'time_step','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_db7734'];$_f0094b_local_vars=$_f0094b_old_vars['_db7734'];?>
" class="form-control form-control-sm filter-selecter-ctrl filter-selecter-ctrl-sm" name="" value="<?php $_f0094b_old_params['_4e93ef']=$_f0094b_local_params;$_f0094b_old_vars['_4e93ef']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'published_on_default','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_format_ts($this->function_date($this->setup_args(['format'=>'$published_on_default','format_ts'=>'Y-m-d\\TH:i:s','this_tag'=>'date'],null,$this),$this),$this->setup_args('Y-m-d\\\\TH:i:s','format_ts',$this),$this,'format_ts')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4e93ef'];$_f0094b_local_vars=$_f0094b_old_vars['_4e93ef'];?>
">
                            <select name="" class="form-control form-control-sm custom-select filter-selecter-ctrl filter-selecter-ctrl-sm">
                              <option value="gt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Newer than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                              <option value="lt"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Older than','this_tag'=>'trans'],null,$this),$this)?>
</option>
                            </select>
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                        <li class="list-group-item hidden" id="selector-tmpl-status">
                          <div class="form-inline">
                            <span class="selector_col"></span> 
                            &nbsp; <?php echo $this->function_trans($this->setup_args(['phrase'=>' is ','this_tag'=>'trans'],null,$this),$this)?>

                            <?php $_f0094b_old_params['_f47b01']=$_f0094b_local_params;$_f0094b_old_vars['_f47b01']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'status_options','split'=>',','setvar'=>'status_label','this_tag'=>'var'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                            <?php else:?>

                              <?php $_f0094b_old_params['_437320']=$_f0094b_local_params;$_f0094b_old_vars['_437320']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_published','ne'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_trans($this->setup_args(['phrase'=>'Draft,Review,Approval Pending,Reserved,Publish,Ended','split'=>',','setvar'=>'status_label','this_tag'=>'trans'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                              <?php else:?>

                              <?php echo $this->modifier_setvar($this->modifier_split($this->function_trans($this->setup_args(['phrase'=>'Disable,Enable','split'=>',','setvar'=>'status_label','this_tag'=>'trans'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('status_label','setvar',$this),$this,'setvar')?>

                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_437320'];$_f0094b_local_vars=$_f0094b_old_vars['_437320'];?>

                            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f47b01'];$_f0094b_local_vars=$_f0094b_old_vars['_f47b01'];?>

                            <select class="form-control form-control-sm custom-select short filter-selecter-ctrl filter-selecter-ctrl-sm" name="">
                            <?php $_f0094b_old_params['_3b50e9']=$_f0094b_local_params;$_f0094b_old_vars['_3b50e9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'status_published','ne'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                            <?php $c_add98d=null;$_f0094b_old_params['_add98d']=$_f0094b_local_params;$_f0094b_old_vars['_add98d']=$_f0094b_local_vars;$a_add98d=$this->setup_args(['name'=>'status_label','this_tag'=>'loop'],null,$this);$_add98d=-1;$r_add98d=true;while($r_add98d===true):$r_add98d=($_add98d!==-1)?false:true;echo $this->block_loop($a_add98d,$c_add98d,$this,$r_add98d,++$_add98d,'_add98d');ob_start();?>
<?php $c_add98d = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_add98d=false;}if($c_add98d ):?>

                              <?php $_f0094b_old_params['_6ac737']=$_f0094b_local_params;$_f0094b_old_vars['_6ac737']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__index__','le'=>'$list_max_status','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                              <?php $_f0094b_old_params['_aeddc9']=$_f0094b_local_params;$_f0094b_old_vars['_aeddc9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                                <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__index__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->modifier_translate($this->function_var($this->setup_args(['name'=>'__value__','translate'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','translate',$this),$this,'translate')?>
</option>
                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aeddc9'];$_f0094b_local_vars=$_f0094b_old_vars['_aeddc9'];?>

                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6ac737'];$_f0094b_local_vars=$_f0094b_old_vars['_6ac737'];?>

                            <?php endif;$c_add98d=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_add98d'];$_f0094b_local_vars=$_f0094b_old_vars['_add98d'];?>

                            <?php else:?>

                            <?php $c_ba41ed=null;$_f0094b_old_params['_ba41ed']=$_f0094b_local_params;$_f0094b_old_vars['_ba41ed']=$_f0094b_local_vars;$a_ba41ed=$this->setup_args(['name'=>'status_label','this_tag'=>'loop'],null,$this);$_ba41ed=-1;$r_ba41ed=true;while($r_ba41ed===true):$r_ba41ed=($_ba41ed!==-1)?false:true;echo $this->block_loop($a_ba41ed,$c_ba41ed,$this,$r_ba41ed,++$_ba41ed,'_ba41ed');ob_start();?>
<?php $c_ba41ed = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_ba41ed=false;}if($c_ba41ed ):?>

                              <?php $_f0094b_old_params['_0afa3a']=$_f0094b_local_params;$_f0094b_old_vars['_0afa3a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','le'=>'$list_max_status','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                                <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__counter__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->modifier_translate($this->function_var($this->setup_args(['name'=>'__value__','translate'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','translate',$this),$this,'translate')?>
</option>
                              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0afa3a'];$_f0094b_local_vars=$_f0094b_old_vars['_0afa3a'];?>

                            <?php endif;$c_ba41ed=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_ba41ed'];$_f0094b_local_vars=$_f0094b_old_vars['_ba41ed'];?>

                            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3b50e9'];$_f0094b_local_vars=$_f0094b_old_vars['_3b50e9'];?>

                            </select>
                            <input type="hidden" name="" value="eq">
                            <button type="button" class="btn btn-secondary btn-sm close-sm detach-filter detach-filter-btn" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-secondary delete-filter-elem hidden" id="detach-filter-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach Filter','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-primary new-filter-elem hidden" id="filter-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-secondary new-filter-elem hidden" id="filter-save-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save and Apply','this_tag'=>'trans'],null,$this),$this)?>
</button>
            </div>
          </form>
          </div>
        </div>
      </div>
    </div>
<script>
$('#system_filter-apply-button').click(function(){
    if (! $('[name=select_system_filters] option:selected').val() ) {
        if ( filter_itemCount ) {
            return $('#filter-apply').trigger('click');
        }
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    let input = $('[name=select_system_filters] option:selected').data( 'input' );
    let hint = $('[name=select_system_filters] option:selected').data( 'hint' );
    let filter_option = $('[name=select_system_filters] option:selected').attr('data-option');
    if ( input ) {
        if (! hint ) {
            hint = '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Please enter the value.','this_tag'=>'trans'],null,$this),$this)?>
';
        }
        filter_option = prompt( hint, filter_option );
        if (! filter_option ) {
            return false;
        }
    }
    $('#select-user_filters').val('');
    $('#_system_filters_option').val( filter_option );
});
$('#filter-select-delete-button').click(function(){
    var filter_id = $('#select-user_filters').val();
    if ( filter_id == 'add_new_filter' || filter_id == '' ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove selected filter?','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $('#_filter_id').val( filter_id );
    $('#this_mode').val( 'delete_filter' );
    $('[name=select-user_filters] option:selected').remove();
    var str = $("#list_filter_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        if( data.result == true ) {
            $("#header-alert-message").html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The Filter has successfully deleted.','this_tag'=>'trans'],null,$this),$this)?>
');
            $("#header-alert").removeClass("alert-danger");
            $("#header-alert").addClass("alert-success");
        } else {
            $("#header-alert-message").html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while removing the Filter.','this_tag'=>'trans'],null,$this),$this)?>
');
            $("#header-alert").removeClass("alert-success");
            $("#header-alert").addClass("alert-danger");
        }
        $("#header-alert").show();
        setTimeout(focus_header_dialog, 500);
        $(".current-filter").hide();
        $('#this_mode').val( 'list' );
        $('#_filter_id').val('');
        $('#filter-select-delete-button').hide();
        var loc = $(location).attr('href');
        if ( loc.indexOf('?') == -1 ) {
            loc = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&_type=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
            <?php $_f0094b_old_params['_2b87a5']=$_f0094b_local_params;$_f0094b_old_vars['_2b87a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            loc += '&workspace_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workspace_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2b87a5'];$_f0094b_local_vars=$_f0094b_old_vars['_2b87a5'];?>

            loc += '&_detach_filter=1';
            location.href = loc;
        } else {
            loc += '&_detach_filter=1';
            location.href = loc;
        }
    },
    "json"
    );
});
function focus_header_dialog () {
    $("#header-alert").focus();
}
$('#filter-select-apply-button').click(function(){
    var filter_id = $('#select-user_filters').val();
    if ( filter_id == 'add_new_filter' || filter_id == '' ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    $('#select_system_filters').val('');
    $('#_filter_id').val( filter_id );
    return true;
});
$('#select-user_filters').change(function(){
    if ($(this).val() == 'add_new_filter' ) {
        $('.new-filter-elem').show();
        $('.delete-filter-elem').hide();
    } else {
        $('.new-filter-elem').hide();
        if ( $(this).val() ) {
            $('.delete-filter-elem').show();
        }
    }
});
var curr_user_filter = $('#select-user_filters').val();
if ( curr_user_filter != 'add_new_filter' && curr_user_filter != '' ) {
    $('.delete-filter-elem').show();
}
var filter_itemCount = 0;
$('#filter-apply').click(function(){
    if (! filter_itemCount ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
});
$('#filter-save-apply').click(function(){
    if (! filter_itemCount ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Filter not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    var filter_name = prompt('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Please enter the Name of this Filter.','this_tag'=>'trans'],null,$this),$this)?>
', '');
    if (! filter_name ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The Filter Name is required.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
    $('#_save_filter_name').val(filter_name);
});
$('#detach-filter-button').click(function(){
    $('#filters-list').remove();
    $('#_detach_filter').val(1);
});
$('#filter-add-button').click(function(){
    var selected_col = $('#filters-selector').val();
    var sel_class = $('[name=filters-selector] option:selected').attr('class');
    var sel_label = $('[name=filters-selector] option:selected').text();
    sel_class = sel_class.replace( 'coltype_', '' );
    var filter_tmpl = $('#selector-tmpl-text');
    if ( selected_col == 'status' ) {
        filter_tmpl = $('#selector-tmpl-status');
    } else if ( sel_class == 'int' || sel_class == 'tinyint' || sel_class == 'double' || sel_class.indexOf('decimal') == 0 ) {
        filter_tmpl = $('#selector-tmpl-int');
    } else if ( sel_class == 'datetime' ) {
        filter_tmpl = $('#selector-tmpl-date');
    }
    var addSelecter = filter_tmpl.clone( true ).appendTo('#filters-list');
    addSelecter.removeClass('hidden');
    addSelecter.removeAttr('id');
    addSelecter.children('div').children('span').html(sel_label);
    if ( selected_col == 'status' ) {
        addSelecter.children('div').children('input').attr('name', '_filter_cond_' + selected_col + '[]');
        addSelecter.children('div').children('select').attr('name', '_filter_value_' + selected_col + '[]');
    } else {
        addSelecter.children('div').children('input').attr('name', '_filter_value_' + selected_col + '[]');
        addSelecter.children('div').children('select').attr('name', '_filter_cond_' + selected_col + '[]');
    }
    $('#filter-parant-block').show();
    $('#filter-parant-block').css('border','none');
    addSelecter.show();
    filter_itemCount++;
});
$('.detach-filter').click(function(){
    if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove this filter condition?','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $(this).parent().parent().remove();
    filter_itemCount--;
});
</script>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d09f75'];$_f0094b_local_vars=$_f0094b_old_vars['_d09f75'];?>

          <?php $_f0094b_old_params['_7a6e69']=$_f0094b_local_params;$_f0094b_old_vars['_7a6e69']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php ob_start();$_f0094b_old_params['_e6e379']=$_f0094b_local_params;$_f0094b_old_vars['_e6e379']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['trim_space'=>'3','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div class="text-right disp-option">
    <button type="button" class="btn btn-outline-primary btn-sm disp-option-button" data-toggle="modal" data-target="#dispOptions">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>

    </button>
    <button data-toggle="modal" data-target="#dispOptions" class="hidden btn btn-secondary alt-disp-option-button btn-sm" type="button">
    <i class="fa fa-television" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </button>
  </div>
  <div class="modal fade" id="dispOptions" tabindex="-1" role="dialog" aria-labelledby="dispOptionsTitle" aria-hidden="true"
    style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dispOptionsTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST">
        <input type="hidden" name="__mode" value="display_options">
        <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" name="_type" value="list">
        <input type="hidden" name="_reset" value="" id="_reset-disp-oprions">
        <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
      <?php $_f0094b_old_params['_3c8d4f']=$_f0094b_local_params;$_f0094b_old_vars['_3c8d4f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3c8d4f'];$_f0094b_local_vars=$_f0094b_old_vars['_3c8d4f'];?>

      <?php $_f0094b_old_params['_8f94a8']=$_f0094b_local_params;$_f0094b_old_vars['_8f94a8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_select" value="1">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8f94a8'];$_f0094b_local_vars=$_f0094b_old_vars['_8f94a8'];?>

      <?php $_f0094b_old_params['_1c2a48']=$_f0094b_local_params;$_f0094b_old_vars['_1c2a48']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="dialog_view" value="1">
        <?php $_f0094b_old_params['_984afb']=$_f0094b_local_params;$_f0094b_old_vars['_984afb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.ref_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="ref_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.ref_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_984afb'];$_f0094b_local_vars=$_f0094b_old_vars['_984afb'];?>

          <?php $_f0094b_old_params['_277191']=$_f0094b_local_params;$_f0094b_old_vars['_277191']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="single_select" value="1">
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_277191'];$_f0094b_local_vars=$_f0094b_old_vars['_277191'];?>

        <input type="hidden" name="target" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <input type="hidden" name="get_col" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
      <?php $_f0094b_old_params['_c465dc']=$_f0094b_local_params;$_f0094b_old_vars['_c465dc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workflow_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workflow_model" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <input type="hidden" name="workflow_type" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.workflow_type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c465dc'];$_f0094b_local_vars=$_f0094b_old_vars['_c465dc'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c2a48'];$_f0094b_local_vars=$_f0094b_old_vars['_1c2a48'];?>

        <input type="hidden" name="return_args" value="<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'filter_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'insert_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'selected_ids_cond','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
">
        <div class="modal-body">
          <div class="container-fluid">
          <?php $_f0094b_old_params['_47cf84']=$_f0094b_local_params;$_f0094b_old_vars['_47cf84']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'cant_hide_in_list','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_642326']=$_f0094b_local_params;$_f0094b_old_vars['_642326']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

            <div class="row form-group">
              <?php $c_085717=null;$_f0094b_old_params['_085717']=$_f0094b_local_params;$_f0094b_old_vars['_085717']=$_f0094b_local_vars;$a_085717=$this->setup_args(['name'=>'disp_options','this_tag'=>'loop'],null,$this);$_085717=-1;$r_085717=true;while($r_085717===true):$r_085717=($_085717!==-1)?false:true;echo $this->block_loop($a_085717,$c_085717,$this,$r_085717,++$_085717,'_085717');ob_start();?>
<?php $c_085717 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_085717=false;}if($c_085717 ):?>

            <?php $_f0094b_old_params['_7c7563']=$_f0094b_local_params;$_f0094b_old_vars['_7c7563']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7c7563'];$_f0094b_local_vars=$_f0094b_old_vars['_7c7563'];?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'__display','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_48cede']=$_f0094b_local_params;$_f0094b_old_vars['_48cede']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_a429a6']=$_f0094b_local_params;$_f0094b_old_vars['_a429a6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__key__','eq'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->function_setvar($this->setup_args(['name'=>'__display','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a429a6'];$_f0094b_local_vars=$_f0094b_old_vars['_a429a6'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_48cede'];$_f0094b_local_vars=$_f0094b_old_vars['_48cede'];?>

                <?php $_f0094b_old_params['_f8e726']=$_f0094b_local_params;$_f0094b_old_vars['_f8e726']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__display','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[2]','setvar'=>'_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('_type','setvar',$this),$this,'setvar')?>

                <label class="custom-control custom-checkbox 
                <?php $_f0094b_old_params['_95fdff']=$_f0094b_local_params;$_f0094b_old_vars['_95fdff']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a7a730']=$_f0094b_local_params;$_f0094b_old_vars['_a7a730']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a7a730'];$_f0094b_local_vars=$_f0094b_old_vars['_a7a730'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_95fdff'];$_f0094b_local_vars=$_f0094b_old_vars['_95fdff'];?>

                <?php $_f0094b_old_params['_0406a6']=$_f0094b_local_params;$_f0094b_old_vars['_0406a6']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_list_options','value'=>'$__key__','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0406a6'];$_f0094b_local_vars=$_f0094b_old_vars['_0406a6'];?>
">
                  <?php $_f0094b_old_params['_9e7fde']=$_f0094b_local_params;$_f0094b_old_vars['_9e7fde']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_type','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_9e7fde'];$_f0094b_local_vars=$_f0094b_old_vars['_9e7fde'];?>

                  <input <?php $_f0094b_old_params['_2f03a3']=$_f0094b_local_params;$_f0094b_old_vars['_2f03a3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f03a3'];$_f0094b_local_vars=$_f0094b_old_vars['_2f03a3'];?>
 <?php $_f0094b_old_params['_e578ef']=$_f0094b_local_params;$_f0094b_old_vars['_e578ef']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'cant_hide_in_list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e578ef'];$_f0094b_local_vars=$_f0094b_old_vars['_e578ef'];?>
<?php $_f0094b_old_params['_4b3fc1']=$_f0094b_local_params;$_f0094b_old_vars['_4b3fc1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_type','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4b3fc1'];$_f0094b_local_vars=$_f0094b_old_vars['_4b3fc1'];?>
<?php $_f0094b_old_params['_5f5f89']=$_f0094b_local_params;$_f0094b_old_vars['_5f5f89']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_no_primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_f07b79']=$_f0094b_local_params;$_f0094b_old_vars['_f07b79']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f07b79'];$_f0094b_local_vars=$_f0094b_old_vars['_f07b79'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5f5f89'];$_f0094b_local_vars=$_f0094b_old_vars['_5f5f89'];?>
<?php $_f0094b_old_params['_578dcd']=$_f0094b_local_params;$_f0094b_old_vars['_578dcd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_578dcd'];$_f0094b_local_vars=$_f0094b_old_vars['_578dcd'];?>
 type="checkbox" class="custom-control-input disp-option-item" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                  <span class="custom-control-indicator<?php $_f0094b_old_params['_7d9d3b']=$_f0094b_local_params;$_f0094b_old_vars['_7d9d3b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_list_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7d9d3b'];$_f0094b_local_vars=$_f0094b_old_vars['_7d9d3b'];?>
"></span>
                  <span class="custom-control-description"> <?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</span>
                </label>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f8e726'];$_f0094b_local_vars=$_f0094b_old_vars['_f8e726'];?>

            <?php $_f0094b_old_params['_24a6e6']=$_f0094b_local_params;$_f0094b_old_vars['_24a6e6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              </div>
            </div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_24a6e6'];$_f0094b_local_vars=$_f0094b_old_vars['_24a6e6'];?>

            <?php endif;$c_085717=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_085717'];$_f0094b_local_vars=$_f0094b_old_vars['_085717'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_642326'];$_f0094b_local_vars=$_f0094b_old_vars['_642326'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_47cf84'];$_f0094b_local_vars=$_f0094b_old_vars['_47cf84'];?>

            <div class="row form-group">
              <div class="col-md-2"><label for="_per_page"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Paging','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <input id="_per_page" step="1" list="per_page_complete" type="number" min="1" max="5000" class="form-control form-control-sm very-short control-inline" name="_per_page" value="<?php echo $this->function_var($this->setup_args(['name'=>'_per_page','this_tag'=>'var'],null,$this),$this)?>
">
                <?php echo $this->function_trans($this->setup_args(['phrase'=>'Items per Page','this_tag'=>'trans'],null,$this),$this)?>

              </div>
            </div>
            <?php $_f0094b_old_params['_c637a7']=$_f0094b_local_params;$_f0094b_old_vars['_c637a7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'search_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Search','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <?php $c_3845cc=null;$_f0094b_old_params['_3845cc']=$_f0094b_local_params;$_f0094b_old_vars['_3845cc']=$_f0094b_local_vars;$a_3845cc=$this->setup_args(['name'=>'search_options','this_tag'=>'loop'],null,$this);$_3845cc=-1;$r_3845cc=true;while($r_3845cc===true):$r_3845cc=($_3845cc!==-1)?false:true;echo $this->block_loop($a_3845cc,$c_3845cc,$this,$r_3845cc,++$_3845cc,'_3845cc');ob_start();?>
<?php $c_3845cc = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_3845cc=false;}if($c_3845cc ):?>

                  <label class="custom-control custom-checkbox">
                    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                    <input<?php $_f0094b_old_params['_4ace27']=$_f0094b_local_params;$_f0094b_old_vars['_4ace27']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ace27'];$_f0094b_local_vars=$_f0094b_old_vars['_4ace27'];?>
 type="checkbox" class="custom-control-input" name="_s_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description"> <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[0]','setvar'=>'search_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('search_col','setvar',$this),$this,'setvar')?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'$search_col','this_tag'=>'trans'],null,$this),$this)?>
</span>
                  </label>
                <?php endif;$c_3845cc=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_3845cc'];$_f0094b_local_vars=$_f0094b_old_vars['_3845cc'];?>

              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Search Type','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-5">
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_5179f7']=$_f0094b_local_params;$_f0094b_old_vars['_5179f7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_search_type','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5179f7'];$_f0094b_local_vars=$_f0094b_old_vars['_5179f7'];?>
<?php $_f0094b_old_params['_e2a263']=$_f0094b_local_params;$_f0094b_old_vars['_e2a263']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e2a263'];$_f0094b_local_vars=$_f0094b_old_vars['_e2a263'];?>
 name="_user_search_type" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Phrase','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_7b823b']=$_f0094b_local_params;$_f0094b_old_vars['_7b823b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'2','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7b823b'];$_f0094b_local_vars=$_f0094b_old_vars['_7b823b'];?>
 name="_user_search_type" value="2">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'OR','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_fb81e2']=$_f0094b_local_params;$_f0094b_old_vars['_fb81e2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_search_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fb81e2'];$_f0094b_local_vars=$_f0094b_old_vars['_fb81e2'];?>
 name="_user_search_type" value="3">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'AND','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Keyword','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-3">
                <input type="hidden" name="_user_keep_search" value="0">
                <label class="custom-control custom-checkbox">
                  <input type="checkbox" <?php $_f0094b_old_params['_3d3ad8']=$_f0094b_local_params;$_f0094b_old_vars['_3d3ad8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_user_keep_search','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d3ad8'];$_f0094b_local_vars=$_f0094b_old_vars['_3d3ad8'];?>
 class="custom-control-input" name="_user_keep_search" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"> <?php echo $this->function_trans($this->setup_args(['phrase'=>'Keep Keyword','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Replace','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10">
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_1fb88a']=$_f0094b_local_params;$_f0094b_old_vars['_1fb88a']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_replace_type','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1fb88a'];$_f0094b_local_vars=$_f0094b_old_vars['_1fb88a'];?>
 name="_user_replace_type" value="0">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Case Insensitive','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
                <label class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_82ffbf']=$_f0094b_local_params;$_f0094b_old_vars['_82ffbf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_replace_type','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_82ffbf'];$_f0094b_local_vars=$_f0094b_old_vars['_82ffbf'];?>
 name="_user_replace_type" value="1">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Case Sensitive','this_tag'=>'trans'],null,$this),$this)?>
</span>
                </label>
              </div>
            </div>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c637a7'];$_f0094b_local_vars=$_f0094b_old_vars['_c637a7'];?>

            <div class="row form-group">
              <?php $c_2685f5=null;$_f0094b_old_params['_2685f5']=$_f0094b_local_params;$_f0094b_old_vars['_2685f5']=$_f0094b_local_vars;$a_2685f5=$this->setup_args(['name'=>'sort_options','this_tag'=>'loop'],null,$this);$_2685f5=-1;$r_2685f5=true;while($r_2685f5===true):$r_2685f5=($_2685f5!==-1)?false:true;echo $this->block_loop($a_2685f5,$c_2685f5,$this,$r_2685f5,++$_2685f5,'_2685f5');ob_start();?>
<?php $c_2685f5 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_2685f5=false;}if($c_2685f5 ):?>

              <?php $_f0094b_old_params['_6a79fb']=$_f0094b_local_params;$_f0094b_old_vars['_6a79fb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Sort','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-7">
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6a79fb'];$_f0094b_local_vars=$_f0094b_old_vars['_6a79fb'];?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <label class="custom-control custom-radio">
                    <input class="custom-control-input" type="radio" <?php $_f0094b_old_params['_3b9a0d']=$_f0094b_local_params;$_f0094b_old_vars['_3b9a0d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3b9a0d'];$_f0094b_local_vars=$_f0094b_old_vars['_3b9a0d'];?>
 name="_user_sort_by" value="<?php echo $this->function_var($this->setup_args(['name'=>'__key__','this_tag'=>'var'],null,$this),$this)?>
">
                    <span class="custom-control-indicator"></span>
                    <span class="custom-control-description"><?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</span>
                  </label>
              <?php $_f0094b_old_params['_2fbbf8']=$_f0094b_local_params;$_f0094b_old_vars['_2fbbf8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              </div>
              <div class="col-md-3">
                <select name="_user_sort_order" class="form-control custom-select">
                  <?php $c_71d33e=null;$_f0094b_old_params['_71d33e']=$_f0094b_local_params;$_f0094b_old_vars['_71d33e']=$_f0094b_local_vars;$a_71d33e=$this->setup_args(['name'=>'order_options','this_tag'=>'loop'],null,$this);$_71d33e=-1;$r_71d33e=true;while($r_71d33e===true):$r_71d33e=($_71d33e!==-1)?false:true;echo $this->block_loop($a_71d33e,$c_71d33e,$this,$r_71d33e,++$_71d33e,'_71d33e');ob_start();?>
<?php $c_71d33e = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_71d33e=false;}if($c_71d33e ):?>

                  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'__value__[1]','setvar'=>'_checked','this_tag'=>'var'],null,$this),$this),$this->setup_args('_checked','setvar',$this),$this,'setvar')?>

                  <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__counter__','this_tag'=>'var'],null,$this),$this)?>
"<?php $_f0094b_old_params['_c283bc']=$_f0094b_local_params;$_f0094b_old_vars['_c283bc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c283bc'];$_f0094b_local_vars=$_f0094b_old_vars['_c283bc'];?>
><?php echo $this->function_var($this->setup_args(['name'=>'__value__[0]','this_tag'=>'var'],null,$this),$this)?>
</option>
                  <?php endif;$c_71d33e=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_71d33e'];$_f0094b_local_vars=$_f0094b_old_vars['_71d33e'];?>

                </select>
              </div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2fbbf8'];$_f0094b_local_vars=$_f0094b_old_vars['_2fbbf8'];?>

              <?php endif;$c_2685f5=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_2685f5'];$_f0094b_local_vars=$_f0094b_old_vars['_2685f5'];?>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="reset-disp-option" class="btn btn-warning"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Reset','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="submit" class="btn btn-primary"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save Changes','this_tag'=>'trans'],null,$this),$this)?>
</button>
        </div>
      </form>
      </div>
    </div>
  </div>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'list_max_cols','setvar'=>'_list_max_cols','this_tag'=>'property'],null,$this),$this),$this->setup_args('_list_max_cols','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_79ff96']=$_f0094b_local_params;$_f0094b_old_vars['_79ff96']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'dialog_max_cols','setvar'=>'_list_max_cols','this_tag'=>'property'],null,$this),$this),$this->setup_args('_list_max_cols','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_79ff96'];$_f0094b_local_vars=$_f0094b_old_vars['_79ff96'];?>

<?php $_f0094b_old_params['_9db0c4']=$_f0094b_local_params;$_f0094b_old_vars['_9db0c4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_list_max_cols','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
$('#reset-disp-option').click(function(){
    if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to reset display options?','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        return false;
    }
    $('#_reset-disp-oprions').val(1);
});
$('.disp-option-item').change(function(){
    let checkdCnt = 0;
    $('.disp-option-item').each(function() {
        if ( $(this).prop( 'checked' ) ) {
            checkdCnt++;
        }
    });
    if ( <?php echo $this->function_var($this->setup_args(['name'=>'_list_max_cols','this_tag'=>'var'],null,$this),$this)?>
 < checkdCnt ) {
      <?php $_f0094b_old_params['_c03327']=$_f0094b_local_params;$_f0094b_old_vars['_c03327']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'More than %s columns are not reflected in the dialog.','params'=>'$_list_max_cols','this_tag'=>'trans'],null,$this),$this)?>
' );
      <?php else:?>

        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'More than %s columns are not reflected in the display.','params'=>'$_list_max_cols','this_tag'=>'trans'],null,$this),$this)?>
' );
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c03327'];$_f0094b_local_vars=$_f0094b_old_vars['_c03327'];?>

    }
});
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9db0c4'];$_f0094b_local_vars=$_f0094b_old_vars['_9db0c4'];?>

<?php endif;$_e6e379=ob_get_clean();echo $this->modifier_trim_space($_e6e379,$this->setup_args('3','trim_space',$this),$this,'trim_space');$_f0094b_local_params=$_f0094b_old_params['_e6e379'];$_f0094b_local_vars=$_f0094b_old_vars['_e6e379'];?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7a6e69'];$_f0094b_local_vars=$_f0094b_old_vars['_7a6e69'];?>

            <?php $_f0094b_old_params['_a0b157']=$_f0094b_local_params;$_f0094b_old_vars['_a0b157']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <div class="modal fade" id="startUpload" tabindex="-1" role="dialog" aria-labelledby="startUploadTitle" aria-hidden="true"
        style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="startUploadTitle"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload','this_tag'=>'trans'],null,$this),$this)?>
</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <div class="alert alert-success hidden" id="clear-history-alert" role="alert" tabindex="0">
              <button onclick="$('#clear-history-alert').hide();" type="button" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
                <span aria-hidden="true">&times;</span>
              </button>
              <?php echo $this->function_trans($this->setup_args(['phrase'=>'The upload path history has been cleared successfully.','this_tag'=>'trans'],null,$this),$this)?>

            </div>
              <div class="container-fluid" id="drop-zone">
                <form>
                <span id="file-chooser" class="btn btn-success fileinput-button">
                    <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select File...','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    <!-- The file input field used as target for the file upload widget -->
                    <input id="fileupload" type="file" name="files[]" multiple
                        onfocus="$('#file-chooser').css('border','2px solid green');"
                        onblur="$('#file-chooser').css('border','none');">
                </span>
              <?php $_f0094b_old_params['_1b637a']=$_f0094b_local_params;$_f0094b_old_vars['_1b637a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'asset_overwrite','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <label class="custom-control custom-checkbox" style="margin-top: 10px;margin-left: 7px">
                  <input type="checkbox" class="custom-control-input"
                    id="asset_overwrite" name="overwrite" value="0">
                  <span class="custom-control-indicator"></span>
                  <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Overwrite files with the same path','this_tag'=>'trans'],null,$this),$this)?>

                </label>
                <script>
                $('#asset_overwrite').change(function(){
                    if ($(this).prop('checked')) {
                        $(this).val('1');
                    } else {
                        $(this).val('0');
                    }
                });
                </script>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1b637a'];$_f0094b_local_vars=$_f0094b_old_vars['_1b637a'];?>

                <div class="form-inline" style="margin: 10px 7px">
                  <?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload Path','this_tag'=>'trans'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_46f878']=$_f0094b_local_params;$_f0094b_old_vars['_46f878']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model_out_path','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->modifier_add_slash(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model_out_path','escape'=>'','add_slash'=>'','setvar'=>'model_out_path','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('','add_slash',$this),$this,'add_slash'),$this->setup_args('model_out_path','setvar',$this),$this,'setvar')?>

                    <?php echo $this->function_setvar($this->setup_args(['name'=>'extra_path','value'=>'$model_out_path','append'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_46f878'];$_f0094b_local_vars=$_f0094b_old_vars['_46f878'];?>

                  <input id="extra_path" type="text" style="width:200px;" class="form-control" name="extra_path" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'extra_path','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
                  <?php echo $this->function_setvar($this->setup_args(['name'=>'upload_paths','value'=>'$extra_path','function'=>'unshift','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php echo $this->modifier_setvar($this->modifier_array_unique($this->function_var($this->setup_args(['name'=>'upload_paths','array_unique'=>'','setvar'=>'upload_paths','this_tag'=>'var'],null,$this),$this),$this->setup_args('','array_unique',$this),$this,'array_unique'),$this->setup_args('upload_paths','setvar',$this),$this,'setvar')?>

                  <?php echo $this->modifier_setvar($this->function_count($this->setup_args(['name'=>'$upload_paths','setvar'=>'path_cnt','this_tag'=>'count'],null,$this),$this),$this->setup_args('path_cnt','setvar',$this),$this,'setvar')?>

                <?php $_f0094b_old_params['_8d14cc']=$_f0094b_local_params;$_f0094b_old_vars['_8d14cc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'path_cnt','gt'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <div id="upload_paths-box">
                  <?php $c_ce244a=null;$_f0094b_old_params['_ce244a']=$_f0094b_local_params;$_f0094b_old_vars['_ce244a']=$_f0094b_local_vars;$a_ce244a=$this->setup_args(['name'=>'upload_paths','this_tag'=>'loop'],null,$this);$_ce244a=-1;$r_ce244a=true;while($r_ce244a===true):$r_ce244a=($_ce244a!==-1)?false:true;echo $this->block_loop($a_ce244a,$c_ce244a,$this,$r_ce244a,++$_ce244a,'_ce244a');ob_start();?>
<?php $c_ce244a = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_ce244a=false;}if($c_ce244a ):?>

                    <?php $_f0094b_old_params['_1c8c79']=$_f0094b_local_params;$_f0094b_old_vars['_1c8c79']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <button class="btn ml-3 btn-secondary" id="toggle-upload_path"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
</button>
                    <span class="hidden" id="upload_path-wrapper">
                    <select class="form-control custom-select short" name="upload_path" id="upload_path"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c8c79'];$_f0094b_local_vars=$_f0094b_old_vars['_1c8c79'];?>

                      <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" <?php $_f0094b_old_params['_519650']=$_f0094b_local_params;$_f0094b_old_vars['_519650']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'extra_path','eq'=>'$__value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_519650'];$_f0094b_local_vars=$_f0094b_old_vars['_519650'];?>
><?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</option>
                    <?php $_f0094b_old_params['_a6cbc2']=$_f0094b_local_params;$_f0094b_old_vars['_a6cbc2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</select>
                    <button class="btn ml-0 btn-secondary btn-sm" id="clear-upload_path">  <i class="fa fa-trash" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Clear','this_tag'=>'trans'],null,$this),$this)?>
</span></button>
                    </span>
                  </div>
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a6cbc2'];$_f0094b_local_vars=$_f0094b_old_vars['_a6cbc2'];?>

                  <?php endif;$c_ce244a=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_ce244a'];$_f0094b_local_vars=$_f0094b_old_vars['_ce244a'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8d14cc'];$_f0094b_local_vars=$_f0094b_old_vars['_8d14cc'];?>

                </div>
                <!-- The container for the uploaded files -->
                <div id="files" class="files"></div>
                </form>
              </div>
              <!-- The global progress bar -->
              <div id="progress" class="progress">
                <div class="progress-bar progress-bar-success"></div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary upload-cancel-button" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <button type="submit" class="btn btn-primary new-filter-elem hidden" id="filter-apply"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Next','this_tag'=>'trans'],null,$this),$this)?>
</button>
            </div>
          </div>
        </div>
      </div>
<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script src="assets/js/vendor/jquery.ui.widget.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script src="assets/js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'query_string','regex_replace'=>'\'/&offset=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&offset=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&deleted=1/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&deleted=1/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_870143']=$_f0094b_local_params;$_f0094b_old_vars['_870143']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&filter_params=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&filter_params=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&magic_token=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&magic_token=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

  <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&query=[^&]*/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&query=[^&]*/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_870143'];$_f0094b_local_vars=$_f0094b_old_vars['_870143'];?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}does_act=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}does_act=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}apply_actions=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}apply_actions=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}background_proccess_running=[0-9]{1,}/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}background_proccess_running=[0-9]{1,}/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&{0,1}html_background_proccess=1/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&{0,1}html_background_proccess=1/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&+/\',\'&\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&+/\\\',\\\'&\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/^&+/\',\'\'','setvar'=>'_query_string','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/^&+/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_query_string','setvar',$this),$this,'setvar')?>

<script src="assets/js/jquery.fileupload.js"></script>
<script>
$('#upload_path').change(function(){
    $('#extra_path').val( $(this).val() );
});
$('#clear-upload_path').click(function(){
    if ( !confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to delete the upload path history?','this_tag'=>'trans'],null,$this),$this)?>
') ) {
        return false;
    }
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", {
        '__mode' : 'clear_extra_paths',
        'workspace_id' : '<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
',
        'magic_token': '<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
'
    },
    function ( data ) {
        if( data.result == true ) {
            $('#upload_paths-box').hide( 300 );
            $('#clear-history-alert').show();
            $('#clear-history-alert').focus();
        } else {
            alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while clearing upload path history.','this_tag'=>'trans'],null,$this),$this)?>
");
        }
    },
    "json"
    );
    return false;
});
$('#toggle-upload_path').click(function(){
    $('#upload_path-wrapper').toggle();
    if ( $(this).html() == '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
' ) {
        $(this).html( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Hide','this_tag'=>'trans'],null,$this),$this)?>
' );
        $('#upload_path-wrapper').css('display', 'inline');
    } else {
        $(this).html( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select','this_tag'=>'trans'],null,$this),$this)?>
' );
    }
    return false;
});
var this_url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?<?php $_f0094b_old_params['_29e369']=$_f0094b_local_params;$_f0094b_old_vars['_29e369']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&<?php endif;$_f0094b_local_params=$_f0094b_old_params['_29e369'];$_f0094b_local_vars=$_f0094b_old_vars['_29e369'];?>
<?php echo $this->function_var($this->setup_args(['name'=>'_query_string','this_tag'=>'var'],null,$this),$this)?>
&sort=id&direction=desc';
var selected_ids = [];
var upload_count = 0;
var receive_count = 0;
var DropZone = document.getElementById('drop-zone');
DropZone.addEventListener('dragover', function (event) {
    $('#drop-zone').css('background-color','#ddf');
});
DropZone.addEventListener('dragleave', function (event) {
    $('#drop-zone').css('background-color','#fff');
});
$('#drop-zone').css('border','3px dashed <?php $_f0094b_old_params['_bb4490']=$_f0094b_local_params;$_f0094b_old_vars['_bb4490']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bb4490'];$_f0094b_local_vars=$_f0094b_old_vars['_bb4490'];?>
');
$('#drop-zone').css('margin','1px');
$('#drop-zone').css('padding','8px');
$(function () {
    'use strict';
    var url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=upload_multi&magic_token=<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&model=asset&name=file<?php $_f0094b_old_params['_a7ff7f']=$_f0094b_local_params;$_f0094b_old_vars['_a7ff7f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','eq'=>'filter_class_image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&select_system_filters=filter_class_image<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a7ff7f'];$_f0094b_local_vars=$_f0094b_old_vars['_a7ff7f'];?>
';
    $('#fileupload').fileupload({
        url: url,
        dataType: 'json',
        dropZone: $("#drop-zone"),
        // formData: {extra_path: $('#extra_path').val()},
        add: function (e, data) {
            data.formData = {extra_path: $('#extra_path').val()<?php $_f0094b_old_params['_c0d8b2']=$_f0094b_local_params;$_f0094b_old_vars['_c0d8b2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'asset_overwrite','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
, overwrite: $('#asset_overwrite').val()<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c0d8b2'];$_f0094b_local_vars=$_f0094b_old_vars['_c0d8b2'];?>
};
            data.submit();
            upload_count++;
            $("#drop-zone").hide( 'slow' );
            $('.upload-cancel-button').hide( 'slow' );
        },
        done: function (e, data) {
            $('#clear-history-alert').hide();
            if (!data.result.files) {
                var error = data.result.message;
                $('#progress .progress-bar').css(
                    'width', 0
                );
                alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while uploading.','this_tag'=>'trans'],null,$this),$this)?>
"+' (' + error + ')');
                upload_count = 0;
                receive_count = 0;
                selected_ids = [];
                return;
            }
            $("input[name='id[]']").each(function(){
                if ( $(this).prop('checked') ) {
                    if( $.inArray($(this).val(), selected_ids ) == -1 ) {
                        selected_ids.push($(this).val());
                    }
                }
            });
            $.each(data.result.files, function (index, file) {
                // $('<p/>').text(file.name).appendTo('#files');
                var input_cb = $('#select_ids_tmpl');
                var new_input = input_cb.clone( true ).appendTo('#list-select-form');
                new_input.removeAttr('id');
                new_input.attr('name','id[]');
                new_input.val(file.asset_id);
                selected_ids.push(file.asset_id);
                receive_count++;
                //if ( upload_count == receive_count ) {
                setTimeout(uploaded_hdlr, 1000);
                //}
            });
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress .progress-bar').css(
                'width',
                progress + '%'
            );
            $('#drop-zone').css('background-color','#fff');
            $("#drop-zone").show( 'slow' );
        }
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');
});
function uploaded_hdlr () {
    this_url += '&selected_ids=' + selected_ids.join(',');
    <?php $_f0094b_old_params['_005570']=$_f0094b_local_params;$_f0094b_old_vars['_005570']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    $("#__mode").prop('value', 'insert_asset');
    $("#list-select-form").submit();
    <?php else:?>

    submit_params_to_post( this_url );
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_005570'];$_f0094b_local_vars=$_f0094b_old_vars['_005570'];?>

}
</script>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0b157'];$_f0094b_local_vars=$_f0094b_old_vars['_a0b157'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_faaf2e'];$_f0094b_local_vars=$_f0094b_old_vars['_faaf2e'];?>

        <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_c66992']=$_f0094b_local_params;$_f0094b_old_vars['_c66992']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php ob_start();$_f0094b_old_params['_5210a6']=$_f0094b_local_params;$_f0094b_old_vars['_5210a6']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['trim_space'=>'3','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div class="text-right disp-option">
    <button type="button" class="btn btn-outline-primary btn-sm disp-option-button" data-toggle="modal" data-target="#dispOptions">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>

    </button>
    <button data-toggle="modal" data-target="#dispOptions" class="hidden btn btn-secondary alt-disp-option-button btn-sm" type="button">
      <i class="fa fa-television" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </button>
  </div>
  <div class="modal fade" id="dispOptions" tabindex="-1" role="dialog" aria-labelledby="LongTitle" aria-hidden="true"
    style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
        <?php echo $this->modifier_setvar($this->function_trans($this->setup_args(['phrase'=>'Display Options','setvar'=>'options_title','this_tag'=>'trans'],null,$this),$this),$this->setup_args('options_title','setvar',$this),$this,'setvar')?>

          <h5 class="modal-title" id="LongTitle"><?php echo $this->function_var($this->setup_args(['name'=>'options_title','this_tag'=>'var'],null,$this),$this)?>
</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST" id="disp_options_form">
        <input type="hidden" name="__mode" value="display_options">
        <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" name="_type" value="edit">
        <input type="hidden" name="_reset" value="" id="_reset-disp-oprions">
        <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" id="_field_sort_order" name="field_sort_order" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_field_sort_order','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php $_f0094b_old_params['_8fff85']=$_f0094b_local_params;$_f0094b_old_vars['_8fff85']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8fff85'];$_f0094b_local_vars=$_f0094b_old_vars['_8fff85'];?>

        <div class="modal-body">
          <div class="container-fluid">
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10" id="edit_options_loop">
              <span id="_start_options"></span>
          <?php $_f0094b_old_params['_593088']=$_f0094b_local_params;$_f0094b_old_vars['_593088']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_objectcontext($this->setup_args(['this_tag'=>'objectcontext'],null,$this),null,$this,true,true)):?>

            <?php $c_f35b1a=null;$_f0094b_old_params['_f35b1a']=$_f0094b_local_params;$_f0094b_old_vars['_f35b1a']=$_f0094b_local_vars;$a_f35b1a=$this->setup_args(['type'=>'edit','option'=>'1','this_tag'=>'objectcols'],null,$this);$_f35b1a=-1;$r_f35b1a=true;while($r_f35b1a===true):$r_f35b1a=($_f35b1a!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectcols($a_f35b1a,$c_f35b1a,$this,$r_f35b1a,++$_f35b1a,'_f35b1a');ob_start();?>
<?php $c_f35b1a = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f35b1a=false;}if($c_f35b1a ):?>

              <?php $_f0094b_old_params['_645622']=$_f0094b_local_params;$_f0094b_old_vars['_645622']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_308f75']=$_f0094b_local_params;$_f0094b_old_vars['_308f75']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'hidden','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_370de8']=$_f0094b_local_params;$_f0094b_old_vars['_370de8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'allow_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'use_comment','setvar'=>'use_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('use_comment','setvar',$this),$this,'setvar')?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'accept_comment','setvar'=>'accept_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('accept_comment','setvar',$this),$this,'setvar')?>

                    <?php $_f0094b_old_params['_bd8971']=$_f0094b_local_params;$_f0094b_old_vars['_bd8971']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'accept_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <?php $_f0094b_old_params['_cadada']=$_f0094b_local_params;$_f0094b_old_vars['_cadada']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'use_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cadada'];$_f0094b_local_vars=$_f0094b_old_vars['_cadada'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bd8971'];$_f0094b_local_vars=$_f0094b_old_vars['_bd8971'];?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_370de8'];$_f0094b_local_vars=$_f0094b_old_vars['_370de8'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_308f75'];$_f0094b_local_vars=$_f0094b_old_vars['_308f75'];?>

                <?php $_f0094b_old_params['_fb66a1']=$_f0094b_local_params;$_f0094b_old_vars['_fb66a1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_63dd3d']=$_f0094b_local_params;$_f0094b_old_vars['_63dd3d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_63dd3d'];$_f0094b_local_vars=$_f0094b_old_vars['_63dd3d'];?>

                  <?php $_f0094b_old_params['_93df94']=$_f0094b_local_params;$_f0094b_old_vars['_93df94']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_93df94'];$_f0094b_local_vars=$_f0094b_old_vars['_93df94'];?>

                  <label class="edit-options-child <?php $_f0094b_old_params['_97900c']=$_f0094b_local_params;$_f0094b_old_vars['_97900c']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_97900c'];$_f0094b_local_vars=$_f0094b_old_vars['_97900c'];?>
custom-control custom-checkbox" id="label-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
                    <?php $_f0094b_old_params['_3a7f70']=$_f0094b_local_params;$_f0094b_old_vars['_3a7f70']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <input type="hidden" id="" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3a7f70'];$_f0094b_local_vars=$_f0094b_old_vars['_3a7f70'];?>

                    <input<?php $_f0094b_old_params['_4e344c']=$_f0094b_local_params;$_f0094b_old_vars['_4e344c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php else:?>
<?php $_f0094b_old_params['_40a494']=$_f0094b_local_params;$_f0094b_old_vars['_40a494']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 onclick="return false;" checked <?php else:?>

                    <?php $_f0094b_old_params['_2f2e81']=$_f0094b_local_params;$_f0094b_old_vars['_2f2e81']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f2e81'];$_f0094b_local_vars=$_f0094b_old_vars['_2f2e81'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_40a494'];$_f0094b_local_vars=$_f0094b_old_vars['_40a494'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4e344c'];$_f0094b_local_vars=$_f0094b_old_vars['_4e344c'];?>
<?php $_f0094b_old_params['_7acff6']=$_f0094b_local_params;$_f0094b_old_vars['_7acff6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7acff6'];$_f0094b_local_vars=$_f0094b_old_vars['_7acff6'];?>
 type="<?php $_f0094b_old_params['_fc91d6']=$_f0094b_local_params;$_f0094b_old_vars['_fc91d6']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden<?php else:?>
checkbox<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fc91d6'];$_f0094b_local_vars=$_f0094b_old_vars['_fc91d6'];?>
" class="custom-control-input disp_option disp_option-cb" id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <span class="custom-control-indicator<?php $_f0094b_old_params['_438095']=$_f0094b_local_params;$_f0094b_old_vars['_438095']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_438095'];$_f0094b_local_vars=$_f0094b_old_vars['_438095'];?>
<?php $_f0094b_old_params['_e0f9e8']=$_f0094b_local_params;$_f0094b_old_vars['_e0f9e8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e0f9e8'];$_f0094b_local_vars=$_f0094b_old_vars['_e0f9e8'];?>
"></span>
                    <span class="custom-control-description"> 
                    <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</span>
                  </label>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fb66a1'];$_f0094b_local_vars=$_f0094b_old_vars['_fb66a1'];?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_645622'];$_f0094b_local_vars=$_f0094b_old_vars['_645622'];?>

            <?php endif;$c_f35b1a=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f35b1a'];$_f0094b_local_vars=$_f0094b_old_vars['_f35b1a'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_593088'];$_f0094b_local_vars=$_f0094b_old_vars['_593088'];?>

                <?php $c_807957=null;$_f0094b_old_params['_807957']=$_f0094b_local_params;$_f0094b_old_vars['_807957']=$_f0094b_local_vars;$a_807957=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_807957=-1;$r_807957=true;while($r_807957===true):$r_807957=($_807957!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_807957,$c_807957,$this,$r_807957,++$_807957,'_807957');ob_start();?>
<?php $c_807957 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_807957=false;}if($c_807957 ):?>

                <?php $c_12b6a6=null;$_f0094b_old_params['_12b6a6']=$_f0094b_local_params;$_f0094b_old_vars['_12b6a6']=$_f0094b_local_vars;$a_12b6a6=$this->setup_args(['name'=>'_fieldbasename','this_tag'=>'setvarblock'],null,$this);ob_start();?>
field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_12b6a6=ob_get_clean();$c_12b6a6=$this->block_setvarblock($a_12b6a6,$c_12b6a6,$this,$r_12b6a6,1,'_12b6a6');echo($c_12b6a6); $_f0094b_local_params=$_f0094b_old_params['_12b6a6'];?>

                <label class="<?php $_f0094b_old_params['_e61c19']=$_f0094b_local_params;$_f0094b_old_vars['_e61c19']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e61c19'];$_f0094b_local_vars=$_f0094b_old_vars['_e61c19'];?>
custom-control custom-checkbox" id="label-<?php echo $this->function_var($this->setup_args(['name'=>'_fieldbasename','this_tag'=>'var'],null,$this),$this)?>
">
                  <input<?php $_f0094b_old_params['_680636']=$_f0094b_local_params;$_f0094b_old_vars['_680636']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_680636'];$_f0094b_local_vars=$_f0094b_old_vars['_680636'];?>

                  <?php $_f0094b_old_params['_8bb214']=$_f0094b_local_params;$_f0094b_old_vars['_8bb214']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8bb214'];$_f0094b_local_vars=$_f0094b_old_vars['_8bb214'];?>

                  <?php $_f0094b_old_params['_24f3ee']=$_f0094b_local_params;$_f0094b_old_vars['_24f3ee']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_24f3ee'];$_f0094b_local_vars=$_f0094b_old_vars['_24f3ee'];?>
 <?php $_f0094b_old_params['_c981ed']=$_f0094b_local_params;$_f0094b_old_vars['_c981ed']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c981ed'];$_f0094b_local_vars=$_f0094b_old_vars['_c981ed'];?>
 type="checkbox" class="custom-control-input disp_option disp_option-cb" id="field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                  <span class="custom-control-indicator<?php $_f0094b_old_params['_bc0655']=$_f0094b_local_params;$_f0094b_old_vars['_bc0655']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bc0655'];$_f0094b_local_vars=$_f0094b_old_vars['_bc0655'];?>
"></span>
                  <span class="custom-control-description"> 
                  <?php echo paml_htmlspecialchars($this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'field__name','trans'=>'1','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','trans',$this),$this,'trans'),ENT_QUOTES)?>
</span>
                </label>
                <?php endif;$c_807957=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_807957'];$_f0094b_local_vars=$_f0094b_old_vars['_807957'];?>

              <?php $_f0094b_old_params['_4e00f4']=$_f0094b_local_params;$_f0094b_old_vars['_4e00f4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div>
                  <p class="text-muted hint-block">
                    <i class="fa fa-question-circle-o" aria-hidden="true"></i>
                    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Hint','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    <?php echo $this->function_trans($this->setup_args(['phrase'=>'You can change the display order of fields with drag &amp; drop.','this_tag'=>'trans'],null,$this),$this)?>

                  </p>
                </div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4e00f4'];$_f0094b_local_vars=$_f0094b_old_vars['_4e00f4'];?>

              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="reset-disp-option" class="btn btn-warning" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Reset','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" id="disp_options_save" class="btn btn-primary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save Changes','this_tag'=>'trans'],null,$this),$this)?>
</button>
        </div>
      </form>
      </div>
    </div>
  </div>
<?php endif;$_5210a6=ob_get_clean();echo $this->modifier_trim_space($_5210a6,$this->setup_args('3','trim_space',$this),$this,'trim_space');$_f0094b_local_params=$_f0094b_old_params['_5210a6'];$_f0094b_local_vars=$_f0094b_old_vars['_5210a6'];?>

<script>
<?php $_f0094b_old_params['_a4cbd3']=$_f0094b_local_params;$_f0094b_old_vars['_a4cbd3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#edit_options_loop').sortable({
    stop: function( evt, ui ) {
        sort_fields();
    }
});
$("#edit_options_loop").ksortable();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a4cbd3'];$_f0094b_local_vars=$_f0094b_old_vars['_a4cbd3'];?>

function sort_fields(){
    var editor_data = [];
    if(tinymce && tinymce.editors){
        for(var i = tinymce.editors.length -1; i >= 0; i--){
            var ed = tinymce.editors[i];
            editor_data.push({
                target  : ed.targetElm,
                setting : ed.settings
            });
        }
    }
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        var field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
        $('#' + field_name + '-wrapper' ).find('');
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    for(var i = 0; i < editor_data.length; i++){
        tinyMCE.execCommand('mceAddEditor', false, editor_data[i].target);
    }
    reorder_fields();
}
function reorder_fields(){
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        let field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    var oldTextFormat = null;
    if ( $('#text_format-select').length ){
        oldTextFormat = $('#text_format-select').val();
    }
    if( tinymce && ( oldTextFormat == null || oldTextFormat == 'richtext' ) ){
        tinymce.EditorManager.remove();
        editorInit();
    }
    $(document).trigger('pcmsx.reorder_fields_done');
}
$("#disp_options_save").click(function(){
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options saved successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
");
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while saving %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$('#reset-disp-option').click(function(){
    if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to reset display options?','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        return false;
    }
    $('#_reset-disp-oprions').val(1);
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        $('#_reset-disp-oprions').val('');
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options reset successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
 <?php echo $this->function_trans($this->setup_args(['phrase'=>'Changes will be reflected the next time you open the screen.','this_tag'=>'trans'],null,$this),$this)?>
", 'warning');
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while resetting %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$(".disp_option").change(function(){
    let colname = $(this).prop("id");
    let wrapper_name = "#" + colname + 'wrapper';
    let option_name = "." + colname + 'option';
    let wrapper = $(wrapper_name);
    let option  = $(option_name);
    if($(this).prop("checked")) {
        wrapper.show("fade");
        option.show();
    } else {
        wrapper.hide("fade");
        option.hide();
    }
    let richtext = wrapper.find('textarea.richtext');
    if ( richtext.length && $(this).prop('checked') ) {
<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_d2fd19']=$_f0094b_local_params;$_f0094b_old_vars['_d2fd19']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        let editor4 = $('.mce-edit-area iframe');
        if ( editor4.length ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            editor4.css( 'height', editor_height + 'px' );
        }
<?php else:?>

        if ( richtext.next().attr('role') == 'application' ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            richtext.next().css( 'height', editor_height + 'px' );
        }
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d2fd19'];$_f0094b_local_vars=$_f0094b_old_vars['_d2fd19'];?>

    }
    updateFieldSelector();
});
</script>
            <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c66992'];$_f0094b_local_vars=$_f0094b_old_vars['_c66992'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a7ebb0'];$_f0094b_local_vars=$_f0094b_old_vars['_a7ebb0'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b74ca0'];$_f0094b_local_vars=$_f0094b_old_vars['_b74ca0'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_87993f'];$_f0094b_local_vars=$_f0094b_old_vars['_87993f'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_baeeb7'];$_f0094b_local_vars=$_f0094b_old_vars['_baeeb7'];?>

  <?php $_f0094b_old_params['_12ded6']=$_f0094b_local_params;$_f0094b_old_vars['_12ded6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','eq'=>'save','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    
    <?php $_f0094b_old_params['_29a1f6']=$_f0094b_local_params;$_f0094b_old_vars['_29a1f6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php ob_start();$_f0094b_old_params['_099473']=$_f0094b_local_params;$_f0094b_old_vars['_099473']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['trim_space'=>'3','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div class="text-right disp-option">
    <button type="button" class="btn btn-outline-primary btn-sm disp-option-button" data-toggle="modal" data-target="#dispOptions">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>

    </button>
    <button data-toggle="modal" data-target="#dispOptions" class="hidden btn btn-secondary alt-disp-option-button btn-sm" type="button">
      <i class="fa fa-television" aria-hidden="true"></i><span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Display Options','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </button>
  </div>
  <div class="modal fade" id="dispOptions" tabindex="-1" role="dialog" aria-labelledby="LongTitle" aria-hidden="true"
    style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
        <?php echo $this->modifier_setvar($this->function_trans($this->setup_args(['phrase'=>'Display Options','setvar'=>'options_title','this_tag'=>'trans'],null,$this),$this),$this->setup_args('options_title','setvar',$this),$this,'setvar')?>

          <h5 class="modal-title" id="LongTitle"><?php echo $this->function_var($this->setup_args(['name'=>'options_title','this_tag'=>'var'],null,$this),$this)?>
</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST" id="disp_options_form">
        <input type="hidden" name="__mode" value="display_options">
        <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" name="_type" value="edit">
        <input type="hidden" name="_reset" value="" id="_reset-disp-oprions">
        <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
        <input type="hidden" id="_field_sort_order" name="field_sort_order" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_field_sort_order','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php $_f0094b_old_params['_75b5ea']=$_f0094b_local_params;$_f0094b_old_vars['_75b5ea']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <input type="hidden" name="workspace_id" value="<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
">
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_75b5ea'];$_f0094b_local_vars=$_f0094b_old_vars['_75b5ea'];?>

        <div class="modal-body">
          <div class="container-fluid">
            <div class="row form-group">
              <div class="col-md-2"><b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Columns','this_tag'=>'trans'],null,$this),$this)?>
</b></div>
              <div class="col-md-10" id="edit_options_loop">
              <span id="_start_options"></span>
          <?php $_f0094b_old_params['_02d8d6']=$_f0094b_local_params;$_f0094b_old_vars['_02d8d6']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_objectcontext($this->setup_args(['this_tag'=>'objectcontext'],null,$this),null,$this,true,true)):?>

            <?php $c_cbc691=null;$_f0094b_old_params['_cbc691']=$_f0094b_local_params;$_f0094b_old_vars['_cbc691']=$_f0094b_local_vars;$a_cbc691=$this->setup_args(['type'=>'edit','option'=>'1','this_tag'=>'objectcols'],null,$this);$_cbc691=-1;$r_cbc691=true;while($r_cbc691===true):$r_cbc691=($_cbc691!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectcols($a_cbc691,$c_cbc691,$this,$r_cbc691,++$_cbc691,'_cbc691');ob_start();?>
<?php $c_cbc691 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_cbc691=false;}if($c_cbc691 ):?>

              <?php $_f0094b_old_params['_f6a214']=$_f0094b_local_params;$_f0094b_old_vars['_f6a214']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_3d8c3d']=$_f0094b_local_params;$_f0094b_old_vars['_3d8c3d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'hidden','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_4de66d']=$_f0094b_local_params;$_f0094b_old_vars['_4de66d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'allow_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'use_comment','setvar'=>'use_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('use_comment','setvar',$this),$this,'setvar')?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'accept_comment','setvar'=>'accept_comment','this_tag'=>'property'],null,$this),$this),$this->setup_args('accept_comment','setvar',$this),$this,'setvar')?>

                    <?php $_f0094b_old_params['_062a5c']=$_f0094b_local_params;$_f0094b_old_vars['_062a5c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'accept_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <?php $_f0094b_old_params['_5969ea']=$_f0094b_local_params;$_f0094b_old_vars['_5969ea']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'use_comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        <?php echo $this->function_setvar($this->setup_args(['name'=>'__show','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5969ea'];$_f0094b_local_vars=$_f0094b_old_vars['_5969ea'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_062a5c'];$_f0094b_local_vars=$_f0094b_old_vars['_062a5c'];?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4de66d'];$_f0094b_local_vars=$_f0094b_old_vars['_4de66d'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d8c3d'];$_f0094b_local_vars=$_f0094b_old_vars['_3d8c3d'];?>

                <?php $_f0094b_old_params['_65d210']=$_f0094b_local_params;$_f0094b_old_vars['_65d210']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php $_f0094b_old_params['_b75486']=$_f0094b_local_params;$_f0094b_old_vars['_b75486']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b75486'];$_f0094b_local_vars=$_f0094b_old_vars['_b75486'];?>

                  <?php $_f0094b_old_params['_676997']=$_f0094b_local_params;$_f0094b_old_vars['_676997']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_676997'];$_f0094b_local_vars=$_f0094b_old_vars['_676997'];?>

                  <label class="edit-options-child <?php $_f0094b_old_params['_282cad']=$_f0094b_local_params;$_f0094b_old_vars['_282cad']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_282cad'];$_f0094b_local_vars=$_f0094b_old_vars['_282cad'];?>
custom-control custom-checkbox" id="label-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
                    <?php $_f0094b_old_params['_2e83db']=$_f0094b_local_params;$_f0094b_old_vars['_2e83db']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <input type="hidden" id="" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e83db'];$_f0094b_local_vars=$_f0094b_old_vars['_2e83db'];?>

                    <input<?php $_f0094b_old_params['_c260be']=$_f0094b_local_params;$_f0094b_old_vars['_c260be']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php else:?>
<?php $_f0094b_old_params['_fcf433']=$_f0094b_local_params;$_f0094b_old_vars['_fcf433']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 onclick="return false;" checked <?php else:?>

                    <?php $_f0094b_old_params['_ac2bc3']=$_f0094b_local_params;$_f0094b_old_vars['_ac2bc3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ac2bc3'];$_f0094b_local_vars=$_f0094b_old_vars['_ac2bc3'];?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fcf433'];$_f0094b_local_vars=$_f0094b_old_vars['_fcf433'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c260be'];$_f0094b_local_vars=$_f0094b_old_vars['_c260be'];?>
<?php $_f0094b_old_params['_805167']=$_f0094b_local_params;$_f0094b_old_vars['_805167']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_checked','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_805167'];$_f0094b_local_vars=$_f0094b_old_vars['_805167'];?>
 type="<?php $_f0094b_old_params['_33b938']=$_f0094b_local_params;$_f0094b_old_vars['_33b938']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden<?php else:?>
checkbox<?php endif;$_f0094b_local_params=$_f0094b_old_params['_33b938'];$_f0094b_local_vars=$_f0094b_old_vars['_33b938'];?>
" class="custom-control-input disp_option disp_option-cb" id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                    <span class="custom-control-indicator<?php $_f0094b_old_params['_43ba36']=$_f0094b_local_params;$_f0094b_old_vars['_43ba36']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_43ba36'];$_f0094b_local_vars=$_f0094b_old_vars['_43ba36'];?>
<?php $_f0094b_old_params['_99b468']=$_f0094b_local_params;$_f0094b_old_vars['_99b468']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disable_edit_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_99b468'];$_f0094b_local_vars=$_f0094b_old_vars['_99b468'];?>
"></span>
                    <span class="custom-control-description"> 
                    <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</span>
                  </label>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_65d210'];$_f0094b_local_vars=$_f0094b_old_vars['_65d210'];?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f6a214'];$_f0094b_local_vars=$_f0094b_old_vars['_f6a214'];?>

            <?php endif;$c_cbc691=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_cbc691'];$_f0094b_local_vars=$_f0094b_old_vars['_cbc691'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_02d8d6'];$_f0094b_local_vars=$_f0094b_old_vars['_02d8d6'];?>

                <?php $c_a42939=null;$_f0094b_old_params['_a42939']=$_f0094b_local_params;$_f0094b_old_vars['_a42939']=$_f0094b_local_vars;$a_a42939=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_a42939=-1;$r_a42939=true;while($r_a42939===true):$r_a42939=($_a42939!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_a42939,$c_a42939,$this,$r_a42939,++$_a42939,'_a42939');ob_start();?>
<?php $c_a42939 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_a42939=false;}if($c_a42939 ):?>

                <?php $c_42671d=null;$_f0094b_old_params['_42671d']=$_f0094b_local_params;$_f0094b_old_vars['_42671d']=$_f0094b_local_vars;$a_42671d=$this->setup_args(['name'=>'_fieldbasename','this_tag'=>'setvarblock'],null,$this);ob_start();?>
field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_42671d=ob_get_clean();$c_42671d=$this->block_setvarblock($a_42671d,$c_42671d,$this,$r_42671d,1,'_42671d');echo($c_42671d); $_f0094b_local_params=$_f0094b_old_params['_42671d'];?>

                <label class="<?php $_f0094b_old_params['_fbab7f']=$_f0094b_local_params;$_f0094b_old_vars['_fbab7f']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'hide_edit_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fbab7f'];$_f0094b_local_vars=$_f0094b_old_vars['_fbab7f'];?>
custom-control custom-checkbox" id="label-<?php echo $this->function_var($this->setup_args(['name'=>'_fieldbasename','this_tag'=>'var'],null,$this),$this)?>
">
                  <input<?php $_f0094b_old_params['_db5abc']=$_f0094b_local_params;$_f0094b_old_vars['_db5abc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_db5abc'];$_f0094b_local_vars=$_f0094b_old_vars['_db5abc'];?>

                  <?php $_f0094b_old_params['_5bcf15']=$_f0094b_local_params;$_f0094b_old_vars['_5bcf15']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5bcf15'];$_f0094b_local_vars=$_f0094b_old_vars['_5bcf15'];?>

                  <?php $_f0094b_old_params['_f02496']=$_f0094b_local_params;$_f0094b_old_vars['_f02496']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f02496'];$_f0094b_local_vars=$_f0094b_old_vars['_f02496'];?>
 <?php $_f0094b_old_params['_c04a3b']=$_f0094b_local_params;$_f0094b_old_vars['_c04a3b']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c04a3b'];$_f0094b_local_vars=$_f0094b_old_vars['_c04a3b'];?>
 type="checkbox" class="custom-control-input disp_option disp_option-cb" id="field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-" name="_d_field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" value="1">
                  <span class="custom-control-indicator<?php $_f0094b_old_params['_57efc8']=$_f0094b_local_params;$_f0094b_old_vars['_57efc8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_can_hide_edit_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_57efc8'];$_f0094b_local_vars=$_f0094b_old_vars['_57efc8'];?>
"></span>
                  <span class="custom-control-description"> 
                  <?php echo paml_htmlspecialchars($this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'field__name','trans'=>'1','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','trans',$this),$this,'trans'),ENT_QUOTES)?>
</span>
                </label>
                <?php endif;$c_a42939=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_a42939'];$_f0094b_local_vars=$_f0094b_old_vars['_a42939'];?>

              <?php $_f0094b_old_params['_69afad']=$_f0094b_local_params;$_f0094b_old_vars['_69afad']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div>
                  <p class="text-muted hint-block">
                    <i class="fa fa-question-circle-o" aria-hidden="true"></i>
                    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Hint','this_tag'=>'trans'],null,$this),$this)?>
</span>
                    <?php echo $this->function_trans($this->setup_args(['phrase'=>'You can change the display order of fields with drag &amp; drop.','this_tag'=>'trans'],null,$this),$this)?>

                  </p>
                </div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_69afad'];$_f0094b_local_vars=$_f0094b_old_vars['_69afad'];?>

              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="reset-disp-option" class="btn btn-warning" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Reset','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
          <button type="button" id="disp_options_save" class="btn btn-primary" data-dismiss="modal"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save Changes','this_tag'=>'trans'],null,$this),$this)?>
</button>
        </div>
      </form>
      </div>
    </div>
  </div>
<?php endif;$_099473=ob_get_clean();echo $this->modifier_trim_space($_099473,$this->setup_args('3','trim_space',$this),$this,'trim_space');$_f0094b_local_params=$_f0094b_old_params['_099473'];$_f0094b_local_vars=$_f0094b_old_vars['_099473'];?>

<script>
<?php $_f0094b_old_params['_c7402f']=$_f0094b_local_params;$_f0094b_old_vars['_c7402f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_can_sort_edit_col','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#edit_options_loop').sortable({
    stop: function( evt, ui ) {
        sort_fields();
    }
});
$("#edit_options_loop").ksortable();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c7402f'];$_f0094b_local_vars=$_f0094b_old_vars['_c7402f'];?>

function sort_fields(){
    var editor_data = [];
    if(tinymce && tinymce.editors){
        for(var i = tinymce.editors.length -1; i >= 0; i--){
            var ed = tinymce.editors[i];
            editor_data.push({
                target  : ed.targetElm,
                setting : ed.settings
            });
        }
    }
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        var field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
        $('#' + field_name + '-wrapper' ).find('');
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    for(var i = 0; i < editor_data.length; i++){
        tinyMCE.execCommand('mceAddEditor', false, editor_data[i].target);
    }
    reorder_fields();
}
function reorder_fields(){
    var field_objects = [];
    var field_names = [];
    $('.disp_option-cb').each(function(){
        let field_name = $(this).prop('name');
        field_name = field_name.replace( /^_d_/, '' );
        field_names.push( field_name );
        field_objects.push( $('#' + field_name + '-wrapper' ) );
    });
    $('#_field_sort_order').val(field_names.join(','));
    $('#_start_fields').after(field_objects);
    var oldTextFormat = null;
    if ( $('#text_format-select').length ){
        oldTextFormat = $('#text_format-select').val();
    }
    if( tinymce && ( oldTextFormat == null || oldTextFormat == 'richtext' ) ){
        tinymce.EditorManager.remove();
        editorInit();
    }
    $(document).trigger('pcmsx.reorder_fields_done');
}
$("#disp_options_save").click(function(){
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options saved successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
");
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while saving %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$('#reset-disp-option').click(function(){
    if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to reset display options?','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        return false;
    }
    $('#_reset-disp-oprions').val(1);
    let str = $("#disp_options_form").serialize();
    $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", str,
    function ( data ) {
        $('#_reset-disp-oprions').val('');
        if( data.result == true ) {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'%s\'s display options reset successfully.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
 <?php echo $this->function_trans($this->setup_args(['phrase'=>'Changes will be reflected the next time you open the screen.','this_tag'=>'trans'],null,$this),$this)?>
", 'warning');
        } else {
            disp_header_alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while resetting %s.','params'=>'$options_title','this_tag'=>'trans'],null,$this),$this)?>
", 'danger');
        }
    },
    "json"
    );
});
$(".disp_option").change(function(){
    let colname = $(this).prop("id");
    let wrapper_name = "#" + colname + 'wrapper';
    let option_name = "." + colname + 'option';
    let wrapper = $(wrapper_name);
    let option  = $(option_name);
    if($(this).prop("checked")) {
        wrapper.show("fade");
        option.show();
    } else {
        wrapper.hide("fade");
        option.hide();
    }
    let richtext = wrapper.find('textarea.richtext');
    if ( richtext.length && $(this).prop('checked') ) {
<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_7edfc9']=$_f0094b_local_params;$_f0094b_old_vars['_7edfc9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        let editor4 = $('.mce-edit-area iframe');
        if ( editor4.length ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            editor4.css( 'height', editor_height + 'px' );
        }
<?php else:?>

        if ( richtext.next().attr('role') == 'application' ) {
            let editor_height = richtext.attr( 'rows' );
            editor_height *= 25;
            richtext.next().css( 'height', editor_height + 'px' );
        }
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7edfc9'];$_f0094b_local_vars=$_f0094b_old_vars['_7edfc9'];?>

    }
    updateFieldSelector();
});
</script>
      <?php echo $this->function_setvar($this->setup_args(['name'=>'has_option','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_29a1f6'];$_f0094b_local_vars=$_f0094b_old_vars['_29a1f6'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_12ded6'];$_f0094b_local_vars=$_f0094b_old_vars['_12ded6'];?>

<script>
$(function () {
    if (window.ontouchstart !== null) {
        $('[data-toggle="tooltip"]').tooltip();
    }
})
$('.dropdown-sub').each(function(){
    if ( $(this).hasClass( 'active' ) ) {
        $(this).parent().parent().css('background-color','#444');
    }
})
$('#__logout').click(function(e){
    <?php echo $this->modifier_setvar($this->modifier_regex_replace($this->modifier_escape($this->function_var($this->setup_args(['name'=>'appname','escape'=>'js','regex_replace'=>'\'/\\\'/g\',\'\\\\\'\'','setvar'=>'_appname','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape'),$this->setup_args('\\\'/\\\\\\\'/g\\\',\\\'\\\\\\\\\\\'\\\'','regex_replace',$this),$this,'regex_replace'),$this->setup_args('_appname','setvar',$this),$this,'setvar')?>

    if (! window.confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to log out from %s?','params'=>'$_appname','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
        e.preventDefault();
    }
})
</script>
<?php $_f0094b_old_params['_9018e3']=$_f0094b_local_params;$_f0094b_old_vars['_9018e3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'output_container','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <div class="container-fluid">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9018e3'];$_f0094b_local_vars=$_f0094b_old_vars['_9018e3'];?>

      <div class="row">
        <main class="col-md-12 pt-3">
          <h1 id="page-title" <?php $_f0094b_old_params['_23cd2d']=$_f0094b_local_params;$_f0094b_old_vars['_23cd2d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_0d9dd6']=$_f0094b_local_params;$_f0094b_old_vars['_0d9dd6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_daf605']=$_f0094b_local_params;$_f0094b_old_vars['_daf605']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
style="margin-top:-33px"<?php else:?>
style="margin-top:-36px"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_daf605'];$_f0094b_local_vars=$_f0094b_old_vars['_daf605'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0d9dd6'];$_f0094b_local_vars=$_f0094b_old_vars['_0d9dd6'];?>
 class="title-with-opt"<?php else:?>
 <?php $_f0094b_old_params['_3f3e3d']=$_f0094b_local_params;$_f0094b_old_vars['_3f3e3d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_2cc821']=$_f0094b_local_params;$_f0094b_old_vars['_2cc821']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_fix_spacebar','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
style="margin-top:-3px"<?php else:?>
style="margin-top:-11px"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2cc821'];$_f0094b_local_vars=$_f0094b_old_vars['_2cc821'];?>
<?php else:?>
style="margin-top:-10px"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3f3e3d'];$_f0094b_local_vars=$_f0094b_old_vars['_3f3e3d'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_23cd2d'];$_f0094b_local_vars=$_f0094b_old_vars['_23cd2d'];?>
>
          <span class="title">
          <?php $_f0094b_old_params['_58f375']=$_f0094b_local_params;$_f0094b_old_vars['_58f375']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_3c3d5e']=$_f0094b_local_params;$_f0094b_old_vars['_3c3d5e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_a3c419']=$_f0094b_local_params;$_f0094b_old_vars['_a3c419']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;manage_revision=1<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.revision_select','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;manage_revision=1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3c419'];$_f0094b_local_vars=$_f0094b_old_vars['_a3c419'];?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_3c3d5e'];$_f0094b_local_vars=$_f0094b_old_vars['_3c3d5e'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_58f375'];$_f0094b_local_vars=$_f0094b_old_vars['_58f375'];?>
<?php echo $this->function_var($this->setup_args(['name'=>'page_title','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_1b7f25']=$_f0094b_local_params;$_f0094b_old_vars['_1b7f25']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_b74798']=$_f0094b_local_params;$_f0094b_old_vars['_b74798']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</a><?php endif;$_f0094b_local_params=$_f0094b_old_params['_b74798'];$_f0094b_local_vars=$_f0094b_old_vars['_b74798'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1b7f25'];$_f0094b_local_vars=$_f0094b_old_vars['_1b7f25'];?>

          </span>
          <?php echo $this->function_var($this->setup_args(['name'=>'add_heading','this_tag'=>'var'],null,$this),$this)?>

      <?php $_f0094b_old_params['_c725b0']=$_f0094b_local_params;$_f0094b_old_vars['_c725b0']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_191b51']=$_f0094b_local_params;$_f0094b_old_vars['_191b51']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_0160d9']=$_f0094b_local_params;$_f0094b_old_vars['_0160d9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_a951e0']=$_f0094b_local_params;$_f0094b_old_vars['_a951e0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'dashboard','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_4e81aa']=$_f0094b_local_params;$_f0094b_old_vars['_4e81aa']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'error','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_0bf7a8']=$_f0094b_local_params;$_f0094b_old_vars['_0bf7a8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_filter','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <button type="button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#filterOptions">
            <?php echo $this->function_trans($this->setup_args(['phrase'=>'Filters','this_tag'=>'trans'],null,$this),$this)?>

          </button>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0bf7a8'];$_f0094b_local_vars=$_f0094b_old_vars['_0bf7a8'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4e81aa'];$_f0094b_local_vars=$_f0094b_old_vars['_4e81aa'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a951e0'];$_f0094b_local_vars=$_f0094b_old_vars['_a951e0'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0160d9'];$_f0094b_local_vars=$_f0094b_old_vars['_0160d9'];?>

        <?php $_f0094b_old_params['_bf569e']=$_f0094b_local_params;$_f0094b_old_vars['_bf569e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'can_create','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_e6e1eb']=$_f0094b_local_params;$_f0094b_old_vars['_e6e1eb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_c6ca9f']=$_f0094b_local_params;$_f0094b_old_vars['_c6ca9f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $_f0094b_old_params['_6e5f3d']=$_f0094b_local_params;$_f0094b_old_vars['_6e5f3d']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'update_all','model'=>'$this_model','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'can_create','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6e5f3d'];$_f0094b_local_vars=$_f0094b_old_vars['_6e5f3d'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c6ca9f'];$_f0094b_local_vars=$_f0094b_old_vars['_c6ca9f'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e6e1eb'];$_f0094b_local_vars=$_f0094b_old_vars['_e6e1eb'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf569e'];$_f0094b_local_vars=$_f0094b_old_vars['_bf569e'];?>

        <?php $_f0094b_old_params['_ff4e40']=$_f0094b_local_params;$_f0094b_old_vars['_ff4e40']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_create','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_8c347a']=$_f0094b_local_params;$_f0094b_old_vars['_8c347a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_26b95c']=$_f0094b_local_params;$_f0094b_old_vars['_26b95c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'role','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'label','setvar'=>'orig_label','this_tag'=>'var'],null,$this),$this),$this->setup_args('orig_label','setvar',$this),$this,'setvar')?>

              <?php echo $this->modifier_setvar($this->function_trans($this->setup_args(['phrase'=>'Syetem\'s Role','setvar'=>'label','this_tag'=>'trans'],null,$this),$this),$this->setup_args('label','setvar',$this),$this,'setvar')?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_26b95c'];$_f0094b_local_vars=$_f0094b_old_vars['_26b95c'];?>

          <a class="btn btn-primary btn-sm create-new-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_8bae66']=$_f0094b_local_params;$_f0094b_old_vars['_8bae66']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._system_filters_option','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_354fab']=$_f0094b_local_params;$_f0094b_old_vars['_354fab']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'tag','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;tag_obj=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_354fab'];$_f0094b_local_vars=$_f0094b_old_vars['_354fab'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8bae66'];$_f0094b_local_vars=$_f0094b_old_vars['_8bae66'];?>
">
            <i class="fa fa-plus-circle" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php $_f0094b_old_params['_d11b83']=$_f0094b_local_params;$_f0094b_old_vars['_d11b83']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'role','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-primary btn-sm create-new-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;workspace_role=1">
            <i class="fa fa-plus-circle" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New WorkSpace\'s Role','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New WorkSpace\'s Role','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'New WorkSpace\'s Role','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'orig_label','setvar'=>'label','this_tag'=>'var'],null,$this),$this),$this->setup_args('label','setvar',$this),$this,'setvar')?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d11b83'];$_f0094b_local_vars=$_f0094b_old_vars['_d11b83'];?>

            <?php $_f0094b_old_params['_8833a7']=$_f0094b_local_params;$_f0094b_old_vars['_8833a7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_024c71']=$_f0094b_local_params;$_f0094b_old_vars['_024c71']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="pack-left btn btn-secondary btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=hierarchy&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-sitemap" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_024c71'];$_f0094b_local_vars=$_f0094b_old_vars['_024c71'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8833a7'];$_f0094b_local_vars=$_f0094b_old_vars['_8833a7'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8c347a'];$_f0094b_local_vars=$_f0094b_old_vars['_8c347a'];?>

          <?php $_f0094b_old_params['_9ba78f']=$_f0094b_local_params;$_f0094b_old_vars['_9ba78f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_af4a2f']=$_f0094b_local_params;$_f0094b_old_vars['_af4a2f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.saved','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_3ac552']=$_f0094b_local_params;$_f0094b_old_vars['_3ac552']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'model','eq'=>'role','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_cd4e6f']=$_f0094b_local_params;$_f0094b_old_vars['_cd4e6f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request._profile','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-primary btn-sm create-new-link" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_48443e']=$_f0094b_local_params;$_f0094b_old_vars['_48443e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','ne'=>'workspace','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_48443e'];$_f0094b_local_vars=$_f0094b_old_vars['_48443e'];?>
">
            <i class="fa fa-plus-circle" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cd4e6f'];$_f0094b_local_vars=$_f0094b_old_vars['_cd4e6f'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3ac552'];$_f0094b_local_vars=$_f0094b_old_vars['_3ac552'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_af4a2f'];$_f0094b_local_vars=$_f0094b_old_vars['_af4a2f'];?>

            <?php $_f0094b_old_params['_b8ccd0']=$_f0094b_local_params;$_f0094b_old_vars['_b8ccd0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','ne'=>'hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_4042be']=$_f0094b_local_params;$_f0094b_old_vars['_4042be']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'user','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $_f0094b_old_params['_00e970']=$_f0094b_local_params;$_f0094b_old_vars['_00e970']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_isadmin($this->setup_args(['this_tag'=>'isadmin'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_0d398c']=$_f0094b_local_params;$_f0094b_old_vars['_0d398c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request._profile','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0d398c'];$_f0094b_local_vars=$_f0094b_old_vars['_0d398c'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_00e970'];$_f0094b_local_vars=$_f0094b_old_vars['_00e970'];?>

            <?php else:?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_447b46']=$_f0094b_local_params;$_f0094b_old_vars['_447b46']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._model','ne'=>'workspace','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_447b46'];$_f0094b_local_vars=$_f0094b_old_vars['_447b46'];?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php $_f0094b_old_params['_0e7111']=$_f0094b_local_params;$_f0094b_old_vars['_0e7111']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_d39d52']=$_f0094b_local_params;$_f0094b_old_vars['_d39d52']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="pack-left btn btn-secondary btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=hierarchy&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-sitemap" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Hierarchy','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d39d52'];$_f0094b_local_vars=$_f0094b_old_vars['_d39d52'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0e7111'];$_f0094b_local_vars=$_f0094b_old_vars['_0e7111'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4042be'];$_f0094b_local_vars=$_f0094b_old_vars['_4042be'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b8ccd0'];$_f0094b_local_vars=$_f0094b_old_vars['_b8ccd0'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9ba78f'];$_f0094b_local_vars=$_f0094b_old_vars['_9ba78f'];?>

          <?php $_f0094b_old_params['_7baa0a']=$_f0094b_local_params;$_f0094b_old_vars['_7baa0a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_2c3e7a']=$_f0094b_local_params;$_f0094b_old_vars['_2c3e7a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_66edf5']=$_f0094b_local_params;$_f0094b_old_vars['_66edf5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_create','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <button type="button" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#startUpload">
            <?php echo $this->function_trans($this->setup_args(['phrase'=>'Upload','this_tag'=>'trans'],null,$this),$this)?>

          </button>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_66edf5'];$_f0094b_local_vars=$_f0094b_old_vars['_66edf5'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2c3e7a'];$_f0094b_local_vars=$_f0094b_old_vars['_2c3e7a'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7baa0a'];$_f0094b_local_vars=$_f0094b_old_vars['_7baa0a'];?>

        <?php else:?>

          <?php $_f0094b_old_params['_8c3bc2']=$_f0094b_local_params;$_f0094b_old_vars['_8c3bc2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_2ac989']=$_f0094b_local_params;$_f0094b_old_vars['_2ac989']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'list','model'=>'$model','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'show_return_to_list','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2ac989'];$_f0094b_local_vars=$_f0094b_old_vars['_2ac989'];?>

            <?php $_f0094b_old_params['_519873']=$_f0094b_local_params;$_f0094b_old_vars['_519873']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._model','eq'=>'comment','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'show_return_to_list','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

            <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request._model','eq'=>'contact','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'show_return_to_list','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_519873'];$_f0094b_local_vars=$_f0094b_old_vars['_519873'];?>

            <?php $_f0094b_old_params['_140186']=$_f0094b_local_params;$_f0094b_old_vars['_140186']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'show_return_to_list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_140186'];$_f0094b_local_vars=$_f0094b_old_vars['_140186'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8c3bc2'];$_f0094b_local_vars=$_f0094b_old_vars['_8c3bc2'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ff4e40'];$_f0094b_local_vars=$_f0094b_old_vars['_ff4e40'];?>

          <?php $_f0094b_old_params['_5b12cf']=$_f0094b_local_params;$_f0094b_old_vars['_5b12cf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5b12cf'];$_f0094b_local_vars=$_f0094b_old_vars['_5b12cf'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_191b51'];$_f0094b_local_vars=$_f0094b_old_vars['_191b51'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c725b0'];$_f0094b_local_vars=$_f0094b_old_vars['_c725b0'];?>

      <?php $_f0094b_old_params['_9e9f16']=$_f0094b_local_params;$_f0094b_old_vars['_9e9f16']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_292448']=$_f0094b_local_params;$_f0094b_old_vars['_292448']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_bf70a4']=$_f0094b_local_params;$_f0094b_old_vars['_bf70a4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_eeb937']=$_f0094b_local_params;$_f0094b_old_vars['_eeb937']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.manage_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a class="btn btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
            <i class="hidden fa fa-list" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
"></i>
            <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to List','this_tag'=>'trans'],null,$this),$this)?>
</span>
          </a>
          <?php else:?>

          <?php $_f0094b_old_params['_f13377']=$_f0094b_local_params;$_f0094b_old_vars['_f13377']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.revision_select','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <a class="pack-left btn btn-secondary btn-sm" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
&amp;manage_revision=1">
            <?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage Revision','this_tag'=>'trans'],null,$this),$this)?>

          </a>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f13377'];$_f0094b_local_vars=$_f0094b_old_vars['_f13377'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_eeb937'];$_f0094b_local_vars=$_f0094b_old_vars['_eeb937'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf70a4'];$_f0094b_local_vars=$_f0094b_old_vars['_bf70a4'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_292448'];$_f0094b_local_vars=$_f0094b_old_vars['_292448'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9e9f16'];$_f0094b_local_vars=$_f0094b_old_vars['_9e9f16'];?>

      <?php $_f0094b_old_params['_04f553']=$_f0094b_local_params;$_f0094b_old_vars['_04f553']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_5af36c']=$_f0094b_local_params;$_f0094b_old_vars['_5af36c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'login','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_85c92c']=$_f0094b_local_params;$_f0094b_old_vars['_85c92c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'this_mode','ne'=>'dashboard','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a class="btn btn-sm header-btn-icon" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=dashboard&amp;<?php echo $this->function_var($this->setup_args(['name'=>'workspace_param','this_tag'=>'var'],null,$this),$this)?>
">
          <i class="hidden fa fa-home" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to Dashboard','this_tag'=>'trans'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to Dashboard','this_tag'=>'trans'],null,$this),$this)?>
"></i>
          <span class="shrink-button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Return to Dashboard','this_tag'=>'trans'],null,$this),$this)?>
</span>
        </a>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_85c92c'];$_f0094b_local_vars=$_f0094b_old_vars['_85c92c'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5af36c'];$_f0094b_local_vars=$_f0094b_old_vars['_5af36c'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_04f553'];$_f0094b_local_vars=$_f0094b_old_vars['_04f553'];?>

          </h1>
    <?php $c_75848e=null;$_f0094b_old_params['_75848e']=$_f0094b_local_params;$_f0094b_old_vars['_75848e']=$_f0094b_local_vars;$a_75848e=$this->setup_args(['name'=>'alert_close','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <button type="button" class="close" data-dismiss="alert" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
      <span aria-hidden="true">&times;</span>
    </button>
    <?php $c_75848e=ob_get_clean();$c_75848e=$this->block_setvarblock($a_75848e,$c_75848e,$this,$r_75848e,1,'_75848e');echo($c_75848e); $_f0094b_local_params=$_f0094b_old_params['_75848e'];?>

    <div class="alert alert-success hidden" id="header-alert" role="alert" tabindex="0">
      <button onclick="$('#header-alert').hide();" type="button" id="header-alert-close" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <span id="header-alert-message"></span>
    </div>
    <?php $_f0094b_old_params['_9d4e40']=$_f0094b_local_params;$_f0094b_old_vars['_9d4e40']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'header_alert_message','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <div id="header-alert-message" class="alert alert-<?php $_f0094b_old_params['_5d0618']=$_f0094b_local_params;$_f0094b_old_vars['_5d0618']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'header_alert_class','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'header_alert_class','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
success<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5d0618'];$_f0094b_local_vars=$_f0094b_old_vars['_5d0618'];?>
" tabindex="0">
      <?php $_f0094b_old_params['_00af61']=$_f0094b_local_params;$_f0094b_old_vars['_00af61']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'header_alert_force','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_00af61'];$_f0094b_local_vars=$_f0094b_old_vars['_00af61'];?>

      <?php echo $this->function_var($this->setup_args(['name'=>'header_alert_message','this_tag'=>'var'],null,$this),$this)?>

      <?php $_f0094b_old_params['_d26741']=$_f0094b_local_params;$_f0094b_old_vars['_d26741']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.need_rebuild','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=rebuild_phase&amp;_type=start_rebuild<?php $_f0094b_old_params['_1310a8']=$_f0094b_local_params;$_f0094b_old_vars['_1310a8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1310a8'];$_f0094b_local_vars=$_f0094b_old_vars['_1310a8'];?>
" class="popup">
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'Publish your site to see these changes take effect.','this_tag'=>'trans'],null,$this),$this)?>

        </a>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d26741'];$_f0094b_local_vars=$_f0094b_old_vars['_d26741'];?>

    </div>
    <script>
    $('#header-alert-message').focus();
    </script>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9d4e40'];$_f0094b_local_vars=$_f0094b_old_vars['_9d4e40'];?>

    <?php $_f0094b_old_params['_17aad9']=$_f0094b_local_params;$_f0094b_old_vars['_17aad9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'error','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <div id="header-error-message" class="alert alert-danger" role="alert" tabindex="0">
      <?php echo paml_modifier_funcs('nl2br', paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'error','escape'=>'1','nl2br'=>'1','this_tag'=>'var'],null,$this),$this),ENT_QUOTES))?>

      </div>
    <script>
    $('#header-error-message').focus();
    </script>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_17aad9'];$_f0094b_local_vars=$_f0094b_old_vars['_17aad9'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e3ca36'];$_f0094b_local_vars=$_f0094b_old_vars['_e3ca36'];?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/jquery.lazyload.min.js"></script>
<?php $c_f27b54=null;$_f0094b_old_params['_f27b54']=$_f0094b_local_params;$_f0094b_old_vars['_f27b54']=$_f0094b_local_vars;$a_f27b54=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/screen_header.tmpl<?php $c_f27b54=ob_get_clean();$c_f27b54=$this->block_setvarblock($a_f27b54,$c_f27b54,$this,$r_f27b54,1,'_f27b54');echo($c_f27b54); $_f0094b_local_params=$_f0094b_old_params['_f27b54'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php $c_bc957e=null;$_f0094b_old_params['_bc957e']=$_f0094b_local_params;$_f0094b_old_vars['_bc957e']=$_f0094b_local_vars;$a_bc957e=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
/screen_header.tmpl<?php $c_bc957e=ob_get_clean();$c_bc957e=$this->block_setvarblock($a_bc957e,$c_bc957e,$this,$r_bc957e,1,'_bc957e');echo($c_bc957e); $_f0094b_local_params=$_f0094b_old_params['_bc957e'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'label','setvar'=>'_object_label','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_label','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','setvar'=>'__object_label__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__object_label__','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'model','setvar'=>'_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('_model','setvar',$this),$this,'setvar')?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_primary','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_ea897f']=$_f0094b_local_params;$_f0094b_old_vars['_ea897f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div id="alert-revision" class="alert alert-success" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <span id="alert-revision-message">
    <?php echo $this->function_trans($this->setup_args(['phrase'=>'You are about to edit the revision.','this_tag'=>'trans'],null,$this),$this)?>

    </span>
    <?php $_f0094b_old_params['_89135a']=$_f0094b_local_params;$_f0094b_old_vars['_89135a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_rev_object_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <a target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'_rev_object_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_312151']=$_f0094b_local_params;$_f0094b_old_vars['_312151']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_312151'];$_f0094b_local_vars=$_f0094b_old_vars['_312151'];?>
">
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'View Master','this_tag'=>'trans'],null,$this),$this)?>
 <i class="fa fa-external-link" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Open in new window','this_tag'=>'trans'],null,$this),$this)?>
"></i>
      </a>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_89135a'];$_f0094b_local_vars=$_f0094b_old_vars['_89135a'];?>

  </div>
  <?php $_f0094b_old_params['_dee692']=$_f0094b_local_params;$_f0094b_old_vars['_dee692']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_master_updated','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div id="alert-revision-up" class="alert alert-warning" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->function_trans($this->setup_args(['phrase'=>'The master has changed since this revision was created. To reflected or ignore the changes, check \'Update Date Created\' and Save.','this_tag'=>'trans'],null,$this),$this)?>

  </div>
<script>
$('#alert-revision-up').focus();
</script>
  <?php else:?>

<script>
$('#alert-revision').focus();
</script>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_dee692'];$_f0094b_local_vars=$_f0094b_old_vars['_dee692'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ea897f'];$_f0094b_local_vars=$_f0094b_old_vars['_ea897f'];?>

<?php $_f0094b_old_params['_666267']=$_f0094b_local_params;$_f0094b_old_vars['_666267']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.apply_to_master','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div id="alert-saved" class="alert alert-info" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Revision applied to master.','this_tag'=>'trans'],null,$this),$this)?>

  </div>
<script>
$('#alert-saved').focus();
</script>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.change_to_master','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <div id="alert-saved" class="alert alert-info" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Revision changed to master.','this_tag'=>'trans'],null,$this),$this)?>

  </div>
<script>
$('#alert-saved').focus();
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.pull_back','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <div id="alert-saved" class="alert alert-info" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Pulled back the %s.','params'=>'$__object_label__','this_tag'=>'trans'],null,$this),$this)?>

  </div>
<script>
$('#alert-saved').focus();
</script>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.saved','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <div id="alert-saved" class="alert alert-success" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

    <?php $_f0094b_old_params['_02dd8d']=$_f0094b_local_params;$_f0094b_old_vars['_02dd8d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.is_new','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'New %s saved.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Your changes have been saved.','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_02dd8d'];$_f0094b_local_vars=$_f0094b_old_vars['_02dd8d'];?>

    <?php $_f0094b_old_params['_b7989f']=$_f0094b_local_params;$_f0094b_old_vars['_b7989f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.need_rebuild','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <a href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=rebuild_phase&amp;_type=start_rebuild<?php $_f0094b_old_params['_d475b4']=$_f0094b_local_params;$_f0094b_old_vars['_d475b4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d475b4'];$_f0094b_local_vars=$_f0094b_old_vars['_d475b4'];?>
" class="popup">
    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Publish your site to see these changes take effect.','this_tag'=>'trans'],null,$this),$this)?>

    </a>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b7989f'];$_f0094b_local_vars=$_f0094b_old_vars['_b7989f'];?>

  </div>
<script>
$('#alert-saved').focus();
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_666267'];$_f0094b_local_vars=$_f0094b_old_vars['_666267'];?>

<?php $_f0094b_old_params['_a4dc59']=$_f0094b_local_params;$_f0094b_old_vars['_a4dc59']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_has_workflow','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_1a7d67']=$_f0094b_local_params;$_f0094b_old_vars['_1a7d67']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','ne'=>'$object_user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div id="header-workflow-message" class="alert alert-danger" role="alert" tabindex="0">
    <?php echo $this->function_var($this->setup_args(['name'=>'alert_close','this_tag'=>'var'],null,$this),$this)?>

  <?php echo $this->function_trans($this->setup_args(['phrase'=>'You are trying to edit %s to be processed by another User.','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>

  </div>
  <script>
  $('#header-workflow-message').focus();
  </script>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1a7d67'];$_f0094b_local_vars=$_f0094b_old_vars['_1a7d67'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a4dc59'];$_f0094b_local_vars=$_f0094b_old_vars['_a4dc59'];?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'time_step','setvar'=>'time_step','this_tag'=>'property'],null,$this),$this),$this->setup_args('time_step','setvar',$this),$this,'setvar')?>

<?php $c_02dff6=null;$_f0094b_old_params['_02dff6']=$_f0094b_local_params;$_f0094b_old_vars['_02dff6']=$_f0094b_local_vars;$a_02dff6=$this->setup_args(['name'=>'field_required','this_tag'=>'setvarblock'],null,$this);ob_start();?>

  <i class="fa fa-asterisk required" aria-hidden="true"></i>
  <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Required','this_tag'=>'trans'],null,$this),$this)?>
</span>
<?php $c_02dff6=ob_get_clean();$c_02dff6=$this->block_setvarblock($a_02dff6,$c_02dff6,$this,$r_02dff6,1,'_02dff6');echo($c_02dff6); $_f0094b_local_params=$_f0094b_old_params['_02dff6'];?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/prototype/inputHTML.js?ts=<?php echo $this->function_date($this->setup_args(['this_tag'=>'date'],null,$this),$this)?>
"></script>
<form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST" id="edit-form-main">
<?php echo $this->function_var($this->setup_args(['name'=>'form_header','this_tag'=>'var'],null,$this),$this)?>

<?php $c_c9cb61=null;$_f0094b_old_params['_c9cb61']=$_f0094b_local_params;$_f0094b_old_vars['_c9cb61']=$_f0094b_local_vars;$a_c9cb61=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
/form_header.tmpl<?php $c_c9cb61=ob_get_clean();$c_c9cb61=$this->block_setvarblock($a_c9cb61,$c_c9cb61,$this,$r_c9cb61,1,'_c9cb61');echo($c_c9cb61); $_f0094b_local_params=$_f0094b_old_params['_c9cb61'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php $c_b6215b=null;$_f0094b_old_params['_b6215b']=$_f0094b_local_params;$_f0094b_old_vars['_b6215b']=$_f0094b_local_vars;$a_b6215b=$this->setup_args(['name'=>'col_right','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
/col_right.tmpl<?php $c_b6215b=ob_get_clean();$c_b6215b=$this->block_setvarblock($a_b6215b,$c_b6215b,$this,$r_b6215b,1,'_b6215b');echo($c_b6215b); $_f0094b_local_params=$_f0094b_old_params['_b6215b'];?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$col_right','setvar'=>'col_right','this_tag'=>'include'],null,$this),$this),$this->setup_args('col_right','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_4ce369']=$_f0094b_local_params;$_f0094b_old_vars['_4ce369']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'col_right','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-9 col-2-col">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ce369'];$_f0094b_local_vars=$_f0094b_old_vars['_4ce369'];?>

<input type="hidden" name="__mode" value="save" id="__mode">
<input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
<input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
<input type="hidden" name="_screen_id" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<input type="hidden" name="workspace_id" value="<?php echo $this->modifier_cast_to($this->function_var($this->setup_args(['name'=>'workspace_id','cast_to'=>'int','this_tag'=>'var'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to')?>
">
<input type="hidden" name="_type" value="edit">
<?php $_f0094b_old_params['_d55a1b']=$_f0094b_local_params;$_f0094b_old_vars['_d55a1b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <input type="hidden" name="dialog_view" value="1">
  <?php $_f0094b_old_params['_df7264']=$_f0094b_local_params;$_f0094b_old_vars['_df7264']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.target','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <input type="hidden" name="target" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
    <input type="hidden" name="get_col" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.get_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
    <?php $_f0094b_old_params['_7c0b73']=$_f0094b_local_params;$_f0094b_old_vars['_7c0b73']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_add','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="select_add" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_7c0b73'];$_f0094b_local_vars=$_f0094b_old_vars['_7c0b73'];?>

    <?php $_f0094b_old_params['_e997b7']=$_f0094b_local_params;$_f0094b_old_vars['_e997b7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="single_select" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_e997b7'];$_f0094b_local_vars=$_f0094b_old_vars['_e997b7'];?>

    <?php $_f0094b_old_params['_c88b03']=$_f0094b_local_params;$_f0094b_old_vars['_c88b03']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.selected_ids','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="selected_ids" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_c88b03'];$_f0094b_local_vars=$_f0094b_old_vars['_c88b03'];?>

    <?php $_f0094b_old_params['_136be7']=$_f0094b_local_params;$_f0094b_old_vars['_136be7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.direct_edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="direct_edit" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_136be7'];$_f0094b_local_vars=$_f0094b_old_vars['_136be7'];?>

    <input type="hidden" name="insert_editor" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request.insert_editor','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <input type="hidden" name="insert_editor" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert_editor','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
    <input type="hidden" name="insert" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.insert','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_df7264'];$_f0094b_local_vars=$_f0094b_old_vars['_df7264'];?>

  <input type="hidden" name="select_system_filters" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.select_system_filters','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <input type="hidden" name="_system_filters_option" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._system_filters_option','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <input type="hidden" name="_filter" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._filter','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <?php $_f0094b_old_params['_03176d']=$_f0094b_local_params;$_f0094b_old_vars['_03176d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.any_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="any_model" value="1"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_03176d'];$_f0094b_local_vars=$_f0094b_old_vars['_03176d'];?>

  <?php $_f0094b_old_params['_3c293c']=$_f0094b_local_params;$_f0094b_old_vars['_3c293c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._field_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<input type="hidden" name="_field_name" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._field_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_3c293c'];$_f0094b_local_vars=$_f0094b_old_vars['_3c293c'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d55a1b'];$_f0094b_local_vars=$_f0094b_old_vars['_d55a1b'];?>

<input type="hidden" name="_preview" id="_preview" value="">
<?php $_f0094b_old_params['_1a43a8']=$_f0094b_local_params;$_f0094b_old_vars['_1a43a8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<input type="hidden" name="_revision_id" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<input type="hidden" name="_edit_revision" value="1">
<input type="hidden" name="_apply_to_master" id="_apply_to_master" value="">
<input type="hidden" name="_change_to_master" id="_change_to_master" value="">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1a43a8'];$_f0094b_local_vars=$_f0094b_old_vars['_1a43a8'];?>

<?php $_f0094b_old_params['_9560c4']=$_f0094b_local_params;$_f0094b_old_vars['_9560c4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revisable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<input type="hidden" name="_save_as_revision" id="_save_as_revision" value="">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9560c4'];$_f0094b_local_vars=$_f0094b_old_vars['_9560c4'];?>

<input type="hidden" name="_duplicate" value="" id="_duplicate">
<?php $_f0094b_old_params['_2efba7']=$_f0094b_local_params;$_f0094b_old_vars['_2efba7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._profile','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<input type="hidden" name="_profile" value="1">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2efba7'];$_f0094b_local_vars=$_f0094b_old_vars['_2efba7'];?>

<input type="hidden" name="_from_scope" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._from_scope','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<span id="_start_fields"></span>
<?php $_f0094b_old_params['_9b1e49']=$_f0094b_local_params;$_f0094b_old_vars['_9b1e49']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_objectcontext($this->setup_args(['this_tag'=>'objectcontext'],null,$this),null,$this,true,true)):?>

<?php $c_504d52=null;$_f0094b_old_params['_504d52']=$_f0094b_local_params;$_f0094b_old_vars['_504d52']=$_f0094b_local_vars;$a_504d52=$this->setup_args(['type'=>'edit','this_tag'=>'objectcols'],null,$this);$_504d52=-1;$r_504d52=true;while($r_504d52===true):$r_504d52=($_504d52!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectcols($a_504d52,$c_504d52,$this,$r_504d52,++$_504d52,'_504d52');ob_start();?>
<?php $c_504d52 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_504d52=false;}if($c_504d52 ):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'name','setvar'=>'_column_name','this_tag'=>'var'],null,$this),$this),$this->setup_args('_column_name','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_e4bf10']=$_f0094b_local_params;$_f0094b_old_vars['_e4bf10']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'type','ne'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_objectvar($this->setup_args(['name'=>'$_column_name','setvar'=>'value','this_tag'=>'objectvar'],null,$this),$this),$this->setup_args('value','setvar',$this),$this,'setvar')?>

  <?php $_f0094b_old_params['_324760']=$_f0094b_local_params;$_f0094b_old_vars['_324760']=$_f0094b_local_vars;if($this->conditional_isarray($this->setup_args(['array'=>'value','this_tag'=>'isarray'],null,$this),null,$this,true,true)):?>

  <?php else:?>

    <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'value','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_324760'];$_f0094b_local_vars=$_f0094b_old_vars['_324760'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e4bf10'];$_f0094b_local_vars=$_f0094b_old_vars['_e4bf10'];?>

<?php $_f0094b_old_params['_d9df84']=$_f0094b_local_params;$_f0094b_old_vars['_d9df84']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_column_name','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'_primary_','value'=>'$value','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d9df84'];$_f0094b_local_vars=$_f0094b_old_vars['_d9df84'];?>

<?php $_f0094b_old_params['_cec959']=$_f0094b_local_params;$_f0094b_old_vars['_cec959']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'workspace','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_9d0941']=$_f0094b_local_params;$_f0094b_old_vars['_9d0941']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_column_name','eq'=>'site_path','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'value','setvar'=>'workepace_site_path','this_tag'=>'var'],null,$this),$this),$this->setup_args('workepace_site_path','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9d0941'];$_f0094b_local_vars=$_f0094b_old_vars['_9d0941'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cec959'];$_f0094b_local_vars=$_f0094b_old_vars['_cec959'];?>


<?php $c_57a358=null;$_f0094b_old_params['_57a358']=$_f0094b_local_params;$_f0094b_old_vars['_57a358']=$_f0094b_local_vars;$a_57a358=$this->setup_args(['name'=>'_hint','this_tag'=>'setvarblock'],null,$this);ob_start();?>

  <?php $_f0094b_old_params['_15379f']=$_f0094b_local_params;$_f0094b_old_vars['_15379f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'hint','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <<?php $_f0094b_old_params['_b9aedb']=$_f0094b_local_params;$_f0094b_old_vars['_b9aedb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'checkbox','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
span<?php else:?>
p<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b9aedb'];$_f0094b_local_vars=$_f0094b_old_vars['_b9aedb'];?>
 class="text-muted <?php $_f0094b_old_params['_7537f2']=$_f0094b_local_params;$_f0094b_old_vars['_7537f2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'date','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
ml-2 <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7537f2'];$_f0094b_local_vars=$_f0094b_old_vars['_7537f2'];?>
<?php $_f0094b_old_params['_68be5d']=$_f0094b_local_params;$_f0094b_old_vars['_68be5d']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'edit','like'=>'checkbox','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hint-block mb-0<?php endif;$_f0094b_local_params=$_f0094b_old_params['_68be5d'];$_f0094b_local_vars=$_f0094b_old_vars['_68be5d'];?>
">
    <i class="fa fa-question-circle-o" aria-hidden="true"></i>
    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Hint','this_tag'=>'trans'],null,$this),$this)?>
</span>
    <?php echo $this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'hint','trans'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','trans',$this),$this,'trans')?>

  </<?php $_f0094b_old_params['_257cf8']=$_f0094b_local_params;$_f0094b_old_vars['_257cf8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'checkbox','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
span<?php else:?>
p<?php endif;$_f0094b_local_params=$_f0094b_old_params['_257cf8'];$_f0094b_local_vars=$_f0094b_old_vars['_257cf8'];?>
>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_15379f'];$_f0094b_local_vars=$_f0094b_old_vars['_15379f'];?>

<?php $c_57a358=ob_get_clean();$c_57a358=$this->block_setvarblock($a_57a358,$c_57a358,$this,$r_57a358,1,'_57a358');echo($c_57a358); $_f0094b_local_params=$_f0094b_old_params['_57a358'];?>


<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'name','escape'=>'','setvar'=>'__col_name__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__col_name__','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'value','setvar'=>'__col_value__','this_tag'=>'var'],null,$this),$this),$this->setup_args('__col_value__','setvar',$this),$this,'setvar')?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'ctrl_class','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_748ed7']=$_f0094b_local_params;$_f0094b_old_vars['_748ed7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'num','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'ctrl_class','value'=>'e-num','this_tag'=>'setvar'],null,$this),$this)?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'short','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'ctrl_class','value'=>'short','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_748ed7'];$_f0094b_local_vars=$_f0094b_old_vars['_748ed7'];?>


<?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_8e5eb2']=$_f0094b_local_params;$_f0094b_old_vars['_8e5eb2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'modified_on','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'name','eq'=>'created_on','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'autoset','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8e5eb2'];$_f0094b_local_vars=$_f0094b_old_vars['_8e5eb2'];?>


<?php $_f0094b_old_params['_df9f37']=$_f0094b_local_params;$_f0094b_old_vars['_df9f37']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'unchangeable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_dd97c8']=$_f0094b_local_params;$_f0094b_old_vars['_dd97c8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_dd97c8'];$_f0094b_local_vars=$_f0094b_old_vars['_dd97c8'];?>

  <?php $_f0094b_old_params['_a13a38']=$_f0094b_local_params;$_f0094b_old_vars['_a13a38']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_column_name','eq'=>'uuid','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a13a38'];$_f0094b_local_vars=$_f0094b_old_vars['_a13a38'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_df9f37'];$_f0094b_local_vars=$_f0094b_old_vars['_df9f37'];?>

<?php $_f0094b_old_params['_1656d0']=$_f0094b_local_params;$_f0094b_old_vars['_1656d0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','eq'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'readonly','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1656d0'];$_f0094b_local_vars=$_f0094b_old_vars['_1656d0'];?>

<?php echo $this->modifier_setvar(paml_modifier_funcs('trim', $this->component('PTTags')->hdlr_includeparts($this->setup_args(['screen'=>'edit','type'=>'column','name'=>'$_column_name','model'=>'$model','trim'=>'1','setvar'=>'_include_column','this_tag'=>'includeparts'],null,$this),$this)),$this->setup_args('_include_column','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_e9c5bc']=$_f0094b_local_params;$_f0094b_old_vars['_e9c5bc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e9c5bc'];$_f0094b_local_vars=$_f0094b_old_vars['_e9c5bc'];?>

<?php $_f0094b_old_params['_ff30d2']=$_f0094b_local_params;$_f0094b_old_vars['_ff30d2']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_include_column','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php echo $this->modifier_setvar(paml_modifier_funcs('trim', $this->component('PTTags')->hdlr_includeparts($this->setup_args(['screen'=>'edit','type'=>'edit_type','edit_type'=>'$edit','trim'=>'1','setvar'=>'_include_column','this_tag'=>'includeparts'],null,$this),$this)),$this->setup_args('_include_column','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ff30d2'];$_f0094b_local_vars=$_f0094b_old_vars['_ff30d2'];?>

<?php $_f0094b_old_params['_caaea4']=$_f0094b_local_params;$_f0094b_old_vars['_caaea4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_include_column','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_var($this->setup_args(['name'=>'_include_column','this_tag'=>'var'],null,$this),$this)?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'hidden','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_ab2a41']=$_f0094b_local_params;$_f0094b_old_vars['_ab2a41']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','eq'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_15c8d4']=$_f0094b_local_params;$_f0094b_old_vars['_15c8d4']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request._duplicate','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
    <?php else:?>

  <input id="_duplicate_from" type="hidden" name="_duplicate_from" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
">
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_15c8d4'];$_f0094b_local_vars=$_f0094b_old_vars['_15c8d4'];?>

  <?php else:?>

    <?php $_f0094b_old_params['_99b52b']=$_f0094b_local_params;$_f0094b_old_vars['_99b52b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_9baad5']=$_f0094b_local_params;$_f0094b_old_vars['_9baad5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9baad5'];$_f0094b_local_vars=$_f0094b_old_vars['_9baad5'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_99b52b'];$_f0094b_local_vars=$_f0094b_old_vars['_99b52b'];?>

  <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
">
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ab2a41'];$_f0094b_local_vars=$_f0094b_old_vars['_ab2a41'];?>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>


<?php echo $this->function_setvar($this->setup_args(['name'=>'_primary','value'=>'$value','this_tag'=>'setvar'],null,$this),$this)?>


<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_319120']=$_f0094b_local_params;$_f0094b_old_vars['_319120']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_319120'];$_f0094b_local_vars=$_f0094b_old_vars['_319120'];?>

    </label>
  </div>
  <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'permalink','setvar'=>'__permalink','this_tag'=>'var'],null,$this),$this),$this->setup_args('__permalink','setvar',$this),$this,'setvar')?>

  <?php $_f0094b_old_params['_ce9684']=$_f0094b_local_params;$_f0094b_old_vars['_ce9684']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_45710a']=$_f0094b_local_params;$_f0094b_old_vars['_45710a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'__permalink','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'__permalink','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('__permalink','setvar',$this),$this,'setvar')?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_45710a'];$_f0094b_local_vars=$_f0094b_old_vars['_45710a'];?>

  <?php else:?>

    <?php $_f0094b_old_params['_460027']=$_f0094b_local_params;$_f0094b_old_vars['_460027']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'__permalink','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'__permalink','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('__permalink','setvar',$this),$this,'setvar')?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_460027'];$_f0094b_local_vars=$_f0094b_old_vars['_460027'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce9684'];$_f0094b_local_vars=$_f0094b_old_vars['_ce9684'];?>

  <div class="col-lg-10 input-group-lg">
    <?php $_f0094b_old_params['_cd6789']=$_f0094b_local_params;$_f0094b_old_vars['_cd6789']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_166adb']=$_f0094b_local_params;$_f0094b_old_vars['_166adb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_166adb'];$_f0094b_local_vars=$_f0094b_old_vars['_166adb'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cd6789'];$_f0094b_local_vars=$_f0094b_old_vars['_cd6789'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="text" class="form-control watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
"
      aria-label="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" <?php $_f0094b_old_params['_45c7b5']=$_f0094b_local_params;$_f0094b_old_vars['_45c7b5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_45c7b5'];$_f0094b_local_vars=$_f0094b_old_vars['_45c7b5'];?>
>
  <?php $_f0094b_old_params['_c888bc']=$_f0094b_local_params;$_f0094b_old_vars['_c888bc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'permalink','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <div class="input-group copy-url copy-url-permalink">
  <input type="text" class="form-control form-control-sm clipboard-url" id="__permalink-clipboard"
  value="<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
" readonly>
  <button data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon copy-clipboard" data-clipboard-target="#__permalink-clipboard"><i class="fa fa-clipboard" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
  <button id="__view-permalink" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-external-link" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Open in new window','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
<?php $_f0094b_old_params['_8a4724']=$_f0094b_local_params;$_f0094b_old_vars['_8a4724']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button id="__view-published" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-globe" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8a4724'];$_f0094b_local_vars=$_f0094b_old_vars['_8a4724'];?>

  </div>
  <input type="hidden" name="__permalink" id="__permalink" value="<?php $_f0094b_old_params['_81e950']=$_f0094b_local_params;$_f0094b_old_vars['_81e950']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'permalink','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_81e950'];$_f0094b_local_vars=$_f0094b_old_vars['_81e950'];?>
">
<?php $_f0094b_old_params['_581700']=$_f0094b_local_params;$_f0094b_old_vars['_581700']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <input type="hidden" name="__permalink_published" id="__permalink_published" value="<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_581700'];$_f0094b_local_vars=$_f0094b_old_vars['_581700'];?>

  <script>
  <?php $_f0094b_old_params['_3a960b']=$_f0094b_local_params;$_f0094b_old_vars['_3a960b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.saved','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  $('#__permalink-clipboard').css( 'color', 'gray' );
  $('#__permalink-clipboard').val( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Getting permalink...','this_tag'=>'trans'],null,$this),$this)?>
' );
  var __permalink_success = false;
  var get_current_permalink = function(){
      setTimeout( get_permalink_error, 2000 );
      $.post("<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
", {
          '__mode' : 'get_current_permalink',
          '_model' : '<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
',
          'id'     : <?php echo $this->function_var($this->setup_args(['name'=>'object_id','this_tag'=>'var'],null,$this),$this)?>
,
          'workspace_id' : '<?php echo $this->modifier_cast_to($this->function_var($this->setup_args(['name'=>'workspace_id','cast_to'=>'int','this_tag'=>'var'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to')?>
',
          'magic_token': '<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
'
      },
      function ( data ) {
          if( data.permalink ) {
              __permalink_success = true;
              $('#__permalink-clipboard').css( 'color', '#555555' );
              $('#__permalink-clipboard').val( data.view_link );
              <?php $_f0094b_old_params['_046f15']=$_f0094b_local_params;$_f0094b_old_vars['_046f15']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_show_both','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

              if ( data.view_link ) {
                  $('#__permalink').val( data.view_link );
              }
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_046f15'];$_f0094b_local_vars=$_f0094b_old_vars['_046f15'];?>

          } else {
              $('#__permalink-clipboard').css( 'color', '#555555' );
          }
      },
      "json"
      );
  }
  var get_permalink_error = function(){
      if ( __permalink_success == false ) {
          $('#__permalink-clipboard').val( '<?php echo $this->function_var($this->setup_args(['name'=>'permalink','this_tag'=>'var'],null,$this),$this)?>
' );
          $('#__permalink-clipboard').css( 'color', '#555555' );
      } 
  }
  setTimeout( get_current_permalink, 2500 );
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3a960b'];$_f0094b_local_vars=$_f0094b_old_vars['_3a960b'];?>

  $('#__view-permalink').click(function(){
      var permalink = $('#__permalink').val();
      window.open( permalink, '_blank');
  });
  $('#__view-published').click(function(){
      var permalink = $('#__permalink_published').val();
      window.open( permalink, '_blank');
  });
  </script>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c888bc'];$_f0094b_local_vars=$_f0094b_old_vars['_c888bc'];?>

    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'languages','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<!--TODO-->
<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_9dce70']=$_f0094b_local_params;$_f0094b_old_vars['_9dce70']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9dce70'];$_f0094b_local_vars=$_f0094b_old_vars['_9dce70'];?>

    </label>
  </div>
  <div class="col-lg-2">
    <?php $c_5bbd60=null;$_f0094b_old_params['_5bbd60']=$_f0094b_local_params;$_f0094b_old_vars['_5bbd60']=$_f0094b_local_vars;$a_5bbd60=$this->setup_args(['name'=>'languages','this_tag'=>'loop'],null,$this);$_5bbd60=-1;$r_5bbd60=true;while($r_5bbd60===true):$r_5bbd60=($_5bbd60!==-1)?false:true;echo $this->block_loop($a_5bbd60,$c_5bbd60,$this,$r_5bbd60,++$_5bbd60,'_5bbd60');ob_start();?>
<?php $c_5bbd60 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_5bbd60=false;}if($c_5bbd60 ):?>

    <?php $_f0094b_old_params['_03281f']=$_f0094b_local_params;$_f0094b_old_vars['_03281f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <select class="form-control short custom-select" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_03281f'];$_f0094b_local_vars=$_f0094b_old_vars['_03281f'];?>

      <option value="<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
" <?php $_f0094b_old_params['_ade105']=$_f0094b_local_params;$_f0094b_old_vars['_ade105']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'value','eq'=>'$__value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php else:?>
<?php $_f0094b_old_params['_834798']=$_f0094b_local_params;$_f0094b_old_vars['_834798']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_834798'];$_f0094b_local_vars=$_f0094b_old_vars['_834798'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ade105'];$_f0094b_local_vars=$_f0094b_old_vars['_ade105'];?>
><?php echo $this->modifier_translate($this->function_var($this->setup_args(['name'=>'__value__','translate'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','translate',$this),$this,'translate')?>
</option>
    <?php $_f0094b_old_params['_c07e09']=$_f0094b_local_params;$_f0094b_old_vars['_c07e09']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    </select>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c07e09'];$_f0094b_local_vars=$_f0094b_old_vars['_c07e09'];?>

    <?php endif;$c_5bbd60=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_5bbd60'];$_f0094b_local_vars=$_f0094b_old_vars['_5bbd60'];?>

      <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'file','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>



<?php echo $this->function_setvar($this->setup_args(['name'=>'class','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'asset_url','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'file_meta','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>


<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_39e248']=$_f0094b_local_params;$_f0094b_old_vars['_39e248']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_39e248'];$_f0094b_local_vars=$_f0094b_old_vars['_39e248'];?>

    </label>
  </div>
  <div class="col-lg-10 input-group-lg">
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'class','setvar'=>'class','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('class','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'url','setvar'=>'asset_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetthumbnail($this->setup_args(['type'=>'default','name'=>'$name','model'=>'$model','dynamic'=>'1','setvar'=>'thumbnail','this_tag'=>'assetthumbnail'],null,$this),$this),$this->setup_args('thumbnail','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_36f09f']=$_f0094b_local_params;$_f0094b_old_vars['_36f09f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_ce46a7']=$_f0094b_local_params;$_f0094b_old_vars['_ce46a7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'class','value'=>'image','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'class','value'=>'$options','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce46a7'];$_f0094b_local_vars=$_f0094b_old_vars['_ce46a7'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_36f09f'];$_f0094b_local_vars=$_f0094b_old_vars['_36f09f'];?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'preview_width','value'=>'150','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'image_width','setvar'=>'image_width','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('image_width','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_6622f0']=$_f0094b_local_params;$_f0094b_old_vars['_6622f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'image_width','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_d8a235']=$_f0094b_local_params;$_f0094b_old_vars['_d8a235']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'image_width','lt'=>'$preview_width','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'preview_width','value'=>'$image_width','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d8a235'];$_f0094b_local_vars=$_f0094b_old_vars['_d8a235'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6622f0'];$_f0094b_local_vars=$_f0094b_old_vars['_6622f0'];?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'file_name','setvar'=>'file_name','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('file_name','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_0015af']=$_f0094b_local_params;$_f0094b_old_vars['_0015af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'url','setvar'=>'asset_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_81252b']=$_f0094b_local_params;$_f0094b_old_vars['_81252b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->modifier_setvar($this->modifier_encode_url_basename($this->function_var($this->setup_args(['name'=>'asset_url','encode_url_basename'=>'','setvar'=>'asset_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('','encode_url_basename',$this),$this,'encode_url_basename'),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_81252b'];$_f0094b_local_vars=$_f0094b_old_vars['_81252b'];?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'asset_url','setvar'=>'asset_url_original','this_tag'=>'var'],null,$this),$this),$this->setup_args('asset_url_original','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_1bf28b']=$_f0094b_local_params;$_f0094b_old_vars['_1bf28b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_1a85c4']=$_f0094b_local_params;$_f0094b_old_vars['_1a85c4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'asset_url','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'asset_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1a85c4'];$_f0094b_local_vars=$_f0094b_old_vars['_1a85c4'];?>

<?php else:?>

  <?php $_f0094b_old_params['_1522c2']=$_f0094b_local_params;$_f0094b_old_vars['_1522c2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'asset_url','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'asset_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1522c2'];$_f0094b_local_vars=$_f0094b_old_vars['_1522c2'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1bf28b'];$_f0094b_local_vars=$_f0094b_old_vars['_1bf28b'];?>

<?php $c_6bd168=null;$_f0094b_old_params['_6bd168']=$_f0094b_local_params;$_f0094b_old_vars['_6bd168']=$_f0094b_local_vars;$a_6bd168=$this->setup_args(['name'=>'file_meta','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Name','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'file_name','this_tag'=>'assetproperty'],null,$this),$this)?>
<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Size','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->modifier_format_size($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'file_size','format_size'=>'1','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('1','format_size',$this),$this,'format_size')?>
<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Type','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'mime_type','escape'=>'','setvar'=>'file_mime_type','this_tag'=>'assetproperty'],null,$this),$this),ENT_QUOTES),$this->setup_args('file_mime_type','setvar',$this),$this,'setvar')?>
<?php echo $this->function_var($this->setup_args(['name'=>'file_mime_type','this_tag'=>'var'],null,$this),$this)?>

    <?php $_f0094b_old_params['_f60458']=$_f0094b_local_params;$_f0094b_old_vars['_f60458']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Width','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'image_width','this_tag'=>'assetproperty'],null,$this),$this)?>
px<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Height','this_tag'=>'trans'],null,$this),$this)?>
</b> : 
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'image_height','this_tag'=>'assetproperty'],null,$this),$this)?>
px
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f60458'];$_f0094b_local_vars=$_f0094b_old_vars['_f60458'];?>

<?php $c_6bd168=ob_get_clean();$c_6bd168=$this->block_setvarblock($a_6bd168,$c_6bd168,$this,$r_6bd168,1,'_6bd168');echo($c_6bd168); $_f0094b_local_params=$_f0094b_old_params['_6bd168'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0015af'];$_f0094b_local_vars=$_f0094b_old_vars['_0015af'];?>




<?php $c_de4727=null;$_f0094b_old_params['_de4727']=$_f0094b_local_params;$_f0094b_old_vars['_de4727']=$_f0094b_local_vars;$a_de4727=$this->setup_args(['name'=>'file_meta_tmpl','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Name','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      file_name<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Size','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      file_size<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Type','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      mime_type
<?php $c_de4727=ob_get_clean();$c_de4727=$this->block_setvarblock($a_de4727,$c_de4727,$this,$r_de4727,1,'_de4727');echo($c_de4727); $_f0094b_local_params=$_f0094b_old_params['_de4727'];?>

<?php $c_9b4f2c=null;$_f0094b_old_params['_9b4f2c']=$_f0094b_local_params;$_f0094b_old_vars['_9b4f2c']=$_f0094b_local_vars;$a_9b4f2c=$this->setup_args(['name'=>'file_image_tmpl','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Width','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      image_widthpx<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Height','this_tag'=>'trans'],null,$this),$this)?>
</b> : 
      image_heightpx
<?php $c_9b4f2c=ob_get_clean();$c_9b4f2c=$this->block_setvarblock($a_9b4f2c,$c_9b4f2c,$this,$r_9b4f2c,1,'_9b4f2c');echo($c_9b4f2c); $_f0094b_local_params=$_f0094b_old_params['_9b4f2c'];?>

    <div class="alert alert-success hidden" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert" role="alert" tabindex="0">
      <button onclick="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').hide();" type="button" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message"><?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </div>
<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'image_width','thumbnail_height'=>'$preview_width','setvar'=>'thumbnail_height','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('thumbnail_height','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'extension','setvar'=>'file_extension','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('file_extension','setvar',$this),$this,'setvar')?>

<div id="drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
<i id="icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn fa <?php $_f0094b_old_params['_95aa25']=$_f0094b_local_params;$_f0094b_old_vars['_95aa25']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
fa-file-image-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'file_extension','eq'=>'svg','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-image-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'file_extension','eq'=>'zip','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'file_extension','eq'=>'gz','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'file_extension','eq'=>'tar','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'pdf','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-pdf-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'video','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-video-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'audio','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-audio-o<?php else:?>
fa-file-o<?php endif;$_f0094b_local_params=$_f0094b_old_params['_95aa25'];$_f0094b_local_vars=$_f0094b_old_vars['_95aa25'];?>
 fa-3x" aria-hidden="true"></i>
  <img class="<?php $_f0094b_old_params['_422d0e']=$_f0094b_local_params;$_f0094b_old_vars['_422d0e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_2e72f6']=$_f0094b_local_params;$_f0094b_old_vars['_2e72f6']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'file_extension','eq'=>'svg','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e72f6'];$_f0094b_local_vars=$_f0094b_old_vars['_2e72f6'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_422d0e'];$_f0094b_local_vars=$_f0094b_old_vars['_422d0e'];?>

    <?php $_f0094b_old_params['_37b4ff']=$_f0094b_local_params;$_f0094b_old_vars['_37b4ff']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'file_name','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_37b4ff'];$_f0094b_local_vars=$_f0094b_old_vars['_37b4ff'];?>
 preview-file-field lazy"
    id="image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
    src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/spacer.gif"
    style="max-width:<?php echo $this->function_var($this->setup_args(['name'=>'preview_width','this_tag'=>'var'],null,$this),$this)?>
px;max-height:<?php echo $this->function_var($this->setup_args(['name'=>'preview_width','this_tag'=>'var'],null,$this),$this)?>
px;background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif');background-size:40px;background-repeat:no-repeat;background-position:center;"
    data-original="<?php echo $this->function_var($this->setup_args(['name'=>'thumbnail','this_tag'=>'var'],null,$this),$this)?>
" alt="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Preview','this_tag'=>'trans'],null,$this),$this)?>
">
    <a href="javascript:void(0);"
        id="popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><i class="btn fa fa-info-circle fa-2x" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
"></i></a>
    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_objectvar($this->setup_args(['name'=>'$name','setvar'=>'value','this_tag'=>'objectvar'],null,$this),$this),$this->setup_args('value','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_5f1b39']=$_f0094b_local_params;$_f0094b_old_vars['_5f1b39']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'thumbnail','match'=>'/^data:image\\//','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'value','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5f1b39'];$_f0094b_local_vars=$_f0094b_old_vars['_5f1b39'];?>

    
      &nbsp; <a id="inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" target="_blank" class="btn btn-secondary <?php $_f0094b_old_params['_17e0e6']=$_f0094b_local_params;$_f0094b_old_vars['_17e0e6']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_17e0e6'];$_f0094b_local_vars=$_f0094b_old_vars['_17e0e6'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_b1a94d']=$_f0094b_local_params;$_f0094b_old_vars['_b1a94d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b1a94d'];$_f0094b_local_vars=$_f0094b_old_vars['_b1a94d'];?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
</a>
      <a id="download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary <?php $_f0094b_old_params['_d05a56']=$_f0094b_local_params;$_f0094b_old_vars['_d05a56']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d05a56'];$_f0094b_local_vars=$_f0094b_old_vars['_d05a56'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;download=1&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_430cfe']=$_f0094b_local_params;$_f0094b_old_vars['_430cfe']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_430cfe'];$_f0094b_local_vars=$_f0094b_old_vars['_430cfe'];?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
</a>
      <?php $c_03f689=null;$_f0094b_old_params['_03f689']=$_f0094b_local_params;$_f0094b_old_vars['_03f689']=$_f0094b_local_vars;$a_03f689=$this->setup_args(['name'=>'attach_key','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic<?php $c_03f689=ob_get_clean();$c_03f689=$this->block_setvarblock($a_03f689,$c_03f689,$this,$r_03f689,1,'_03f689');echo($c_03f689); $_f0094b_local_params=$_f0094b_old_params['_03f689'];?>

      <?php $c_8cc8a7=null;$_f0094b_old_params['_8cc8a7']=$_f0094b_local_params;$_f0094b_old_vars['_8cc8a7']=$_f0094b_local_vars;$a_8cc8a7=$this->setup_args(['name'=>'label_key','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label<?php $c_8cc8a7=ob_get_clean();$c_8cc8a7=$this->block_setvarblock($a_8cc8a7,$c_8cc8a7,$this,$r_8cc8a7,1,'_8cc8a7');echo($c_8cc8a7); $_f0094b_local_params=$_f0094b_old_params['_8cc8a7'];?>

      <?php $_f0094b_old_params['_49ec6b']=$_f0094b_local_params;$_f0094b_old_vars['_49ec6b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <button type="button" id="edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-primary<?php $_f0094b_old_params['_bed64e']=$_f0094b_local_params;$_f0094b_old_vars['_bed64e']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bed64e'];$_f0094b_local_vars=$_f0094b_old_vars['_bed64e'];?>
<?php $_f0094b_old_params['_29bfd5']=$_f0094b_local_params;$_f0094b_old_vars['_29bfd5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_29bfd5'];$_f0094b_local_vars=$_f0094b_old_vars['_29bfd5'];?>
<?php $_f0094b_old_params['_8ed57b']=$_f0094b_local_params;$_f0094b_old_vars['_8ed57b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_mime_type','eq'=>'image/gif','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8ed57b'];$_f0094b_local_vars=$_f0094b_old_vars['_8ed57b'];?>
" data-toggle="modal" data-target="#modal"
        data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=edit_image&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_ae0b8a']=$_f0094b_local_params;$_f0094b_old_vars['_ae0b8a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ae0b8a'];$_f0094b_local_vars=$_f0094b_old_vars['_ae0b8a'];?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit...','this_tag'=>'trans'],null,$this),$this)?>
</button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_49ec6b'];$_f0094b_local_vars=$_f0094b_old_vars['_49ec6b'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic" type="hidden" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$attach_key','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic" class="watch-changed">
    <?php $_f0094b_old_params['_017b1c']=$_f0094b_local_params;$_f0094b_old_vars['_017b1c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser" class="btn btn-success fileinput-button">
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select File...','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <!-- The file input field used as target for the file upload widget -->
        <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="file" name="files"
            onfocus="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').css('border','2px solid green');"
            onblur="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').css('border','none');">
    </span>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_017b1c'];$_f0094b_local_vars=$_f0094b_old_vars['_017b1c'];?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_asset_file_col','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_fc52f1']=$_f0094b_local_params;$_f0094b_old_vars['_fc52f1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_eebf42']=$_f0094b_local_params;$_f0094b_old_vars['_eebf42']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','eq'=>'file','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'_asset_file_col','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_eebf42'];$_f0094b_local_vars=$_f0094b_old_vars['_eebf42'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fc52f1'];$_f0094b_local_vars=$_f0094b_old_vars['_fc52f1'];?>

<?php $_f0094b_old_params['_b4d891']=$_f0094b_local_params;$_f0094b_old_vars['_b4d891']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_asset_file_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_aacc23']=$_f0094b_local_params;$_f0094b_old_vars['_aacc23']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_855078']=$_f0094b_local_params;$_f0094b_old_vars['_855078']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'not_null','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <span class="form-inline-span-cb <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper hidden">
    <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" value="0">
    <label class="custom-control custom-checkbox">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" class="custom-control-input watch-changed"
     type="checkbox" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" value="1">
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"> 
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'Delete','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </label>
    </span>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_855078'];$_f0094b_local_vars=$_f0094b_old_vars['_855078'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aacc23'];$_f0094b_local_vars=$_f0094b_old_vars['_aacc23'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b4d891'];$_f0094b_local_vars=$_f0094b_old_vars['_b4d891'];?>

  <!-- The global progress bar -->
  <?php $_f0094b_old_params['_a4a8bb']=$_f0094b_local_params;$_f0094b_old_vars['_a4a8bb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div id="progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="progress">
    <div class="progress-bar progress-bar-success"></div>
  </div>
  <input type="hidden" id="mime_type-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'file_mime_type','this_tag'=>'var'],null,$this),$this)?>
">
  <!-- The container for the uploaded files -->
  <div id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="files ml-1 mt-1"></div>
  <div class="alt-text <?php $_f0094b_old_params['_20d980']=$_f0094b_local_params;$_f0094b_old_vars['_20d980']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_340670']=$_f0094b_local_params;$_f0094b_old_vars['_340670']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'$attach_key','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_340670'];$_f0094b_local_vars=$_f0094b_old_vars['_340670'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_20d980'];$_f0094b_local_vars=$_f0094b_old_vars['_20d980'];?>
" id="file-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label">
    <label id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label-label" for="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" class="sr-only"><?php $_f0094b_old_params['_375d64']=$_f0094b_local_params;$_f0094b_old_vars['_375d64']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_375d64'];$_f0094b_local_vars=$_f0094b_old_vars['_375d64'];?>
</label>
    <input id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" type="text" class="form-control form-control-sm"
           name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" placeholder="<?php $_f0094b_old_params['_151a59']=$_f0094b_local_params;$_f0094b_old_vars['_151a59']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_151a59'];$_f0094b_local_vars=$_f0094b_old_vars['_151a59'];?>
"
           value="<?php $_f0094b_old_params['_d657f7']=$_f0094b_local_params;$_f0094b_old_vars['_d657f7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$label_key','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$label_key','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'$name','model'=>'$model','property'=>'label','escape'=>'','this_tag'=>'assetproperty'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d657f7'];$_f0094b_local_vars=$_f0094b_old_vars['_d657f7'];?>
">
  </div>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a4a8bb'];$_f0094b_local_vars=$_f0094b_old_vars['_a4a8bb'];?>

  <div class="input-group copy-url" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper">
    <input type="text" class="form-control form-control-sm clipboard-url" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
      readonly value="<?php $_f0094b_old_params['_a8de0e']=$_f0094b_local_params;$_f0094b_old_vars['_a8de0e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'asset_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_1c9286']=$_f0094b_local_params;$_f0094b_old_vars['_1c9286']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c9286'];$_f0094b_local_vars=$_f0094b_old_vars['_1c9286'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a8de0e'];$_f0094b_local_vars=$_f0094b_old_vars['_a8de0e'];?>
">
    <input type="hidden" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden" value="<?php $_f0094b_old_params['_f82198']=$_f0094b_local_params;$_f0094b_old_vars['_f82198']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url_original','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f82198'];$_f0094b_local_vars=$_f0094b_old_vars['_f82198'];?>
">
    <button data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon copy-clipboard" data-clipboard-target="#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><i class="fa fa-clipboard" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
    <button id="view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-external-link" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Open in new window','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
  <?php $_f0094b_old_params['_e483f9']=$_f0094b_local_params;$_f0094b_old_vars['_e483f9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button id="view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-published" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-globe" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e483f9'];$_f0094b_local_vars=$_f0094b_old_vars['_e483f9'];?>

  </div>
</div>
<script>
var file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected;
var file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class = '<?php echo $this->function_var($this->setup_args(['name'=>'class','this_tag'=>'var'],null,$this),$this)?>
';
<?php $_f0094b_old_params['_1c4e3f']=$_f0094b_local_params;$_f0094b_old_vars['_1c4e3f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected = true;
$('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper').show();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c4e3f'];$_f0094b_local_vars=$_f0094b_old_vars['_1c4e3f'];?>

$('body').on('click', function (e) {
    //did not click a popover toggle or popover
    $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover('hide');
});
var file_meta_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
var file_image_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_image_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
$('#view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    var viewlink = $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden').val();
    window.open( viewlink, '_blank');
});
$('#view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-published').click(function(){
    var viewlink = $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val();
    window.open( viewlink, '_blank');
});
$('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    if ( editContentChanged ) {
        setTimeout(setEditContentChangedTrue, 1000);
    }
    editContentChanged = false;
    return true;
});
<?php $_f0094b_old_params['_5e983a']=$_f0094b_local_params;$_f0094b_old_vars['_5e983a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_meta','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover({
    title: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
",
    content: "<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
",
    placement: "right",
    html: true
});
<?php else:?>

$('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
$('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').hide();
$('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5e983a'];$_f0094b_local_vars=$_f0094b_old_vars['_5e983a'];?>

$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove').change(function(){
    if ( $(this).prop('checked') ) {
        if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to delete the file? Delete is reflected when saving this page.','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
            $(this).prop('checked',!$(this).prop('checked'));
            return;
        }
    }
    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').toggle();
    $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').toggle();
    $('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    if ( file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class == 'image' ) {
        $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
        if ( $('#mime_type-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val() != 'image/gif' ) {
            $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
        }
    }
});
var DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 = document.getElementById('drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
<?php $_f0094b_old_params['_f01bbb']=$_f0094b_local_params;$_f0094b_old_vars['_f01bbb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','1px solid <?php $_f0094b_old_params['_6fddf6']=$_f0094b_local_params;$_f0094b_old_vars['_6fddf6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6fddf6'];$_f0094b_local_vars=$_f0094b_old_vars['_6fddf6'];?>
');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('margin','1px');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('padding','8px');
<?php else:?>

DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
.addEventListener('dragover', function (event) {
    $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#ddf');
});
DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
.addEventListener('dragleave', function (event) {
    $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#fff');
});
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','3px dashed <?php $_f0094b_old_params['_b013be']=$_f0094b_local_params;$_f0094b_old_vars['_b013be']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b013be'];$_f0094b_local_vars=$_f0094b_old_vars['_b013be'];?>
');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('margin','1px');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('padding','8px');
/*jslint unparam: true */
/*global window, $ */
$(function () {
    'use strict';
    var url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=upload&_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&_screen_id=<?php echo paml_rawurlencode($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'url','this_tag'=>'var'],null,$this),$this))?>
&name=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_c37260']=$_f0094b_local_params;$_f0094b_old_vars['_c37260']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.select_system_filters','eq'=>'filter_class_image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&select_system_filters=filter_class_image<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c37260'];$_f0094b_local_vars=$_f0094b_old_vars['_c37260'];?>
';
    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').fileupload({
        url: url,
        dataType: 'json',
        dropZone: $("#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"),
        done: function (e, data) {
            if (!data.result.files) {
                var error = data.result.message;
                $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                    'width', 0
                );
                alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while uploading.','this_tag'=>'trans'],null,$this),$this)?>
"+' (' + error + ')');
                return;
            }
            file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected = true;
            $.each(data.result.files, function (index, file) {
                $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').html('');
                $('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                $('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                $('#file-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').show();
                $('#file-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').css('display', 'inline');
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic').val(file.magic);
                file.name = escape_html( decodeURIComponent(file.name) );
                var file_name = escape_html( decodeURIComponent(file.basename) );
                var file_class = escape_html( file.class );
                if (file_class == 'image' && file.type != 'image/gif' ) {
                    $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                    $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                } else {
                    $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
                }
                $('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                $('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                $('<p/>').text(file.name).appendTo('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
                file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class = file_class;
                if (file_class == 'image') {
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').attr( 'placeholder', '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
' );
                } else {
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').attr( 'placeholder', '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
' );
                }
                if (! $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').val() ) {
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').val( file_name );
                }
                if (file_class == 'image' || file.extension == 'svg' ) {
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').prop('src','data:' + file.type + ';base64,' + file.thumbnail);
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-image-o');
                } else if (file.extension == 'zip' || file.extension == 'gz' || file.extension == 'tar') {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-archive-o');
                } else if (file_class == 'pdf') {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-pdf-o');
                } else {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-o');
                }
                if (file_class != 'image' && file.extension != 'svg' ) {
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
                }
                var file_size = file.size;
                if ( file_size >= 1048576 ) {
                    file_size = Math.round( ( file_size / 1048576 )*10 )/10 + 'MB';
                } else if ( file_size >= 1024 ) {
                    file_size = Math.round( ( file_size / 1024 )*10 )/10 + 'KB';
                } else {
                    file_size = file_size + 'Byte';
                }
                var prop_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
                prop_tmpl = prop_tmpl.replace('file_name', file_name);
                prop_tmpl = prop_tmpl.replace('file_size', file_size);
                prop_tmpl = prop_tmpl.replace('mime_type', file.type);
                $('#mime_type-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val(file.type);
                var image_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_image_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
                if (file_class == 'image') {
                    image_tmpl = image_tmpl.replace('image_width', file.width);
                    image_tmpl = image_tmpl.replace('image_height', file.height);
                    prop_tmpl = prop_tmpl + image_tmpl;
                }
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').show();
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&_screen_id=<?php echo paml_rawurlencode($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'url','this_tag'=>'var'],null,$this),$this))?>
<?php $_f0094b_old_params['_b8c74c']=$_f0094b_local_params;$_f0094b_old_vars['_b8c74c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b8c74c'];$_f0094b_local_vars=$_f0094b_old_vars['_b8c74c'];?>
');
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden').val('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&_screen_id=<?php echo paml_rawurlencode($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'url','this_tag'=>'var'],null,$this),$this))?>
<?php $_f0094b_old_params['_ed5e0b']=$_f0094b_local_params;$_f0094b_old_vars['_ed5e0b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ed5e0b'];$_f0094b_local_vars=$_f0094b_old_vars['_ed5e0b'];?>
');
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover('dispose');
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover({
                    title: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
",
                    content: prop_tmpl,
                    placement: "right",
                    html: true
                });
                if('<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
' == 'asset' && '<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
' == 'file' ) {
                    if ( $('#label').val() == '' ) {
                        $('#label').val(file_name);
                    }
                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'no_encode_filename','setvar'=>'no_encode_filename','this_tag'=>'property'],null,$this),$this),$this->setup_args('no_encode_filename','setvar',$this),$this,'setvar')?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'encode_filename_compat','setvar'=>'encode_filename_compat','this_tag'=>'property'],null,$this),$this),$this->setup_args('encode_filename_compat','setvar',$this),$this,'setvar')?>

                    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'hash_multibyte_filename','setvar'=>'hash_multibyte_filename','this_tag'=>'property'],null,$this),$this),$this->setup_args('hash_multibyte_filename','setvar',$this),$this,'setvar')?>

                    <?php $_f0094b_old_params['_fdb224']=$_f0094b_local_params;$_f0094b_old_vars['_fdb224']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'encode_filename_compat','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <?php echo $this->function_var($this->setup_args(['name'=>'no_encode_filename','value'=>'0','this_tag'=>'var'],null,$this),$this)?>

                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fdb224'];$_f0094b_local_vars=$_f0094b_old_vars['_fdb224'];?>

                    <?php $_f0094b_old_params['_10742c']=$_f0094b_local_params;$_f0094b_old_vars['_10742c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'hash_multibyte_filename','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    $('#file_name').val(file.hashed_name + '.' + file.extension );
                    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'no_encode_filename','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

                    $('#file_name').val(file_name + '.' + file.extension);
                    <?php else:?>

                    $('#file_name').val(file.basename + '.' + file.extension);
                    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_10742c'];$_f0094b_local_vars=$_f0094b_old_vars['_10742c'];?>

                    $('#file_ext').val(file.extension);
                    $('#mime_type').val(file.type);
                    $('#class').val(file_class);
                    $('#size').val(file.size);
                    $('#_object_size').html(file_size);
                    if (file_class == 'image') {
                        $('#image_width').val(file.width);
                        $('#image_height').val(file.height);
                        $('#_object_width').html(file.width+'px');
                        $('#_object_height').html(file.height+'px');
                    } else {
                        $('#image_width').val('');
                        $('#image_height').val('');
                        $('#_object_width').html('');
                        $('#_object_height').html('');
                    }
                }
                if('<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
' == 'attachmentfile' && '<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
' == 'file' ) {
                    if ( $('#name').val() == '' ) {
                        $('#name').val(file_name);
                    }
                    $('#mime_type').val(file.type);
                    $('#class').val(file_class);
                    $('#size').val(file.size);
                }
                if ( file.resized != true ) {
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
');
                } else {
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'It has been reduced because it exceeds the maximum size of the image. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
');
                }
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').show();
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').focus();
                $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                    'width', 0
                );
                $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#fff');
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove').prop('checked', false);
                $('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper').show();
                editContentChanged = true;
            });
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                'width',
                progress + '%'
            );
        }
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f01bbb'];$_f0094b_local_vars=$_f0094b_old_vars['_f01bbb'];?>

</script>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'checkbox','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <?php $_f0094b_old_params['_75f5f0']=$_f0094b_local_params;$_f0094b_old_vars['_75f5f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_ecd730']=$_f0094b_local_params;$_f0094b_old_vars['_ecd730']=$_f0094b_local_vars;if($this->conditional_isset($this->setup_args(['name'=>'default','this_tag'=>'isset'],null,$this),null,$this,true,true)):?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ecd730'];$_f0094b_local_vars=$_f0094b_old_vars['_ecd730'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_75f5f0'];$_f0094b_local_vars=$_f0094b_old_vars['_75f5f0'];?>

  </div>
  <div class="col-lg-10">
    <?php $_f0094b_old_params['_0083d1']=$_f0094b_local_params;$_f0094b_old_vars['_0083d1']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_39a768']=$_f0094b_local_params;$_f0094b_old_vars['_39a768']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_39a768'];$_f0094b_local_vars=$_f0094b_old_vars['_39a768'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0083d1'];$_f0094b_local_vars=$_f0094b_old_vars['_0083d1'];?>

    <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="0">
    <label class="custom-control custom-checkbox">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="custom-control-input watch-changed"
    <?php $_f0094b_old_params['_a3c677']=$_f0094b_local_params;$_f0094b_old_vars['_a3c677']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3c677'];$_f0094b_local_vars=$_f0094b_old_vars['_a3c677'];?>

     type="checkbox" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="1" <?php $_f0094b_old_params['_c2c4b3']=$_f0094b_local_params;$_f0094b_old_vars['_c2c4b3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'value','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c2c4b3'];$_f0094b_local_vars=$_f0094b_old_vars['_c2c4b3'];?>
>
        <span class="custom-control-indicator<?php $_f0094b_old_params['_87d638']=$_f0094b_local_params;$_f0094b_old_vars['_87d638']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 disabled-cb<?php endif;$_f0094b_local_params=$_f0094b_old_params['_87d638'];$_f0094b_local_vars=$_f0094b_old_vars['_87d638'];?>
"></span>
        <span class="custom-control-description"> 
        <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
</span>
    </label>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'url','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>


<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_faac19']=$_f0094b_local_params;$_f0094b_old_vars['_faac19']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_faac19'];$_f0094b_local_vars=$_f0094b_old_vars['_faac19'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <div class="input-group">
      <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="url" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
"
        <?php $_f0094b_old_params['_8777f2']=$_f0094b_local_params;$_f0094b_old_vars['_8777f2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8777f2'];$_f0094b_local_vars=$_f0094b_old_vars['_8777f2'];?>
 class="watch-changed form-control <?php echo $this->function_var($this->setup_args(['name'=>'ctrl_class','this_tag'=>'var'],null,$this),$this)?>
" placeholder="https://">
      <div class="input-group-addon" style="border: 1px solid <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
;border-left:none">
      <a href="javascript:void(0);" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-btn">
        <i class="fa fa-external-link" aria-hidden="true"></i>
        <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Open in new window','this_tag'=>'trans'],null,$this),$this)?>
</span>
      </a>
      </div>
    </div>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>
<script>
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-btn').click(function(){
    var url = $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val();
    if ( url && url.match( /^https?:\/\// ) ) {
        window.open( url, '_blank');
    }
    return false;
});
</script>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'color','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>


<?php $_f0094b_old_params['_a1abdb']=$_f0094b_local_params;$_f0094b_old_vars['_a1abdb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_0191c9']=$_f0094b_local_params;$_f0094b_old_vars['_0191c9']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0191c9'];$_f0094b_local_vars=$_f0094b_old_vars['_0191c9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a1abdb'];$_f0094b_local_vars=$_f0094b_old_vars['_a1abdb'];?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_785da0']=$_f0094b_local_params;$_f0094b_old_vars['_785da0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_785da0'];$_f0094b_local_vars=$_f0094b_old_vars['_785da0'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="color" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
"
      <?php $_f0094b_old_params['_4c67c4']=$_f0094b_local_params;$_f0094b_old_vars['_4c67c4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4c67c4'];$_f0094b_local_vars=$_f0094b_old_vars['_4c67c4'];?>
 class="watch-changed form-control color-picker <?php echo $this->function_var($this->setup_args(['name'=>'ctrl_class','this_tag'=>'var'],null,$this),$this)?>
">
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>':','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>


<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'type','setvar'=>'__col_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('__col_type','setvar',$this),$this,'setvar')?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_2f00a4']=$_f0094b_local_params;$_f0094b_old_vars['_2f00a4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f00a4'];$_f0094b_local_vars=$_f0094b_old_vars['_2f00a4'];?>

        <?php $_f0094b_old_params['_719343']=$_f0094b_local_params;$_f0094b_old_vars['_719343']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>':hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'edit','split'=>':','setvar'=>'hierarchy_props','this_tag'=>'var'],null,$this),$this),$this->setup_args(':','split',$this),$this,'split'),$this->setup_args('hierarchy_props','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'hierarchy_props[1]','setvar'=>'hierarchy_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('hierarchy_model','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'hierarchy_props[2]','setvar'=>'hierarchy_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('hierarchy_col','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'hierarchy_props[3]','setvar'=>'hierarchy_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('hierarchy_type','setvar',$this),$this,'setvar')?>

          <?php $_f0094b_old_params['_b0bc5c']=$_f0094b_local_params;$_f0094b_old_vars['_b0bc5c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'hierarchy_type','eq'=>'hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_4faa5c']=$_f0094b_local_params;$_f0094b_old_vars['_4faa5c']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$hierarchy_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'hierarchy_workspace_id','value'=>'$workspace_id','this_tag'=>'setvar'],null,$this),$this)?>

            <?php else:?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'hierarchy_workspace_id','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4faa5c'];$_f0094b_local_vars=$_f0094b_old_vars['_4faa5c'];?>

            <?php $_f0094b_old_params['_b868af']=$_f0094b_local_params;$_f0094b_old_vars['_b868af']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'hierarchy','model'=>'$hierarchy_model','workspace_id'=>'$hierarchy_workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

              <button type="button" class="btn btn-secondary btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage','this_tag'=>'trans'],null,$this),$this)?>
"
                data-toggle="modal" data-target="#modal"
                data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=hierarchy&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'hierarchy_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;<?php $_f0094b_old_params['_cfa831']=$_f0094b_local_params;$_f0094b_old_vars['_cfa831']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$hierarchy_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a1fd94']=$_f0094b_local_params;$_f0094b_old_vars['_a1fd94']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a1fd94'];$_f0094b_local_vars=$_f0094b_old_vars['_a1fd94'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cfa831'];$_f0094b_local_vars=$_f0094b_old_vars['_cfa831'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;dialog_type=<?php $_f0094b_old_params['_974672']=$_f0094b_local_params;$_f0094b_old_vars['_974672']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
int<?php else:?>
relation<?php endif;$_f0094b_local_params=$_f0094b_old_params['_974672'];$_f0094b_local_vars=$_f0094b_old_vars['_974672'];?>
">
                <?php echo $this->modifier_setvar($this->modifier_translate($this->component('PTTags')->hdlr_modelproperty($this->setup_args(['name'=>'$hierarchy_model','property'=>'plural','translate'=>'','setvar'=>'hierarchy_plural','this_tag'=>'modelproperty'],null,$this),$this),$this->setup_args('','translate',$this),$this,'translate'),$this->setup_args('hierarchy_plural','setvar',$this),$this,'setvar')?>

                <i class="fa fa-sitemap" data-toggle="tooltip" data-placement="right" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage %s','params'=>'$hierarchy_plural','this_tag'=>'trans'],null,$this),$this)?>
"></i>
                <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage','this_tag'=>'trans'],null,$this),$this)?>
</span>
              </button>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b868af'];$_f0094b_local_vars=$_f0094b_old_vars['_b868af'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b0bc5c'];$_f0094b_local_vars=$_f0094b_old_vars['_b0bc5c'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_719343'];$_f0094b_local_vars=$_f0094b_old_vars['_719343'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <?php $_f0094b_old_params['_69f76b']=$_f0094b_local_params;$_f0094b_old_vars['_69f76b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'reference','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$value','type'=>'$edit','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

    <input type="hidden" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
">
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_69f76b'];$_f0094b_local_vars=$_f0094b_old_vars['_69f76b'];?>

    <?php $_f0094b_old_params['_04afa5']=$_f0094b_local_params;$_f0094b_old_vars['_04afa5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_f36dd4']=$_f0094b_local_params;$_f0094b_old_vars['_f36dd4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'__any__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <table>
  <tr>
    <td>
    <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'edit','split'=>':','setvar'=>'edit_props','this_tag'=>'var'],null,$this),$this),$this->setup_args(':','split',$this),$this,'split'),$this->setup_args('edit_props','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[1]','setvar'=>'rel_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_model','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[2]','setvar'=>'rel_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_col','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[3]','setvar'=>'rel_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_type','setvar',$this),$this,'setvar')?>

    <?php $c_43afba=null;$_f0094b_old_params['_43afba']=$_f0094b_local_params;$_f0094b_old_vars['_43afba']=$_f0094b_local_vars;$a_43afba=$this->setup_args(['name'=>'__rel_model__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_model<?php $c_43afba=ob_get_clean();$c_43afba=$this->block_setvarblock($a_43afba,$c_43afba,$this,$r_43afba,1,'_43afba');echo($c_43afba); $_f0094b_local_params=$_f0094b_old_params['_43afba'];?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$__rel_model__','setvar'=>'selected_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('selected_model','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_1ba643']=$_f0094b_local_params;$_f0094b_old_vars['_1ba643']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $c_51227a=null;$_f0094b_old_params['_51227a']=$_f0094b_local_params;$_f0094b_old_vars['_51227a']=$_f0094b_local_vars;$a_51227a=$this->setup_args(['name'=>'__rel_model__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_model<?php $c_51227a=ob_get_clean();$c_51227a=$this->block_setvarblock($a_51227a,$c_51227a,$this,$r_51227a,1,'_51227a');echo($c_51227a); $_f0094b_local_params=$_f0094b_old_params['_51227a'];?>

      <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$__rel_model__','setvar'=>'selected_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('selected_model','setvar',$this),$this,'setvar')?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1ba643'];$_f0094b_local_vars=$_f0094b_old_vars['_1ba643'];?>

    <?php $_f0094b_old_params['_462963']=$_f0094b_local_params;$_f0094b_old_vars['_462963']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'table_type','value'=>'display_space','this_tag'=>'setvar'],null,$this),$this)?>

    <?php else:?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'table_type','value'=>'display_system','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_462963'];$_f0094b_local_vars=$_f0094b_old_vars['_462963'];?>

      <?php $c_7dc535=null;$_f0094b_old_params['_7dc535']=$_f0094b_local_params;$_f0094b_old_vars['_7dc535']=$_f0094b_local_vars;$a_7dc535=$this->setup_args(['menu_type'=>'1','type'=>'$table_type','this_tag'=>'tables'],null,$this);$_7dc535=-1;$r_7dc535=true;while($r_7dc535===true):$r_7dc535=($_7dc535!==-1)?false:true;echo $this->component('PTTags')->hdlr_tables($a_7dc535,$c_7dc535,$this,$r_7dc535,++$_7dc535,'_7dc535');ob_start();?>
<?php $c_7dc535 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_7dc535=false;}if($c_7dc535 ):?>

      <?php $_f0094b_old_params['_a0b96c']=$_f0094b_local_params;$_f0094b_old_vars['_a0b96c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <select class="form-control custom-select short watch-changed short" name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_model" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-selector">
        <?php $_f0094b_old_params['_409d24']=$_f0094b_local_params;$_f0094b_old_vars['_409d24']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'selected_model','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <option value="">
          <?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>

        </option>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_409d24'];$_f0094b_local_vars=$_f0094b_old_vars['_409d24'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0b96c'];$_f0094b_local_vars=$_f0094b_old_vars['_a0b96c'];?>

      <?php $_f0094b_old_params['_2f2235']=$_f0094b_local_params;$_f0094b_old_vars['_2f2235']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_87763b']=$_f0094b_local_params;$_f0094b_old_vars['_87763b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <option <?php $_f0094b_old_params['_bf3744']=$_f0094b_local_params;$_f0094b_old_vars['_bf3744']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'$selected_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf3744'];$_f0094b_local_vars=$_f0094b_old_vars['_bf3744'];?>
 value="<?php echo $this->function_var($this->setup_args(['name'=>'name','this_tag'=>'var'],null,$this),$this)?>
"><?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'$label','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>
</option>
          <?php $c_f2af1c=null;$_f0094b_old_params['_f2af1c']=$_f0094b_local_params;$_f0094b_old_vars['_f2af1c']=$_f0094b_local_vars;$a_f2af1c=$this->setup_args(['name'=>'model_primary','this_tag'=>'setvars'],null,$this);ob_start();?>

            <?php echo $this->function_var($this->setup_args(['name'=>'name','this_tag'=>'var'],null,$this),$this)?>
=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'primary','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

          <?php $c_f2af1c=ob_get_clean();$c_f2af1c=$this->block_setvars($a_f2af1c,$c_f2af1c,$this,$r_f2af1c,1,'_f2af1c');echo($c_f2af1c); $_f0094b_local_params=$_f0094b_old_params['_f2af1c'];$_f0094b_local_vars=$_f0094b_old_vars['_f2af1c'];?>

          <?php $_f0094b_old_params['_bf0ec7']=$_f0094b_local_params;$_f0094b_old_vars['_bf0ec7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'$selected_model','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'model_primary_col','value'=>'$primary','this_tag'=>'setvar'],null,$this),$this)?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'model_model','value'=>'$name','this_tag'=>'setvar'],null,$this),$this)?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf0ec7'];$_f0094b_local_vars=$_f0094b_old_vars['_bf0ec7'];?>

          <?php echo $this->modifier_setvar($this->modifier_to_json($this->function_var($this->setup_args(['name'=>'model_primary','to_json'=>'1','setvar'=>'model_primary_json','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','to_json',$this),$this,'to_json'),$this->setup_args('model_primary_json','setvar',$this),$this,'setvar')?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_87763b'];$_f0094b_local_vars=$_f0094b_old_vars['_87763b'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f2235'];$_f0094b_local_vars=$_f0094b_old_vars['_2f2235'];?>

      <?php $_f0094b_old_params['_045650']=$_f0094b_local_params;$_f0094b_old_vars['_045650']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        </select>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_045650'];$_f0094b_local_vars=$_f0094b_old_vars['_045650'];?>

      <?php endif;$c_7dc535=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_7dc535'];$_f0094b_local_vars=$_f0094b_old_vars['_7dc535'];?>

  </td>
  <td class="rel-any-right-col">
    <?php $c_16afb0=null;$_f0094b_old_params['_16afb0']=$_f0094b_local_params;$_f0094b_old_vars['_16afb0']=$_f0094b_local_vars;$a_16afb0=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_16afb0=ob_get_clean();$c_16afb0=$this->block_setvarblock($a_16afb0,$c_16afb0,$this,$r_16afb0,1,'_16afb0');echo($c_16afb0); $_f0094b_local_params=$_f0094b_old_params['_16afb0'];?>

      <ul id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="relation-list">
        <li <?php $_f0094b_old_params['_c9508a']=$_f0094b_local_params;$_f0094b_old_vars['_c9508a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$__rel_name__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
style="display:none" <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c9508a'];$_f0094b_local_vars=$_f0094b_old_vars['_c9508a'];?>
class="badge badge-default badge-relation pl-2 pr-2 pb-1" style="height:1.6em" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-none">
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>

        </li>
        <li class="hidden badge badge-default badge-relation badge-draggable" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-tmpl">
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Default','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <button type="button" class="btn btn-secondary btn-sm close-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
          <span aria-hidden="true">&times;</span>
        </button>
        <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="">
        </li>
      <?php $c_c546a6=null;$_f0094b_old_params['_c546a6']=$_f0094b_local_params;$_f0094b_old_vars['_c546a6']=$_f0094b_local_vars;$a_c546a6=$this->setup_args(['name'=>'selected_ids','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php $c_f8f59a=null;$_f0094b_old_params['_f8f59a']=$_f0094b_local_params;$_f0094b_old_vars['_f8f59a']=$_f0094b_local_vars;$a_f8f59a=$this->setup_args(['name'=>'$__rel_name__','glue'=>',','this_tag'=>'loop'],null,$this);$_f8f59a=-1;$r_f8f59a=true;while($r_f8f59a===true):$r_f8f59a=($_f8f59a!==-1)?false:true;echo $this->block_loop($a_f8f59a,$c_f8f59a,$this,$r_f8f59a,++$_f8f59a,'_f8f59a');ob_start();?>
<?php $c_f8f59a = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f8f59a=false;}if($c_f8f59a ):?>
<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_f8f59a=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f8f59a'];$_f0094b_local_vars=$_f0094b_old_vars['_f8f59a'];?>
<?php $c_c546a6=ob_get_clean();$c_c546a6=$this->block_setvarblock($a_c546a6,$c_c546a6,$this,$r_c546a6,1,'_c546a6');echo($c_c546a6); $_f0094b_local_params=$_f0094b_old_params['_c546a6'];?>

      <?php $c_999916=null;$_f0094b_old_params['_999916']=$_f0094b_local_params;$_f0094b_old_vars['_999916']=$_f0094b_local_vars;$a_999916=$this->setup_args(['name'=>'$__rel_name__','this_tag'=>'loop'],null,$this);$_999916=-1;$r_999916=true;while($r_999916===true):$r_999916=($_999916!==-1)?false:true;echo $this->block_loop($a_999916,$c_999916,$this,$r_999916,++$_999916,'_999916');ob_start();?>
<?php $c_999916 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_999916=false;}if($c_999916 ):?>

        <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-default badge-relation badge-draggable">
        <span>
        <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__value__','wants'=>'$model_primary_col','model'=>'$model_model','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>
</span>
        <button type="button" class="btn btn-secondary btn-sm close-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
          <span aria-hidden="true">&times;</span>
        </button>
        <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></li>
      <?php endif;$c_999916=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_999916'];$_f0094b_local_vars=$_f0094b_old_vars['_999916'];?>

      </ul>
      <button id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser" type="button" style="margin-top:-3px" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
        data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_cba8f5']=$_f0094b_local_params;$_f0094b_old_vars['_cba8f5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cba8f5'];$_f0094b_local_vars=$_f0094b_old_vars['_cba8f5'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;selected_ids=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;any_model=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
<script>
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').click(function(){
    if (! $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-selector').val() ) {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Model not specified.','this_tag'=>'trans'],null,$this),$this)?>
');
        return false;
    }
});
var <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary = <?php echo $this->function_var($this->setup_args(['name'=>'model_primary_json','this_tag'=>'var'],null,$this),$this)?>
;
var <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_data_href ='<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_9b50f3']=$_f0094b_local_params;$_f0094b_old_vars['_9b50f3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9b50f3'];$_f0094b_local_vars=$_f0094b_old_vars['_9b50f3'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;selected_ids=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'selected_ids','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;any_model=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
';
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-selector').change(function(){
    var primary_col = <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary[$(this).val()];
    var tmp_url = <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_data_href;
    tmp_url = tmp_url.replace( /_model=__any__/, '_model=' + $(this).val() );
    tmp_url = tmp_url.replace( /get_col=__primary__/, 'get_col=' + <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary[$(this).val()] );
    tmp_url = tmp_url.replace( /&amp;/g, '&' );
    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').attr( 'data-href', tmp_url );
    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').data( 'href', tmp_url );
});
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-selector').trigger('change');
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').sortable ( {
});
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').ksortable();
</script>
<script>
    var setAssetThumbnail = function(field_id,model){
        var script = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
';
        if(!field_id){ return false; }
        var $field = $('#' + field_id);
        if(!$field.length || !$field.find('input[name="' + field_id + '[]"]').length){
            return false;
        }
        if(!model){
            var model  = '';
            var $model  = $('#' + field_id + '-selector');
            if($model.length){
                model = $model.val();
            }
            if(!model){
                return true;
            }
        }
        var checkThumbnail = function(){
            $field
                .find('input[name="' + field_id + '[]"]')
                .each(function(){
                    var $input = $(this);
                    var obj_id = $input.val();
                    var $li    = $input.closest('li');
                    if(!obj_id || $li.find('.assets-child-thumb').length){
                        return true;
                    }
                    $.ajax({
                        url: script,
                        data: {
                            __mode: 'get_thumbnail',
                            _model: model,
                            has_thumbnail: 1,
                            id: obj_id
                        },
                        success: function(data){
                            if(data && data.has_thumbnail){
                                createThumbnail($li,model,obj_id);
                            }
                        },
                        error: function(){
                        }
                    });
                });
        }
        var createThumbnail = function($li,model,obj_id){
            var src    = script + '?__mode=get_thumbnail&_model=' + model + '&id=' + obj_id;
            var src_sq = src + '&square=1';
            // console.log(src);
            var $thumb = $('<div>')
                .addClass('assets-child-thumb')
                .attr({
                    'data-model': model,
                    'data-id'   : obj_id,
                })
                .css({
                    'background-image': 'url(' + src_sq + ')'
                })
                .prependTo($li);
        }
        $.ajax({
            url: script,
            data: {
                __mode: 'get_thumbnail',
                _model: model,
                has_thumbnail: 1
            },
            success: function(data){
                if(data && data.has_thumbnail){
                    checkThumbnail();
                }
            },
            error: function(){
            }
        });
    }
    setAssetThumbnail('<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
</script>
<script>
    var setRelatedObjectSelector = function(field_id){
        if(!field_id){ return false; }
        var $model_selector  = $('#' + field_id + '-selector');
        if(!$model_selector.length){ return false; }
        var $field = $('#' + field_id);
        var checkItems = function(){
            var has_item = false;
            $field
                .find('input[name="' + field_id + '[]"]')
                .each(function(){
                    if($(this).val()){
                        has_item = true;
                        return false;
                    }
                });
            return has_item;
        }
        if(checkItems()){
            $model_selector
                .attr('readonly','readonly')
                .on('click.disable_select mousedown.disable_select keydown.disable_select',function(event){
                    event.preventDefault();
                    event.stopImmediatePropagation();
                    return false;
                });
        }else{
            $model_selector
                .removeAttr('readonly')
                .off('.disable_select');
        }
    }
    setRelatedObjectSelector('<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
    $(function(){
        $(document).on('click','#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .close-sm', function() {
            setRelatedObjectSelector('<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
        });
    })
</script>
    </td>
  </tr>
</table>
      <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'relation:asset:label:dialog','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'edit','split'=>':','setvar'=>'edit_props','this_tag'=>'var'],null,$this),$this),$this->setup_args(':','split',$this),$this,'split'),$this->setup_args('edit_props','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[1]','setvar'=>'rel_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_model','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[2]','setvar'=>'rel_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_col','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[3]','setvar'=>'rel_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_type','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_328b95']=$_f0094b_local_params;$_f0094b_old_vars['_328b95']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'asset_workspace_id','ne'=>'$workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'workspace_id','setvar'=>'_from_scope','this_tag'=>'var'],null,$this),$this),$this->setup_args('_from_scope','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_328b95'];$_f0094b_local_vars=$_f0094b_old_vars['_328b95'];?>

    <?php $_f0094b_old_params['_83151a']=$_f0094b_local_params;$_f0094b_old_vars['_83151a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'type','eq'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_9c91dc']=$_f0094b_local_params;$_f0094b_old_vars['_9c91dc']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifhasthumbnail($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifhasthumbnail'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9c91dc'];$_f0094b_local_vars=$_f0094b_old_vars['_9c91dc'];?>

      <?php $c_5db1b6=null;$_f0094b_old_params['_5db1b6']=$_f0094b_local_params;$_f0094b_old_vars['_5db1b6']=$_f0094b_local_vars;$a_5db1b6=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_5db1b6=ob_get_clean();$c_5db1b6=$this->block_setvarblock($a_5db1b6,$c_5db1b6,$this,$r_5db1b6,1,'_5db1b6');echo($c_5db1b6); $_f0094b_local_params=$_f0094b_old_params['_5db1b6'];?>

      <ul id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="relation-list">
        <li <?php $_f0094b_old_params['_bb68de']=$_f0094b_local_params;$_f0094b_old_vars['_bb68de']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$__rel_name__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
style="display:none" <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bb68de'];$_f0094b_local_vars=$_f0094b_old_vars['_bb68de'];?>
class="badge badge-default badge-relation" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-none">
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
&nbsp;</span>
        </li>
        <li style="margin-right: 4px" class="hidden badge badge-default badge-relation badge-draggable" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-tmpl">
        <?php $_f0094b_old_params['_9f9fd9']=$_f0094b_local_params;$_f0094b_old_vars['_9f9fd9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <div class="assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></div>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f9fd9'];$_f0094b_local_vars=$_f0094b_old_vars['_9f9fd9'];?>

        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Default','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <a href="" class="asset-download-btn btn btn-secondary btn-sm attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-download"></i>
        </a>
      <?php $_f0094b_old_params['_b70fcf']=$_f0094b_local_params;$_f0094b_old_vars['_b70fcf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a target="_blank" href="" class="btn btn-secondary btn-sm asset-linkurl-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-globe"></i>
        </a>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b70fcf'];$_f0094b_local_vars=$_f0094b_old_vars['_b70fcf'];?>

        <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=__value__&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_660cef']=$_f0094b_local_params;$_f0094b_old_vars['_660cef']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_b366da']=$_f0094b_local_params;$_f0094b_old_vars['_b366da']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b366da'];$_f0094b_local_vars=$_f0094b_old_vars['_b366da'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_660cef'];$_f0094b_local_vars=$_f0094b_old_vars['_660cef'];?>
">
          <i class="fa fa-pencil"></i>
        </button>
      
        <?php $_f0094b_old_params['_564377']=$_f0094b_local_params;$_f0094b_old_vars['_564377']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <button type="button" class="btn btn-secondary btn-sm close-sm detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
          <span aria-hidden="true">&times;</span>
        </button>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_564377'];$_f0094b_local_vars=$_f0094b_old_vars['_564377'];?>

        <input type="hidden" class="insert-file-id" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="">
        <input type="hidden" name="" value="" class="insert-file-name">
        </li>
      <?php $c_e15706=null;$_f0094b_old_params['_e15706']=$_f0094b_local_params;$_f0094b_old_vars['_e15706']=$_f0094b_local_vars;$a_e15706=$this->setup_args(['name'=>'selected_ids','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php $c_25118a=null;$_f0094b_old_params['_25118a']=$_f0094b_local_params;$_f0094b_old_vars['_25118a']=$_f0094b_local_vars;$a_25118a=$this->setup_args(['name'=>'$__rel_name__','glue'=>',','this_tag'=>'loop'],null,$this);$_25118a=-1;$r_25118a=true;while($r_25118a===true):$r_25118a=($_25118a!==-1)?false:true;echo $this->block_loop($a_25118a,$c_25118a,$this,$r_25118a,++$_25118a,'_25118a');ob_start();?>
<?php $c_25118a = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_25118a=false;}if($c_25118a ):?>
<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_25118a=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_25118a'];$_f0094b_local_vars=$_f0094b_old_vars['_25118a'];?>
<?php $c_e15706=ob_get_clean();$c_e15706=$this->block_setvarblock($a_e15706,$c_e15706,$this,$r_e15706,1,'_e15706');echo($c_e15706); $_f0094b_local_params=$_f0094b_old_params['_e15706'];?>

      <?php $c_6ec059=null;$_f0094b_old_params['_6ec059']=$_f0094b_local_params;$_f0094b_old_vars['_6ec059']=$_f0094b_local_vars;$a_6ec059=$this->setup_args(['name'=>'$__rel_name__','this_tag'=>'loop'],null,$this);$_6ec059=-1;$r_6ec059=true;while($r_6ec059===true):$r_6ec059=($_6ec059!==-1)?false:true;echo $this->block_loop($a_6ec059,$c_6ec059,$this,$r_6ec059,++$_6ec059,'_6ec059');ob_start();?>
<?php $c_6ec059 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_6ec059=false;}if($c_6ec059 ):?>

        <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-default badge-relation badge-draggable">
        <?php $_f0094b_old_params['_7ad83f']=$_f0094b_local_params;$_f0094b_old_vars['_7ad83f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <div class="assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" style="background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&amp;square=1&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
')"></div>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7ad83f'];$_f0094b_local_vars=$_f0094b_old_vars['_7ad83f'];?>

        <span id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_name_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
          <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__value__','type'=>'$edit','escape'=>'','setvar'=>'_related_object','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES),$this->setup_args('_related_object','setvar',$this),$this,'setvar')?>

          <?php $_f0094b_old_params['_946652']=$_f0094b_local_params;$_f0094b_old_vars['_946652']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $c_d2b9a0=null;$_f0094b_old_params['_d2b9a0']=$_f0094b_local_params;$_f0094b_old_vars['_d2b9a0']=$_f0094b_local_vars;$a_d2b9a0=$this->setup_args(['name'=>'asset_request_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request._assets_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_d2b9a0=ob_get_clean();$c_d2b9a0=$this->block_setvarblock($a_d2b9a0,$c_d2b9a0,$this,$r_d2b9a0,1,'_d2b9a0');echo($c_d2b9a0); $_f0094b_local_params=$_f0094b_old_params['_d2b9a0'];?>

          <?php $_f0094b_old_params['_898de8']=$_f0094b_local_params;$_f0094b_old_vars['_898de8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$asset_request_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$asset_request_name','escape'=>'','setvar'=>'_related_object','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('_related_object','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_898de8'];$_f0094b_local_vars=$_f0094b_old_vars['_898de8'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_946652'];$_f0094b_local_vars=$_f0094b_old_vars['_946652'];?>

          <?php echo $this->function_var($this->setup_args(['name'=>'_related_object','this_tag'=>'var'],null,$this),$this)?>

        </span>
        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'asset','id'=>'$__value__','property'=>'class','setvar'=>'_asset_class','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_asset_class','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'asset','id'=>'$__value__','property'=>'url','setvar'=>'_asset_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_asset_url','setvar',$this),$this,'setvar')?>

        <?php $_f0094b_old_params['_224ccf']=$_f0094b_local_params;$_f0094b_old_vars['_224ccf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_3db549']=$_f0094b_local_params;$_f0094b_old_vars['_3db549']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_asset_url','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'_asset_link','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_asset_link','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3db549'];$_f0094b_local_vars=$_f0094b_old_vars['_3db549'];?>

        <?php else:?>

          <?php $_f0094b_old_params['_3e3337']=$_f0094b_local_params;$_f0094b_old_vars['_3e3337']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_asset_url','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'_asset_link','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_asset_link','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3e3337'];$_f0094b_local_vars=$_f0094b_old_vars['_3e3337'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_224ccf'];$_f0094b_local_vars=$_f0094b_old_vars['_224ccf'];?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'asset','id'=>'$__value__','property'=>'extension','setvar'=>'_asset_extension','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_asset_extension','setvar',$this),$this,'setvar')?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'__show_external','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_37513d']=$_f0094b_local_params;$_f0094b_old_vars['_37513d']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'extensions_inline','value'=>'$_asset_extension','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'__show_external','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_37513d'];$_f0094b_local_vars=$_f0094b_old_vars['_37513d'];?>

        <?php $_f0094b_old_params['_a1fa62']=$_f0094b_local_params;$_f0094b_old_vars['_a1fa62']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_asset_url','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $c_1b7aa5=null;$_f0094b_old_params['_1b7aa5']=$_f0094b_local_params;$_f0094b_old_vars['_1b7aa5']=$_f0094b_local_vars;$a_1b7aa5=$this->setup_args(['name'=>'_asset_url','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=asset&id=<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
&view=file<?php $c_1b7aa5=ob_get_clean();$c_1b7aa5=$this->block_setvarblock($a_1b7aa5,$c_1b7aa5,$this,$r_1b7aa5,1,'_1b7aa5');echo($c_1b7aa5); $_f0094b_local_params=$_f0094b_old_params['_1b7aa5'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a1fa62'];$_f0094b_local_vars=$_f0094b_old_vars['_a1fa62'];?>

        <?php $_f0094b_old_params['_68bdfd']=$_f0094b_local_params;$_f0094b_old_vars['_68bdfd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_external','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a target="_blank" href="<?php $_f0094b_old_params['_ba453d']=$_f0094b_local_params;$_f0094b_old_vars['_ba453d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_asset_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_66e71e']=$_f0094b_local_params;$_f0094b_old_vars['_66e71e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_url','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_link','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_66e71e'];$_f0094b_local_vars=$_f0094b_old_vars['_66e71e'];?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_url','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ba453d'];$_f0094b_local_vars=$_f0094b_old_vars['_ba453d'];?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-external-link-square"></i>
          </a>
          <?php $_f0094b_old_params['_51bbf3']=$_f0094b_local_params;$_f0094b_old_vars['_51bbf3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_64498c']=$_f0094b_local_params;$_f0094b_old_vars['_64498c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_asset_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a target="_blank" href="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_link','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-globe"></i>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_64498c'];$_f0094b_local_vars=$_f0094b_old_vars['_64498c'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_51bbf3'];$_f0094b_local_vars=$_f0094b_old_vars['_51bbf3'];?>

        <?php else:?>

          <a href="<?php $_f0094b_old_params['_81c98d']=$_f0094b_local_params;$_f0094b_old_vars['_81c98d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_asset_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_ebd791']=$_f0094b_local_params;$_f0094b_old_vars['_ebd791']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_url','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_link','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ebd791'];$_f0094b_local_vars=$_f0094b_old_vars['_ebd791'];?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_url','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_81c98d'];$_f0094b_local_vars=$_f0094b_old_vars['_81c98d'];?>
" class="draggable-inner btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-download"></i>
          </a>
          <?php $_f0094b_old_params['_f37e39']=$_f0094b_local_params;$_f0094b_old_vars['_f37e39']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_f8fd35']=$_f0094b_local_params;$_f0094b_old_vars['_f8fd35']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_asset_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a href="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_asset_link','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" class="draggable-inner btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Download Published','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-globe"></i>
          </a>
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f8fd35'];$_f0094b_local_vars=$_f0094b_old_vars['_f8fd35'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f37e39'];$_f0094b_local_vars=$_f0094b_old_vars['_f37e39'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_68bdfd'];$_f0094b_local_vars=$_f0094b_old_vars['_68bdfd'];?>

        <?php $_f0094b_old_params['_c85ff2']=$_f0094b_local_params;$_f0094b_old_vars['_c85ff2']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <input type="hidden" value="<?php $_f0094b_old_params['_3cc83d']=$_f0094b_local_params;$_f0094b_old_vars['_3cc83d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'_related_object','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3cc83d'];$_f0094b_local_vars=$_f0094b_old_vars['_3cc83d'];?>
" name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php $_f0094b_old_params['_06190b']=$_f0094b_local_params;$_f0094b_old_vars['_06190b']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'$rel_model','id'=>'$__value__','workspace_id'=>'$can_asset_workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_c0fad5']=$_f0094b_local_params;$_f0094b_old_vars['_c0fad5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_5fc5ca']=$_f0094b_local_params;$_f0094b_old_vars['_5fc5ca']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5fc5ca'];$_f0094b_local_vars=$_f0094b_old_vars['_5fc5ca'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c0fad5'];$_f0094b_local_vars=$_f0094b_old_vars['_c0fad5'];?>
">
          <i class="fa fa-pencil"></i>
        </button>
      
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_06190b'];$_f0094b_local_vars=$_f0094b_old_vars['_06190b'];?>

        <button type="button" class="btn btn-secondary btn-sm close-sm detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
          <span aria-hidden="true">&times;</span>
        </button>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c85ff2'];$_f0094b_local_vars=$_f0094b_old_vars['_c85ff2'];?>

        <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></li>
      <?php endif;$c_6ec059=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_6ec059'];$_f0094b_local_vars=$_f0094b_old_vars['_6ec059'];?>

      </ul>
      <?php $_f0094b_old_params['_8f7e20']=$_f0094b_local_params;$_f0094b_old_vars['_8f7e20']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <button type="button" id="add_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
        data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_777f6e']=$_f0094b_local_params;$_f0094b_old_vars['_777f6e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_2043df']=$_f0094b_local_params;$_f0094b_old_vars['_2043df']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2043df'];$_f0094b_local_vars=$_f0094b_old_vars['_2043df'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_777f6e'];$_f0094b_local_vars=$_f0094b_old_vars['_777f6e'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
      <?php $_f0094b_old_params['_567f9c']=$_f0094b_local_params;$_f0094b_old_vars['_567f9c']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['model'=>'$rel_model','action'=>'create','workspace_id'=>'$can_asset_workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <button title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New...','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="ml-0 btn btn-info btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New...','this_tag'=>'trans'],null,$this),$this)?>
"
            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_fbb504']=$_f0094b_local_params;$_f0094b_old_vars['_fbb504']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_2e22af']=$_f0094b_local_params;$_f0094b_old_vars['_2e22af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e22af'];$_f0094b_local_vars=$_f0094b_old_vars['_2e22af'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fbb504'];$_f0094b_local_vars=$_f0094b_old_vars['_fbb504'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
          <i class="fa fa-plus-circle"></i>
        </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_567f9c'];$_f0094b_local_vars=$_f0094b_old_vars['_567f9c'];?>

      <script>
        var <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_add_objects = [];
        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').sortable ( {
        // TODO keyboard oparation
            stop: function( evt, ui ) {
                editContentChanged = true;
            }
        });
        $("#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
").ksortable();
      </script>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8f7e20'];$_f0094b_local_vars=$_f0094b_old_vars['_8f7e20'];?>

    <?php else:?>

      <?php $_f0094b_old_params['_e7eeae']=$_f0094b_local_params;$_f0094b_old_vars['_e7eeae']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifhasthumbnail($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifhasthumbnail'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e7eeae'];$_f0094b_local_vars=$_f0094b_old_vars['_e7eeae'];?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

      <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__col_value__','type'=>'$edit','wants'=>'id','escape'=>'','setvar'=>'__col_value__','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES),$this->setup_args('__col_value__','setvar',$this),$this,'setvar')?>

      <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetthumbnail($this->setup_args(['id'=>'$__col_value__','type'=>'default','square'=>'1','model'=>'$rel_model','data_uri'=>'1','setvar'=>'thumbnail','this_tag'=>'assetthumbnail'],null,$this),$this),$this->setup_args('thumbnail','setvar',$this),$this,'setvar')?>

      <?php $_f0094b_old_params['_29eaad']=$_f0094b_local_params;$_f0094b_old_vars['_29eaad']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'thumbnail','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_6daa32']=$_f0094b_local_params;$_f0094b_old_vars['_6daa32']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $c_74a682=null;$_f0094b_old_params['_74a682']=$_f0094b_local_params;$_f0094b_old_vars['_74a682']=$_f0094b_local_vars;$a_74a682=$this->setup_args(['name'=>'thumbnail','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&amp;square=1&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_74a682=ob_get_clean();$c_74a682=$this->block_setvarblock($a_74a682,$c_74a682,$this,$r_74a682,1,'_74a682');echo($c_74a682); $_f0094b_local_params=$_f0094b_old_params['_74a682'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6daa32'];$_f0094b_local_vars=$_f0094b_old_vars['_6daa32'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_29eaad'];$_f0094b_local_vars=$_f0094b_old_vars['_29eaad'];?>

      <ul class="relation-list">
      <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-default badge-relation">
      <div id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-img" class="<?php $_f0094b_old_params['_755da8']=$_f0094b_local_params;$_f0094b_old_vars['_755da8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_755da8'];$_f0094b_local_vars=$_f0094b_old_vars['_755da8'];?>
assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" style="background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'thumbnail','this_tag'=>'var'],null,$this),$this)?>
')"></div>
      <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label">
      <?php $_f0094b_old_params['_f805c8']=$_f0094b_local_params;$_f0094b_old_vars['_f805c8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__col_value__','type'=>'$edit','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

      <?php else:?>

        <?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
&nbsp;
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f805c8'];$_f0094b_local_vars=$_f0094b_old_vars['_f805c8'];?>

      </span>
      <?php $_f0094b_old_params['_9f2fda']=$_f0094b_local_params;$_f0094b_old_vars['_9f2fda']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_objectvar($this->setup_args(['model'=>'$rel_model','id'=>'$__col_value__','name'=>'permalink','setvar'=>'_external_link','this_tag'=>'objectvar'],null,$this),$this),$this->setup_args('_external_link','setvar',$this),$this,'setvar')?>

        <?php $_f0094b_old_params['_86906a']=$_f0094b_local_params;$_f0094b_old_vars['_86906a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_02718b']=$_f0094b_local_params;$_f0094b_old_vars['_02718b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.asset_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.asset_id','setvar'=>'related_asset_id','this_tag'=>'var'],null,$this),$this),$this->setup_args('related_asset_id','setvar',$this),$this,'setvar')?>

            <?php $c_655104=null;$_f0094b_old_params['_655104']=$_f0094b_local_params;$_f0094b_old_vars['_655104']=$_f0094b_local_vars;$a_655104=$this->setup_args(['model'=>'asset','id'=>'$related_asset_id','cols'=>'id','include_draft'=>'','this_tag'=>'objectloop'],null,$this);$_655104=-1;$r_655104=true;while($r_655104===true):$r_655104=($_655104!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_655104,$c_655104,$this,$r_655104,++$_655104,'_655104');ob_start();?>
<?php $c_655104 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_655104=false;}if($c_655104 ):?>

              <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_asseturl($this->setup_args(['setvar'=>'_external_link','this_tag'=>'asseturl'],null,$this),$this),$this->setup_args('_external_link','setvar',$this),$this,'setvar')?>

            <?php endif;$c_655104=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_655104'];$_f0094b_local_vars=$_f0094b_old_vars['_655104'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_02718b'];$_f0094b_local_vars=$_f0094b_old_vars['_02718b'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_86906a'];$_f0094b_local_vars=$_f0094b_old_vars['_86906a'];?>

        <?php $_f0094b_old_params['_d799b2']=$_f0094b_local_params;$_f0094b_old_vars['_d799b2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_external_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link" target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'_external_link','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-external-link-square"></i>
          </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d799b2'];$_f0094b_local_vars=$_f0094b_old_vars['_d799b2'];?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'_external_link_url','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_9af2e1']=$_f0094b_local_params;$_f0094b_old_vars['_9af2e1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_5eb425']=$_f0094b_local_params;$_f0094b_old_vars['_5eb425']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_2b8d1e']=$_f0094b_local_params;$_f0094b_old_vars['_2b8d1e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_external_link','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'_external_link_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_external_link_url','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2b8d1e'];$_f0094b_local_vars=$_f0094b_old_vars['_2b8d1e'];?>

        <?php else:?>

          <?php $_f0094b_old_params['_360d8b']=$_f0094b_local_params;$_f0094b_old_vars['_360d8b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_external_link','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'_external_link_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_external_link_url','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_360d8b'];$_f0094b_local_vars=$_f0094b_old_vars['_360d8b'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5eb425'];$_f0094b_local_vars=$_f0094b_old_vars['_5eb425'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9af2e1'];$_f0094b_local_vars=$_f0094b_old_vars['_9af2e1'];?>

        <?php $_f0094b_old_params['_2a21e6']=$_f0094b_local_params;$_f0094b_old_vars['_2a21e6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_external_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <a id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link-url" target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'_external_link_url','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
            <i class="fa fa-globe"></i>
          </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2a21e6'];$_f0094b_local_vars=$_f0094b_old_vars['_2a21e6'];?>

        <?php $_f0094b_old_params['_31d788']=$_f0094b_local_params;$_f0094b_old_vars['_31d788']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'$rel_model','id'=>'$__col_value__','workspace_id'=>'$can_asset_workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

          <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
              data-toggle="modal" data-target="#modal"
              data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_e501f0']=$_f0094b_local_params;$_f0094b_old_vars['_e501f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_e9c273']=$_f0094b_local_params;$_f0094b_old_vars['_e9c273']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e9c273'];$_f0094b_local_vars=$_f0094b_old_vars['_e9c273'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e501f0'];$_f0094b_local_vars=$_f0094b_old_vars['_e501f0'];?>
">
            <i class="fa fa-pencil"></i>
          </button>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_31d788'];$_f0094b_local_vars=$_f0094b_old_vars['_31d788'];?>

      <?php else:?>

        <a id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link" target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-external-link-square"></i>
        </a>
        <a id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link-url" target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-globe"></i>
        </a>
        <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit hidden btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=0&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_d7f05d']=$_f0094b_local_params;$_f0094b_old_vars['_d7f05d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_bd4a03']=$_f0094b_local_params;$_f0094b_old_vars['_bd4a03']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bd4a03'];$_f0094b_local_vars=$_f0094b_old_vars['_bd4a03'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d7f05d'];$_f0094b_local_vars=$_f0094b_old_vars['_d7f05d'];?>
">
          <i class="fa fa-pencil"></i>
        </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f2fda'];$_f0094b_local_vars=$_f0094b_old_vars['_9f2fda'];?>

      <?php $_f0094b_old_params['_9f1347']=$_f0094b_local_params;$_f0094b_old_vars['_9f1347']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <button style="display:inline" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-close" type="button" class="btn btn-secondary btn-sm close-sm detach-relation <?php $_f0094b_old_params['_f2e262']=$_f0094b_local_params;$_f0094b_old_vars['_f2e262']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f2e262'];$_f0094b_local_vars=$_f0094b_old_vars['_f2e262'];?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f1347'];$_f0094b_local_vars=$_f0094b_old_vars['_9f1347'];?>

      <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
      </li>
      </ul>
      <?php $_f0094b_old_params['_5448e5']=$_f0094b_local_params;$_f0094b_old_vars['_5448e5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <button type="button" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
        data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_feb2f7']=$_f0094b_local_params;$_f0094b_old_vars['_feb2f7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_5b5118']=$_f0094b_local_params;$_f0094b_old_vars['_5b5118']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5b5118'];$_f0094b_local_vars=$_f0094b_old_vars['_5b5118'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_feb2f7'];$_f0094b_local_vars=$_f0094b_old_vars['_feb2f7'];?>
&amp;dialog_view=1&amp;single_select=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
      <?php $_f0094b_old_params['_504901']=$_f0094b_local_params;$_f0094b_old_vars['_504901']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['model'=>'$rel_model','action'=>'create','workspace_id'=>'$can_asset_workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-info btn-sm ml-0" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New...','this_tag'=>'trans'],null,$this),$this)?>
"
            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_45edcb']=$_f0094b_local_params;$_f0094b_old_vars['_45edcb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_9a69d6']=$_f0094b_local_params;$_f0094b_old_vars['_9a69d6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_from_scope','ne'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'_from_scope','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9a69d6'];$_f0094b_local_vars=$_f0094b_old_vars['_9a69d6'];?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_45edcb'];$_f0094b_local_vars=$_f0094b_old_vars['_45edcb'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
          <i class="fa fa-plus-circle"></i>
        </button>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_504901'];$_f0094b_local_vars=$_f0094b_old_vars['_504901'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5448e5'];$_f0094b_local_vars=$_f0094b_old_vars['_5448e5'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_83151a'];$_f0094b_local_vars=$_f0094b_old_vars['_83151a'];?>

<?php $_f0094b_old_params['_167f2a']=$_f0094b_local_params;$_f0094b_old_vars['_167f2a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'type','eq'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
$('.attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    $(window).off('beforeunload');
    setTimeout(after_download_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
, 1000);
});
$('.attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    $(window).off('beforeunload');
    setTimeout(after_download_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
, 1000);
});
function after_download_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 () {
    $(window).on('beforeunload', function() {
        if (! editContentChanged ) {
            $(window).off('beforeunload');
            return;
        }
        return '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to move from this page? The changes you made are not reflected.','this_tag'=>'trans'],null,$this),$this)?>
';
    });
}
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_167f2a'];$_f0094b_local_vars=$_f0094b_old_vars['_167f2a'];?>

      <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'relation:attachmentfile:','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_a59594']=$_f0094b_local_params;$_f0094b_old_vars['_a59594']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          
<?php echo $this->function_setvar($this->setup_args(['name'=>'class','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'asset_url','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'file_meta','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'class','setvar'=>'class','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('class','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'url','setvar'=>'asset_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'extension','setvar'=>'_file_ext','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_file_ext','setvar',$this),$this,'setvar')?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetthumbnail($this->setup_args(['type'=>'default','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','dynamic'=>'1','attachmentfile'=>'$__col_name__','setvar'=>'thumbnail','this_tag'=>'assetthumbnail'],null,$this),$this),$this->setup_args('thumbnail','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_24fc64']=$_f0094b_local_params;$_f0094b_old_vars['_24fc64']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_a4ac30']=$_f0094b_local_params;$_f0094b_old_vars['_a4ac30']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'class','value'=>'image','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a4ac30'];$_f0094b_local_vars=$_f0094b_old_vars['_a4ac30'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_24fc64'];$_f0094b_local_vars=$_f0094b_old_vars['_24fc64'];?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'preview_width','value'=>'150','this_tag'=>'setvar'],null,$this),$this)?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'image_width','setvar'=>'image_width','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('image_width','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_4a20f8']=$_f0094b_local_params;$_f0094b_old_vars['_4a20f8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'image_width','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_2f7a49']=$_f0094b_local_params;$_f0094b_old_vars['_2f7a49']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'image_width','lt'=>'$preview_width','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'preview_width','value'=>'$image_width','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f7a49'];$_f0094b_local_vars=$_f0094b_old_vars['_2f7a49'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4a20f8'];$_f0094b_local_vars=$_f0094b_old_vars['_4a20f8'];?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'file_name','setvar'=>'file_name','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('file_name','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_b704e6']=$_f0094b_local_params;$_f0094b_old_vars['_b704e6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'url','setvar'=>'asset_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

<?php $c_cb577f=null;$_f0094b_old_params['_cb577f']=$_f0094b_local_params;$_f0094b_old_vars['_cb577f']=$_f0094b_local_vars;$a_cb577f=$this->setup_args(['name'=>'file_meta','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Name','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'file_name','this_tag'=>'assetproperty'],null,$this),$this)?>
<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Size','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->modifier_format_size($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'file_size','format_size'=>'1','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('1','format_size',$this),$this,'format_size')?>
<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Type','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'mime_type','this_tag'=>'assetproperty'],null,$this),$this)?>

    <?php $_f0094b_old_params['_3b39e3']=$_f0094b_local_params;$_f0094b_old_vars['_3b39e3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Width','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'image_width','this_tag'=>'assetproperty'],null,$this),$this)?>
px<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Height','this_tag'=>'trans'],null,$this),$this)?>
</b> : 
      <?php echo $this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'image_height','this_tag'=>'assetproperty'],null,$this),$this)?>
px
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3b39e3'];$_f0094b_local_vars=$_f0094b_old_vars['_3b39e3'];?>

<?php $c_cb577f=ob_get_clean();$c_cb577f=$this->block_setvarblock($a_cb577f,$c_cb577f,$this,$r_cb577f,1,'_cb577f');echo($c_cb577f); $_f0094b_local_params=$_f0094b_old_params['_cb577f'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b704e6'];$_f0094b_local_vars=$_f0094b_old_vars['_b704e6'];?>


<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'asset_url','setvar'=>'asset_url_original','this_tag'=>'var'],null,$this),$this),$this->setup_args('asset_url_original','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_1700be']=$_f0094b_local_params;$_f0094b_old_vars['_1700be']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_84853d']=$_f0094b_local_params;$_f0094b_old_vars['_84853d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'asset_url','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'asset_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_84853d'];$_f0094b_local_vars=$_f0094b_old_vars['_84853d'];?>

<?php else:?>

  <?php $_f0094b_old_params['_4bb842']=$_f0094b_local_params;$_f0094b_old_vars['_4bb842']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'asset_url','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'asset_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('asset_url','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4bb842'];$_f0094b_local_vars=$_f0094b_old_vars['_4bb842'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1700be'];$_f0094b_local_vars=$_f0094b_old_vars['_1700be'];?>



<?php $c_d6aa46=null;$_f0094b_old_params['_d6aa46']=$_f0094b_local_params;$_f0094b_old_vars['_d6aa46']=$_f0094b_local_vars;$a_d6aa46=$this->setup_args(['name'=>'file_meta_tmpl','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Name','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      file_name<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Size','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      file_size<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Type','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      mime_type
<?php $c_d6aa46=ob_get_clean();$c_d6aa46=$this->block_setvarblock($a_d6aa46,$c_d6aa46,$this,$r_d6aa46,1,'_d6aa46');echo($c_d6aa46); $_f0094b_local_params=$_f0094b_old_params['_d6aa46'];?>

<?php $c_8143ae=null;$_f0094b_old_params['_8143ae']=$_f0094b_local_params;$_f0094b_old_vars['_8143ae']=$_f0094b_local_vars;$a_8143ae=$this->setup_args(['name'=>'file_image_tmpl','this_tag'=>'setvarblock'],null,$this);ob_start();?>

    <br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Width','this_tag'=>'trans'],null,$this),$this)?>
</b> :
      image_widthpx<br>
    <b><?php echo $this->function_trans($this->setup_args(['phrase'=>'Height','this_tag'=>'trans'],null,$this),$this)?>
</b> : 
      image_heightpx
<?php $c_8143ae=ob_get_clean();$c_8143ae=$this->block_setvarblock($a_8143ae,$c_8143ae,$this,$r_8143ae,1,'_8143ae');echo($c_8143ae); $_f0094b_local_params=$_f0094b_old_params['_8143ae'];?>

    <div class="alert alert-success hidden" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert" role="alert" tabindex="0">
      <button onclick="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').hide();" type="button" id="header-alert-close" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message"><?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </div>

<?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'image_width','thumbnail_height'=>'$preview_width','setvar'=>'thumbnail_height','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('thumbnail_height','setvar',$this),$this,'setvar')?>

<div id="drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
<i id="icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn fa <?php $_f0094b_old_params['_d9fe3e']=$_f0094b_local_params;$_f0094b_old_vars['_d9fe3e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
fa-file-image-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'_file_ext','eq'=>'svg','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-image-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'_file_ext','eq'=>'zip','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'_file_ext','eq'=>'gz','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'_file_ext','eq'=>'tar','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-archive-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'pdf','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-pdf-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'video','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-video-o<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'class','eq'=>'audio','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
fa-file-audio-o<?php else:?>
fa-file-o<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d9fe3e'];$_f0094b_local_vars=$_f0094b_old_vars['_d9fe3e'];?>
 fa-3x" aria-hidden="true"></i>
  <img class="<?php $_f0094b_old_params['_4455bf']=$_f0094b_local_params;$_f0094b_old_vars['_4455bf']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_bd3fab']=$_f0094b_local_params;$_f0094b_old_vars['_bd3fab']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_file_ext','ne'=>'svg','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bd3fab'];$_f0094b_local_vars=$_f0094b_old_vars['_bd3fab'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4455bf'];$_f0094b_local_vars=$_f0094b_old_vars['_4455bf'];?>

    <?php $_f0094b_old_params['_88eaf3']=$_f0094b_local_params;$_f0094b_old_vars['_88eaf3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'file_name','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_88eaf3'];$_f0094b_local_vars=$_f0094b_old_vars['_88eaf3'];?>
 preview-file-field lazy"
    id="image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
    src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/spacer.gif"
    style="max-width: 150px; max-height: 150px; background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/loading.gif'); background-size: cover; background-repeat: repeat; background-position: center center;"
    data-original="<?php echo $this->function_var($this->setup_args(['name'=>'thumbnail','this_tag'=>'var'],null,$this),$this)?>
" alt="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Preview','this_tag'=>'trans'],null,$this),$this)?>
">
    <a href="javascript:void(0);"
        id="popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><i class="btn fa fa-info-circle fa-2x" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
"></i></a>
    <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_objectvar($this->setup_args(['name'=>'$name','escape'=>'','setvar'=>'value','this_tag'=>'objectvar'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>

    
      &nbsp; <a id="inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" target="_blank" class="btn btn-secondary <?php $_f0094b_old_params['_82239c']=$_f0094b_local_params;$_f0094b_old_vars['_82239c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_82239c'];$_f0094b_local_vars=$_f0094b_old_vars['_82239c'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=attachmentfile&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&amp;view=file&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_6a39c9']=$_f0094b_local_params;$_f0094b_old_vars['_6a39c9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6a39c9'];$_f0094b_local_vars=$_f0094b_old_vars['_6a39c9'];?>
&amp;attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
</a>
      <a id="download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary <?php $_f0094b_old_params['_a3c0db']=$_f0094b_local_params;$_f0094b_old_vars['_a3c0db']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3c0db'];$_f0094b_local_vars=$_f0094b_old_vars['_a3c0db'];?>
" href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=attachmentfile&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&amp;view=file&amp;download=1&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_3d0749']=$_f0094b_local_params;$_f0094b_old_vars['_3d0749']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d0749'];$_f0094b_local_vars=$_f0094b_old_vars['_3d0749'];?>
&amp;attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
</a>
      <?php $c_be38f8=null;$_f0094b_old_params['_be38f8']=$_f0094b_local_params;$_f0094b_old_vars['_be38f8']=$_f0094b_local_vars;$a_be38f8=$this->setup_args(['name'=>'attach_key','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic<?php $c_be38f8=ob_get_clean();$c_be38f8=$this->block_setvarblock($a_be38f8,$c_be38f8,$this,$r_be38f8,1,'_be38f8');echo($c_be38f8); $_f0094b_local_params=$_f0094b_old_params['_be38f8'];?>

      <button type="button" id="edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-primary<?php $_f0094b_old_params['_ea18d5']=$_f0094b_local_params;$_f0094b_old_vars['_ea18d5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ea18d5'];$_f0094b_local_vars=$_f0094b_old_vars['_ea18d5'];?>
<?php $_f0094b_old_params['_3897b6']=$_f0094b_local_params;$_f0094b_old_vars['_3897b6']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3897b6'];$_f0094b_local_vars=$_f0094b_old_vars['_3897b6'];?>
" data-toggle="modal" data-target="#modal"
      data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=edit_image&amp;_model=attachmentfile&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&amp;view=file&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_25236a']=$_f0094b_local_params;$_f0094b_old_vars['_25236a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_25236a'];$_f0094b_local_vars=$_f0094b_old_vars['_25236a'];?>
&attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit...','this_tag'=>'trans'],null,$this),$this)?>
</button>
    <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic" type="hidden" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$attach_key','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic" class="watch-changed">
    <?php $_f0094b_old_params['_907917']=$_f0094b_local_params;$_f0094b_old_vars['_907917']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser" class="btn btn-success fileinput-button">
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select File...','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <!-- The file input field used as target for the file upload widget -->
        <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="file" name="files"
            onfocus="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').css('border','2px solid green');"
            onblur="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-chooser').css('border','none');">
    </span>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_907917'];$_f0094b_local_vars=$_f0094b_old_vars['_907917'];?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_asset_file_col','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $_f0094b_old_params['_6399c5']=$_f0094b_local_params;$_f0094b_old_vars['_6399c5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_a18e10']=$_f0094b_local_params;$_f0094b_old_vars['_a18e10']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','eq'=>'file','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_setvar($this->setup_args(['name'=>'_asset_file_col','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a18e10'];$_f0094b_local_vars=$_f0094b_old_vars['_a18e10'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6399c5'];$_f0094b_local_vars=$_f0094b_old_vars['_6399c5'];?>

<?php $_f0094b_old_params['_5eea38']=$_f0094b_local_params;$_f0094b_old_vars['_5eea38']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_asset_file_col','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_3225c3']=$_f0094b_local_params;$_f0094b_old_vars['_3225c3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <span class="form-inline-span-cb <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper hidden">
    <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" value="0">
    <label class="custom-control custom-checkbox">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" class="custom-control-input watch-changed"
     type="checkbox" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove" value="1">
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"> 
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'Delete','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </label>
    </span>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3225c3'];$_f0094b_local_vars=$_f0094b_old_vars['_3225c3'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5eea38'];$_f0094b_local_vars=$_f0094b_old_vars['_5eea38'];?>

  <!-- The global progress bar -->
  <?php $_f0094b_old_params['_a2da92']=$_f0094b_local_params;$_f0094b_old_vars['_a2da92']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <div id="progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="progress">
    <div class="progress-bar progress-bar-success"></div>
  </div>
  <!-- The container for the uploaded files -->
  <div id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="files"></div>
  <div class="alt-text <?php $_f0094b_old_params['_191dc7']=$_f0094b_local_params;$_f0094b_old_vars['_191dc7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'value','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_c393bb']=$_f0094b_local_params;$_f0094b_old_vars['_c393bb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c393bb'];$_f0094b_local_vars=$_f0094b_old_vars['_c393bb'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_191dc7'];$_f0094b_local_vars=$_f0094b_old_vars['_191dc7'];?>
" id="file-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label">
    <?php $c_d6488d=null;$_f0094b_old_params['_d6488d']=$_f0094b_local_params;$_f0094b_old_vars['_d6488d']=$_f0094b_local_vars;$a_d6488d=$this->setup_args(['name'=>'request_label','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label<?php $c_d6488d=ob_get_clean();$c_d6488d=$this->block_setvarblock($a_d6488d,$c_d6488d,$this,$r_d6488d,1,'_d6488d');echo($c_d6488d); $_f0094b_local_params=$_f0094b_old_params['_d6488d'];?>

    <label id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label-label" for="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" class="sr-only"><?php $_f0094b_old_params['_495730']=$_f0094b_local_params;$_f0094b_old_vars['_495730']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_495730'];$_f0094b_local_vars=$_f0094b_old_vars['_495730'];?>
</label>
    <input id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" type="text" class="form-control form-control-sm"
           name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label" placeholder="<?php $_f0094b_old_params['_6028e3']=$_f0094b_local_params;$_f0094b_old_vars['_6028e3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'class','eq'=>'image','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6028e3'];$_f0094b_local_vars=$_f0094b_old_vars['_6028e3'];?>
"
           value="<?php $_f0094b_old_params['_bed4e3']=$_f0094b_local_params;$_f0094b_old_vars['_bed4e3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$request_label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['attachmentfile'=>'$__col_name__','name'=>'file','model'=>'attachmentfile','id'=>'$__col_value__','property'=>'label','escape'=>'','this_tag'=>'assetproperty'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bed4e3'];$_f0094b_local_vars=$_f0094b_old_vars['_bed4e3'];?>
">
  </div>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a2da92'];$_f0094b_local_vars=$_f0094b_old_vars['_a2da92'];?>

  <div class="input-group copy-url" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper">
    <input type="text" class="form-control form-control-sm clipboard-url" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
      value="<?php $_f0094b_old_params['_451315']=$_f0094b_local_params;$_f0094b_old_vars['_451315']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'asset_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=attachmentfile&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;view=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;_screen_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_c12bc9']=$_f0094b_local_params;$_f0094b_old_vars['_c12bc9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c12bc9'];$_f0094b_local_vars=$_f0094b_old_vars['_c12bc9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_451315'];$_f0094b_local_vars=$_f0094b_old_vars['_451315'];?>
">
    <button data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon copy-clipboard" data-clipboard-target="#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"><i class="fa fa-clipboard" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Copy to Clipboard','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
    <button id="view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-external-link" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>

    <input type="hidden" id="clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden" value="<?php $_f0094b_old_params['_6e22cf']=$_f0094b_local_params;$_f0094b_old_vars['_6e22cf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url_original','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'asset_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6e22cf'];$_f0094b_local_vars=$_f0094b_old_vars['_6e22cf'];?>
">

  <?php $_f0094b_old_params['_010847']=$_f0094b_local_params;$_f0094b_old_vars['_010847']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button id="view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-published" data-toggle="tooltip" data-placement="left" title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="input-group-addon"><i class="fa fa-globe" aria-hidden="true" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
"></i></button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_010847'];$_f0094b_local_vars=$_f0094b_old_vars['_010847'];?>



  </div>
</div>
<script>
var file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected;
var file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class = '<?php echo $this->function_var($this->setup_args(['name'=>'class','this_tag'=>'var'],null,$this),$this)?>
';
<?php $_f0094b_old_params['_31c119']=$_f0094b_local_params;$_f0094b_old_vars['_31c119']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected = true;
$('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper').show();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_31c119'];$_f0094b_local_vars=$_f0094b_old_vars['_31c119'];?>

$('body').on('click', function (e) {
    //did not click a popover toggle or popover
    $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover('hide');
});
var file_meta_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
var file_image_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_image_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
$('#view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    var viewlink = $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden').val();
    window.open( viewlink, '_blank');
});
$('#view-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-published').click(function(){
    var viewlink = $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val();
    window.open( viewlink, '_blank');
});
<?php $_f0094b_old_params['_640c88']=$_f0094b_local_params;$_f0094b_old_vars['_640c88']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'file_meta','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover({
    title: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
",
    content: "<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
",
    placement: "right",
    html: true
});
<?php else:?>

$('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
$('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').hide();
$('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
$('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
$('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
$('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').hide();
$('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label-label').hide();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_640c88'];$_f0094b_local_vars=$_f0094b_old_vars['_640c88'];?>

$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove').change(function(){
    if ( $(this).prop('checked') ) {
        if (! confirm( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to delete the file? Delete is reflected when saving this page.','this_tag'=>'trans'],null,$this),$this)?>
' ) ) {
            $(this).prop('checked',!$(this).prop('checked'));
            return;
        }
    }
    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').toggle();
    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label-label').toggle();
    $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').toggle();
    $('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    $('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    if ( file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class == 'image' ) {
        $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
        $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').toggle();
    }
});
var DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 = document.getElementById('drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
<?php $_f0094b_old_params['_8d4733']=$_f0094b_local_params;$_f0094b_old_vars['_8d4733']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','1px solid <?php $_f0094b_old_params['_09134e']=$_f0094b_local_params;$_f0094b_old_vars['_09134e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_09134e'];$_f0094b_local_vars=$_f0094b_old_vars['_09134e'];?>
');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('margin','1px');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('padding','8px');
<?php else:?>

DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
.addEventListener('dragover', function (event) {
    $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#ddf');
});
DropZone<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
.addEventListener('dragleave', function (event) {
    $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#fff');
});
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','3px dashed <?php $_f0094b_old_params['_fde462']=$_f0094b_local_params;$_f0094b_old_vars['_fde462']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fde462'];$_f0094b_local_vars=$_f0094b_old_vars['_fde462'];?>
');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('margin','1px');
$('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('padding','8px');
/*jslint unparam: true */
/*global window, $ */
$(function () {
    'use strict';
    var url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=upload&_model=attachmentfile&_screen_id=<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'js','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape')?>
&name=file&attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&permission=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&id=<?php echo $this->function_var($this->setup_args(['name'=>'object_id','this_tag'=>'var'],null,$this),$this)?>
';
    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').fileupload({
        url: url,
        dataType: 'json',
        dropZone: $("#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"),
        done: function (e, data) {
            if (!data.result.files) {
                var error = data.result.message;
                $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                    'width', 0
                );
                alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while uploading.','this_tag'=>'trans'],null,$this),$this)?>
"+' (' + error + ')');
                return;
            }
            file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_selected = true;
            $.each(data.result.files, function (index, file) {
                $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').html('');
                $('#download-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                $('#inline-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                $('#file-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').css('display', 'inline');
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-magic').val(file.magic);
                var file_name = escape_html( decodeURI(file.name) );
                var file_class = escape_html( file.class );
                $('<p/>').text(file_name).appendTo('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
                file_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_class = file_class;
                if (file_class == 'image') {
                    $('#edit-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('display', 'inline');
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').attr( 'placeholder', '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Alternative Text','this_tag'=>'trans'],null,$this),$this)?>
' );
                } else {
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').attr( 'placeholder', '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Label','this_tag'=>'trans'],null,$this),$this)?>
' );
                }
                if (! $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').val() ) {
                    $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').val( file_name );
                }
                $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label').show();
                $('#files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label-label').show();
                if (file_class == 'image' || file.extension == 'svg') {
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').prop('src','data:'+file.type+';base64,'+file.thumbnail);
                    
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-image-o');
                } else if (file.extension == 'zip' || file.extension == 'gz' || file.extension == 'tar') {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-archive-o');
                } else if (file_class == 'pdf') {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-pdf-o');
                } else {
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-pdf-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-image-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').removeClass('fa-file-archive-o');
                    $('#icon-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').addClass('fa-file-o');
                }
                if (file_class != 'image' && file.extension != 'svg') {
                    $('#image_preview-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').hide();
                }
                var file_size = file.size;
                if ( file_size >= 1048576 ) {
                    file_size = Math.round( ( file_size / 1048576 )*10 )/10 + 'MB';
                } else if ( file_size >= 1024 ) {
                    file_size = Math.round( ( file_size / 1024 )*10 )/10 + 'KB';
                } else {
                    file_size = file_size + 'Byte';
                }
                var prop_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_meta_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
                prop_tmpl = prop_tmpl.replace('file_name', file_name);
                prop_tmpl = prop_tmpl.replace('file_size', file_size);
                prop_tmpl = prop_tmpl.replace('mime_type', file.type);
                var image_tmpl = '<?php echo $this->modifier_strip_linefeeds($this->function_var($this->setup_args(['name'=>'file_image_tmpl','strip_linefeeds'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','strip_linefeeds',$this),$this,'strip_linefeeds')?>
';
                if (file_class == 'image') {
                    image_tmpl = image_tmpl.replace('image_width', file.width);
                    image_tmpl = image_tmpl.replace('image_height', file.height);
                    prop_tmpl = prop_tmpl + image_tmpl;
                }
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper').show();
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').val('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=attachmentfile&id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&view=file&_screen_id=<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'js','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape')?>
<?php $_f0094b_old_params['_fcb5b8']=$_f0094b_local_params;$_f0094b_old_vars['_fcb5b8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fcb5b8'];$_f0094b_local_vars=$_f0094b_old_vars['_fcb5b8'];?>
&attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
                $('#clipboard-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-hidden').val('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=attachmentfile&id=<?php echo $this->function_var($this->setup_args(['name'=>'__col_value__','this_tag'=>'var'],null,$this),$this)?>
&view=file&_screen_id=<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'js','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape')?>
<?php $_f0094b_old_params['_b600dd']=$_f0094b_local_params;$_f0094b_old_vars['_b600dd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b600dd'];$_f0094b_local_vars=$_f0094b_old_vars['_b600dd'];?>
&attachmentfile=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').show();
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover('dispose');
                $('#popover-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').popover({
                    title: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Properties','this_tag'=>'trans'],null,$this),$this)?>
",
                    content: prop_tmpl,
                    placement: "right",
                    html: true
                });
                if ( file.resized != true ) {
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
');
                } else {
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'It has been reduced as it exceeds the maximum size of the image. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
');
                }
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').show();
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').focus();
                $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                    'width', 0
                );
                $('#drop-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#fff');
                $('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-remove-wrapper').show();
                editContentChanged = true;
            });
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                'width',
                progress + '%'
            );
        }
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8d4733'];$_f0094b_local_vars=$_f0094b_old_vars['_8d4733'];?>

</script>
        <?php else:?>

              <div class="alert alert-success hidden" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert" role="alert" tabindex="0">
      <button onclick="$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').hide();" type="button" id="header-alert-close" class="close" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
">
        <span aria-hidden="true">&times;</span>
      </button>
      <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message"><?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </div>
  <div class="container-fluid" id="drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
    <span id="file-chooser-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-success fileinput-button">
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select File...','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <!-- The file input field used as target for the file upload widget -->
        <input id="fileupload-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="file" name="files[]" multiple
            onfocus="$('#file-chooser-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','2px solid green');"
            onblur="$('#file-chooser-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','none');">
    </span>
    <!-- The container for the uploaded files -->
    <div id="files-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="files"></div>
    <!-- The global progress bar -->
    <div id="progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="progress attachment-bar">
      <div class="progress-bar progress-bar-success"></div>
    </div>
<script src="assets/js/jquery.fileupload.js"></script>
<script>
var this_url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?<?php $_f0094b_old_params['_89e3a4']=$_f0094b_local_params;$_f0094b_old_vars['_89e3a4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&<?php endif;$_f0094b_local_params=$_f0094b_old_params['_89e3a4'];$_f0094b_local_vars=$_f0094b_old_vars['_89e3a4'];?>
<?php echo $this->modifier_regex_replace($this->function_var($this->setup_args(['name'=>'_query_string','regex_replace'=>'\'/&selected_ids=.*$/\',\'\'','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'/&selected_ids=.*$/\\\',\\\'\\\'','regex_replace',$this),$this,'regex_replace')?>
&sort=id&direction=desc';
var selected_ids = [];
var upload_count = 0;
var receive_count = 0;
var DropZone = document.getElementById('drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
');
DropZone.addEventListener('dragover', function (event) {
    $('#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#ddf');
});
DropZone.addEventListener('dragleave', function (event) {
    $('#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('background-color','#fff');
});
$('#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('border','3px dashed <?php $_f0094b_old_params['_e0a33a']=$_f0094b_local_params;$_f0094b_old_vars['_e0a33a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_control_border','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'user_control_border','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
#ccc<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e0a33a'];$_f0094b_local_vars=$_f0094b_old_vars['_e0a33a'];?>
');
$('#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('margin','1px');
$('#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').css('padding','8px');
$(function () {
    'use strict';
    var url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=upload_multi&magic_token=<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
&file_attachment=1&_screen_id=<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'js','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape')?>
&name=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&model=attachmentfile&name=file&permission=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
&id=<?php echo $this->function_var($this->setup_args(['name'=>'object_id','this_tag'=>'var'],null,$this),$this)?>
';
    $('#fileupload-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').fileupload({
        url: url,
        dataType: 'json',
        dropZone: $("#drop-zone-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"),
        add: function (e, data) {
            data.submit();
            upload_count++;
        },
        done: function (e, data) {
            if (!data.result.files) {
                var error = data.result.message;
                $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                    'width', 0
                );
                alert("<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while uploading.','this_tag'=>'trans'],null,$this),$this)?>
"+' (' + error + ')');
                upload_count--;
                if ( receive_count == upload_count ) {
                    setTimeout(finish_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
, 1000);
                }
                return;
            }
            $.each(data.result.files, function (index, file) {
                var file_name = escape_html( decodeURI(file.name) );
                var file_class = escape_html( file.class );
                var tmpl_li = $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-tmpl');
                var add_li = tmpl_li.clone( true ).appendTo('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-list' );
                add_li.removeClass('hidden');
                add_li.children('span').html(file_name);
                add_li.children('span').attr( 'id', '_attachmentfiles_name_session-' + file.session_id );
                add_li.children('span').attr( 'class', 'badge-short' );
                add_li.children('input').val( 'session-' + file.session_id );
                add_li.children('.foward-file-name').val( file_name );
                add_li.children('.foward-file-name').attr('name', '_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_foward_session-' + file.session_id );
                add_li.removeAttr('id');
                add_li.addClass( '<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child');
                add_li.children('.assets-child-thumb-attachment').css('background-image','url(\'data:'+file.type+';base64,'+file.thumbnail_square+ '\')');
                add_li.children('.assets-child-thumb-attachment').attr('data-image', file.thumbnail);
                add_li.children('.assets-child-thumb-attachment').attr('data-type', file.type);
                add_li.children('button').attr('data-session', file.session_id);
                add_li.children('.assets-child-thumb-attachment').show();
                var download_url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&_screen_id=<?php echo $this->modifier_escape($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'js','this_tag'=>'var'],null,$this),$this),$this->setup_args('js','escape',$this),$this,'escape')?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
';
                download_url += '&view=attachmentfiles&session_id=' + file.session_id;
                var fInfo = file_name.split('.');
                var fileExtension = fInfo[fInfo.length-1].toLowerCase();
                var extensionsInline = ['csv', 'xls', 'xlsx', 'doc', 'docx', 'ppt', 'pptx'];
                if (extensionsInline.indexOf(fileExtension) < 0){
                    add_li.children('a').children('.fa').removeClass('fa-download');
                    add_li.children('a').children('.fa').addClass('fa-external-link-square');
                    add_li.children('a').attr( 'target', '_blank' );
                    add_li.children('a').attr('aria-label', '<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
');
                } else {
                    download_url += '&download=1';
                }
                if ( file.resized == true ) {
                    alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'It has been reduced as it exceeds the maximum size of the image.','this_tag'=>'trans'],null,$this),$this)?>
( ' + file_name + ' )' );
                }
                add_li.children('a').attr('href', download_url);
                add_li.children('.new-file-label').val( file_name );
                add_li.children('.new-file-label').attr('id', '_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_session-' + file.session_id );
                add_li.children('.new-file-label').attr('name', '_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_session-' + file.session_id );
                var data_name = add_li.children('._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit').attr('data-name');
                data_name += 'session-' + file.session_id;
                add_li.children('._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit').attr('data-name', data_name);
                add_li.children('._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit').attr('data-label', file_name);
                add_li.show();
                receive_count++;
                if ( upload_count == receive_count ) {
                    setTimeout(finish_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
, 1000);
                }
                editContentChanged = true;
            });
        },
        progressall: function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
                'width',
                progress + '%'
            );
        }
    }).prop('disabled', !$.support.fileInput)
        .parent().addClass($.support.fileInput ? undefined : 'disabled');
});
function finish_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 () {
    if ( upload_count ) {
        $('#progress-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 .progress-bar').css(
            'width', 0
        );
        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert-message').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'The file has successfully uploaded. The uploaded file will not be reflected until you save this page.','this_tag'=>'trans'],null,$this),$this)?>
');
        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').show();
        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-alert').focus();
    }
}
;(function(){
    var event_type = 'mouseenter mousemove mouseleave';
    if(/Android/.test(navigator.userAgent) || /(iPhone)|(iPad)|(iPod)/.test(navigator.userAgent)){
        event_type = 'touchstart touchmove touchend';
    }
    $(document).on(event_type,'.assets-child-thumb-attachment',function(e){
        var $preview = $('#asset-preview-popup');
        var $this = $(this);
        var dataModel = $(this).attr('data-model');
        var type = e.type;
        var e_orig = e;
        if(e.originalEvent.touches){
            e_orig = e.originalEvent.touches[0];
        }
        if($this.closest('.ui-sortable-helper').length){
            $preview.hide();
            return;
        }
        var set_position = function($preview,e_orig){
            var size   = 200;
            var offset = 10;
            var pos_x = e_orig.clientX + offset;
            var pos_y = e_orig.clientY + offset;
            if((pos_x + size) > $(window).width()){
                pos_x = e_orig.clientX - (size + offset);
            }
            if((pos_y + size) > $(window).height()){
                pos_y = e_orig.clientY - (size + offset);
            }
            $preview.css({
                left : pos_x + 'px',
                top  : pos_y + 'px'
            });
        }
        if(type == 'mouseenter' || type == 'touchstart'){
            var thumb = 'data:'+$this.attr('data-type')+';base64,'+$this.attr('data-image');
            if(!$preview.length){
                $preview = $('<div>').attr('id','asset-preview-popup').appendTo('body');
            }
            $preview.css('background-image','url(' + thumb + ')');
            $preview.show();
            $this.css({
                '-moz-user-select': 'none',  
                '-webkit-user-select': 'none', 
                '-ms-user-select': 'none',
                'user-select': 'none'
            });
            set_position($preview,e_orig);
        }else
        if(type == 'mouseleave' || type == 'touchend'){
            $preview.hide();
        }else
        if(type == 'mousemove' || type == 'touchmove'){
            set_position($preview,e_orig);
        }
    });
})();
</script>
    <?php $_f0094b_old_params['_3df474']=$_f0094b_local_params;$_f0094b_old_vars['_3df474']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','like'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'edit','split'=>':','setvar'=>'edit_props','this_tag'=>'var'],null,$this),$this),$this->setup_args(':','split',$this),$this,'split'),$this->setup_args('edit_props','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[1]','setvar'=>'rel_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_model','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[2]','setvar'=>'rel_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_col','setvar',$this),$this,'setvar')?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[3]','setvar'=>'rel_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_type','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_d21b1d']=$_f0094b_local_params;$_f0094b_old_vars['_d21b1d']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifhasthumbnail($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifhasthumbnail'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d21b1d'];$_f0094b_local_vars=$_f0094b_old_vars['_d21b1d'];?>

      <?php $c_812833=null;$_f0094b_old_params['_812833']=$_f0094b_local_params;$_f0094b_old_vars['_812833']=$_f0094b_local_vars;$a_812833=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_812833=ob_get_clean();$c_812833=$this->block_setvarblock($a_812833,$c_812833,$this,$r_812833,1,'_812833');echo($c_812833); $_f0094b_local_params=$_f0094b_old_params['_812833'];?>

      <ul id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-list" class="relation-list">
        <li style="margin-right: 4px" class="hidden badge badge-default badge-relation badge-draggable" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-tmpl">
        <div class="assets-child-thumb-attachment" data-image="" data-type=""></div>
        <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Default','this_tag'=>'trans'],null,$this),$this)?>
</span>
        <a href="" class="btn btn-secondary btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-download"></i>
        </a>
        <input class="new-file-label" type="hidden" value="" name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_">
        <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
            data-name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_"
            data-label="">
          <i class="fa fa-pencil"></i>
        </button>
        <button type="button" class="btn btn-secondary btn-sm close-sm detach-file detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" data-session="">
          <span aria-hidden="true">&times;</span>
        </button>
        <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="">
        <input type="hidden" name="" value="" class="foward-file-name">
        </li>
      <?php $c_6bb9af=null;$_f0094b_old_params['_6bb9af']=$_f0094b_local_params;$_f0094b_old_vars['_6bb9af']=$_f0094b_local_vars;$a_6bb9af=$this->setup_args(['name'=>'selected_ids','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php $c_f4065b=null;$_f0094b_old_params['_f4065b']=$_f0094b_local_params;$_f0094b_old_vars['_f4065b']=$_f0094b_local_vars;$a_f4065b=$this->setup_args(['name'=>'$__rel_name__','glue'=>',','this_tag'=>'loop'],null,$this);$_f4065b=-1;$r_f4065b=true;while($r_f4065b===true):$r_f4065b=($_f4065b!==-1)?false:true;echo $this->block_loop($a_f4065b,$c_f4065b,$this,$r_f4065b,++$_f4065b,'_f4065b');ob_start();?>
<?php $c_f4065b = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f4065b=false;}if($c_f4065b ):?>
<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_f4065b=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f4065b'];$_f0094b_local_vars=$_f0094b_old_vars['_f4065b'];?>
<?php $c_6bb9af=ob_get_clean();$c_6bb9af=$this->block_setvarblock($a_6bb9af,$c_6bb9af,$this,$r_6bb9af,1,'_6bb9af');echo($c_6bb9af); $_f0094b_local_params=$_f0094b_old_params['_6bb9af'];?>

      <?php $c_f7c4e9=null;$_f0094b_old_params['_f7c4e9']=$_f0094b_local_params;$_f0094b_old_vars['_f7c4e9']=$_f0094b_local_vars;$a_f7c4e9=$this->setup_args(['name'=>'$__rel_name__','this_tag'=>'loop'],null,$this);$_f7c4e9=-1;$r_f7c4e9=true;while($r_f7c4e9===true):$r_f7c4e9=($_f7c4e9!==-1)?false:true;echo $this->block_loop($a_f7c4e9,$c_f7c4e9,$this,$r_f7c4e9,++$_f7c4e9,'_f7c4e9');ob_start();?>
<?php $c_f7c4e9 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f7c4e9=false;}if($c_f7c4e9 ):?>

        <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-default badge-relation badge-draggable">
        <?php $_f0094b_old_params['_1fdf42']=$_f0094b_local_params;$_f0094b_old_vars['_1fdf42']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <div class="assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" style="background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&amp;square=1&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
')"></div>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1fdf42'];$_f0094b_local_vars=$_f0094b_old_vars['_1fdf42'];?>

        <span>
          <?php echo $this->modifier_setvar($this->modifier_mb_instr($this->function_var($this->setup_args(['name'=>'__value__','mb_instr'=>'session-','setvar'=>'instr_session','this_tag'=>'var'],null,$this),$this),$this->setup_args('session-','mb_instr',$this),$this,'mb_instr'),$this->setup_args('instr_session','setvar',$this),$this,'setvar')?>

          <?php $_f0094b_old_params['_2051e5']=$_f0094b_local_params;$_f0094b_old_vars['_2051e5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'instr_session','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $c_b08955=null;$_f0094b_old_params['_b08955']=$_f0094b_local_params;$_f0094b_old_vars['_b08955']=$_f0094b_local_vars;$a_b08955=$this->setup_args(['name'=>'foward_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_foward_<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_b08955=ob_get_clean();$c_b08955=$this->block_setvarblock($a_b08955,$c_b08955,$this,$r_b08955,1,'_b08955');echo($c_b08955); $_f0094b_local_params=$_f0094b_old_params['_b08955'];?>

            <?php $_f0094b_old_params['_1d6aa8']=$_f0094b_local_params;$_f0094b_old_vars['_1d6aa8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $c_7fcf21=null;$_f0094b_old_params['_7fcf21']=$_f0094b_local_params;$_f0094b_old_vars['_7fcf21']=$_f0094b_local_vars;$a_7fcf21=$this->setup_args(['name'=>'foward_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request._attachmentfiles_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_7fcf21=ob_get_clean();$c_7fcf21=$this->block_setvarblock($a_7fcf21,$c_7fcf21,$this,$r_7fcf21,1,'_7fcf21');echo($c_7fcf21); $_f0094b_local_params=$_f0094b_old_params['_7fcf21'];?>

            <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$foward_name','escape'=>'','setvar'=>'_related_object','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('_related_object','setvar',$this),$this,'setvar')?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1d6aa8'];$_f0094b_local_vars=$_f0094b_old_vars['_1d6aa8'];?>

            <?php $_f0094b_old_params['_864370']=$_f0094b_local_params;$_f0094b_old_vars['_864370']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<span id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_name_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php endif;$_f0094b_local_params=$_f0094b_old_params['_864370'];$_f0094b_local_vars=$_f0094b_old_vars['_864370'];?>

            <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$foward_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

            <?php $_f0094b_old_params['_51338e']=$_f0094b_local_params;$_f0094b_old_vars['_51338e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</span><?php endif;$_f0094b_local_params=$_f0094b_old_params['_51338e'];$_f0094b_local_vars=$_f0094b_old_vars['_51338e'];?>

          <?php else:?>

          <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__value__','type'=>'$edit','escape'=>'','setvar'=>'_related_object','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES),$this->setup_args('_related_object','setvar',$this),$this,'setvar')?>

          <span id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_name_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo $this->function_var($this->setup_args(['name'=>'_related_object','this_tag'=>'var'],null,$this),$this)?>
</span>
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2051e5'];$_f0094b_local_vars=$_f0094b_old_vars['_2051e5'];?>

        
        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'attachmentfile','id'=>'$__value__','property'=>'class','setvar'=>'_attachfile_class','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_attachfile_class','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'attachmentfile','id'=>'$__value__','property'=>'url','setvar'=>'_attachfile_url','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_attachfile_url','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetproperty($this->setup_args(['name'=>'file','model'=>'attachmentfile','id'=>'$__value__','property'=>'extension','setvar'=>'_attachfile_extension','this_tag'=>'assetproperty'],null,$this),$this),$this->setup_args('_attachfile_extension','setvar',$this),$this,'setvar')?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'__show_external','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

        <?php $_f0094b_old_params['_e087b2']=$_f0094b_local_params;$_f0094b_old_vars['_e087b2']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'extensions_inline','value'=>'$_attachfile_extension','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'__show_external','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e087b2'];$_f0094b_local_vars=$_f0094b_old_vars['_e087b2'];?>

        <?php $_f0094b_old_params['_0cf420']=$_f0094b_local_params;$_f0094b_old_vars['_0cf420']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_attachfile_url','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

          <?php $c_2854f1=null;$_f0094b_old_params['_2854f1']=$_f0094b_local_params;$_f0094b_old_vars['_2854f1']=$_f0094b_local_vars;$a_2854f1=$this->setup_args(['name'=>'_attachfile_url','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=edit&_model=attachmentfile&id=<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
&view=file&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php $c_2854f1=ob_get_clean();$c_2854f1=$this->block_setvarblock($a_2854f1,$c_2854f1,$this,$r_2854f1,1,'_2854f1');echo($c_2854f1); $_f0094b_local_params=$_f0094b_old_params['_2854f1'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0cf420'];$_f0094b_local_vars=$_f0094b_old_vars['_0cf420'];?>

        </span>
        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'_attachfile_url','setvar'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('__attachfile_url','setvar',$this),$this,'setvar')?>

        <?php $_f0094b_old_params['_bf82d9']=$_f0094b_local_params;$_f0094b_old_vars['_bf82d9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php $_f0094b_old_params['_f890a4']=$_f0094b_local_params;$_f0094b_old_vars['_f890a4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'__attachfile_url','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('__attachfile_url','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f890a4'];$_f0094b_local_vars=$_f0094b_old_vars['_f890a4'];?>

        <?php else:?>

          <?php $_f0094b_old_params['_4840e5']=$_f0094b_local_params;$_f0094b_old_vars['_4840e5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'__attachfile_url','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('__attachfile_url','setvar',$this),$this,'setvar')?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4840e5'];$_f0094b_local_vars=$_f0094b_old_vars['_4840e5'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf82d9'];$_f0094b_local_vars=$_f0094b_old_vars['_bf82d9'];?>

        <?php $_f0094b_old_params['_7b3f24']=$_f0094b_local_params;$_f0094b_old_vars['_7b3f24']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__show_external','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a target="_blank" href="<?php $_f0094b_old_params['_dc2c91']=$_f0094b_local_params;$_f0094b_old_vars['_dc2c91']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'_attachfile_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_dc2c91'];$_f0094b_local_vars=$_f0094b_old_vars['_dc2c91'];?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-external-link-square"></i>
        </a>
        <?php else:?>

        <a href="<?php $_f0094b_old_params['_c05fc2']=$_f0094b_local_params;$_f0094b_old_vars['_c05fc2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'_attachfile_url','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
<?php echo $this->function_var($this->setup_args(['name'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c05fc2'];$_f0094b_local_vars=$_f0094b_old_vars['_c05fc2'];?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Download','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-download"></i>
        </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7b3f24'];$_f0094b_local_vars=$_f0094b_old_vars['_7b3f24'];?>

        <?php $_f0094b_old_params['_6bd7e4']=$_f0094b_local_params;$_f0094b_old_vars['_6bd7e4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <a target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'__attachfile_url','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
          <i class="fa fa-globe"></i>
        </a>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6bd7e4'];$_f0094b_local_vars=$_f0094b_old_vars['_6bd7e4'];?>

        <input type="hidden" value="<?php $_f0094b_old_params['_5ea6de']=$_f0094b_local_params;$_f0094b_old_vars['_5ea6de']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$foward_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5ea6de'];$_f0094b_local_vars=$_f0094b_old_vars['_5ea6de'];?>
" name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
        <?php $_f0094b_old_params['_360395']=$_f0094b_local_params;$_f0094b_old_vars['_360395']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'$this_model','id'=>'$__value__','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

        <button type="button" class="btn <?php $_f0094b_old_params['_9aa218']=$_f0094b_local_params;$_f0094b_old_vars['_9aa218']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'error','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn-secondary<?php else:?>
btn-secondary<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9aa218'];$_f0094b_local_vars=$_f0094b_old_vars['_9aa218'];?>
 btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
            <?php $_f0094b_old_params['_f96a95']=$_f0094b_local_params;$_f0094b_old_vars['_f96a95']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

            data-toggle="modal" data-target="#modal"
            data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_4f91f9']=$_f0094b_local_params;$_f0094b_old_vars['_4f91f9']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_195d2c']=$_f0094b_local_params;$_f0094b_old_vars['_195d2c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_195d2c'];$_f0094b_local_vars=$_f0094b_old_vars['_195d2c'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4f91f9'];$_f0094b_local_vars=$_f0094b_old_vars['_4f91f9'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1"
            <?php else:?>

            data-name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
"
            data-label="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$foward_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f96a95'];$_f0094b_local_vars=$_f0094b_old_vars['_f96a95'];?>
>
          <i class="fa fa-pencil"></i>
        </button>
        <?php else:?>

        <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
" data-name="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_label_<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"
          data-label="<?php echo $this->function_var($this->setup_args(['name'=>'_related_object','this_tag'=>'var'],null,$this),$this)?>
">
          <i class="fa fa-pencil"></i>
        </button>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_360395'];$_f0094b_local_vars=$_f0094b_old_vars['_360395'];?>

        <button type="button" class="btn btn-secondary btn-sm close-sm detach-file detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
          <span aria-hidden="true">&times;</span>
        </button>
        <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></li>
      <?php endif;$c_f7c4e9=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f7c4e9'];$_f0094b_local_vars=$_f0094b_old_vars['_f7c4e9'];?>

      </ul>
    <?php else:?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3df474'];$_f0094b_local_vars=$_f0094b_old_vars['_3df474'];?>

    </div>
<script>
$('._<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit').click(function(){
    var field_name = $(this).attr('data-name');
    var span_name = field_name.replace( '_label_','_name_' );
    var field_label = $(this).attr('data-label');
    field_label = unescape_html( field_label );
    var new_label = prompt('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Please specify label(text alternative) for the file.','this_tag'=>'trans'],null,$this),$this)?>
', field_label);
    if ( new_label ) {
        new_label = escape_html( new_label );
        $('#' + field_name).val( new_label );
        $(this).attr('data-label', new_label);
        $('#' + span_name).html( '<span>' + new_label + '</span>' );
        editContentChanged = true;
    } else {
        if ( new_label != null ) {
            alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'The label can not be empty.','this_tag'=>'trans'],null,$this),$this)?>
' );
        }
    }
});
$('.attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').click(function(){
    $(window).off('beforeunload');
    setTimeout(after_download_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
, 1000);
});
function after_download_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
 () {
    $(window).on('beforeunload', function() {
        if (! editContentChanged ) {
            $(window).off('beforeunload');
            return;
        }
        return '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to move from this page? The changes you made are not reflected.','this_tag'=>'trans'],null,$this),$this)?>
';
    });
}
$('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-list').sortable ( {
// TODO keyboard oparation
    stop: function( evt, ui ) {
        editContentChanged = true;
    }
});
$("#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-list").ksortable();
</script>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a59594'];$_f0094b_local_vars=$_f0094b_old_vars['_a59594'];?>

      <?php else:?>

        <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'edit','split'=>':','setvar'=>'edit_props','this_tag'=>'var'],null,$this),$this),$this->setup_args(':','split',$this),$this,'split'),$this->setup_args('edit_props','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[1]','setvar'=>'rel_model','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_model','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[2]','setvar'=>'rel_col','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_col','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'edit_props[3]','setvar'=>'rel_type','this_tag'=>'var'],null,$this),$this),$this->setup_args('rel_type','setvar',$this),$this,'setvar')?>

        <?php $c_9606cd=null;$_f0094b_old_params['_9606cd']=$_f0094b_local_params;$_f0094b_old_vars['_9606cd']=$_f0094b_local_vars;$a_9606cd=$this->setup_args(['name'=>'rel_cols','this_tag'=>'setvarblock'],null,$this);ob_start();?>
id,<?php echo $this->function_var($this->setup_args(['name'=>'rel_col','this_tag'=>'var'],null,$this),$this)?>
<?php $c_9606cd=ob_get_clean();$c_9606cd=$this->block_setvarblock($a_9606cd,$c_9606cd,$this,$r_9606cd,1,'_9606cd');echo($c_9606cd); $_f0094b_local_params=$_f0094b_old_params['_9606cd'];?>

        <?php $c_504a7e=null;$_f0094b_old_params['_504a7e']=$_f0094b_local_params;$_f0094b_old_vars['_504a7e']=$_f0094b_local_vars;$a_504a7e=$this->setup_args(['name'=>'prop_sort_by','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_sort_by<?php $c_504a7e=ob_get_clean();$c_504a7e=$this->block_setvarblock($a_504a7e,$c_504a7e,$this,$r_504a7e,1,'_504a7e');echo($c_504a7e); $_f0094b_local_params=$_f0094b_old_params['_504a7e'];?>

        <?php $c_74c440=null;$_f0094b_old_params['_74c440']=$_f0094b_local_params;$_f0094b_old_vars['_74c440']=$_f0094b_local_vars;$a_74c440=$this->setup_args(['name'=>'prop_sort_order','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_sort_order<?php $c_74c440=ob_get_clean();$c_74c440=$this->block_setvarblock($a_74c440,$c_74c440,$this,$r_74c440,1,'_74c440');echo($c_74c440); $_f0094b_local_params=$_f0094b_old_params['_74c440'];?>

        <?php $_f0094b_old_params['_a08242']=$_f0094b_local_params;$_f0094b_old_vars['_a08242']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'$prop_sort_by','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'$prop_sort_by','setvar'=>'relation_sort_by','this_tag'=>'property'],null,$this),$this),$this->setup_args('relation_sort_by','setvar',$this),$this,'setvar')?>

        <?php else:?>

          <?php $_f0094b_old_params['_7e7071']=$_f0094b_local_params;$_f0094b_old_vars['_7e7071']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['column'=>'order','model'=>'$rel_model','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'relation_sort_by','value'=>'order','this_tag'=>'setvar'],null,$this),$this)?>

          <?php else:?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'relation_sort_by','value'=>'id','this_tag'=>'setvar'],null,$this),$this)?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7e7071'];$_f0094b_local_vars=$_f0094b_old_vars['_7e7071'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a08242'];$_f0094b_local_vars=$_f0094b_old_vars['_a08242'];?>

        <?php $_f0094b_old_params['_b09f71']=$_f0094b_local_params;$_f0094b_old_vars['_b09f71']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['tag'=>'property','name'=>'$prop_sort_order','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'$prop_sort_order','setvar'=>'relation_sort_order','this_tag'=>'property'],null,$this),$this),$this->setup_args('relation_sort_order','setvar',$this),$this,'setvar')?>

        <?php else:?>

          <?php echo $this->function_setvar($this->setup_args(['name'=>'relation_sort_order','value'=>'ascend','this_tag'=>'setvar'],null,$this),$this)?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b09f71'];$_f0094b_local_vars=$_f0094b_old_vars['_b09f71'];?>

          <?php $_f0094b_old_params['_5c361f']=$_f0094b_local_params;$_f0094b_old_vars['_5c361f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'rel_type','eq'=>'radio','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $c_9fde1a=null;$_f0094b_old_params['_9fde1a']=$_f0094b_local_params;$_f0094b_old_vars['_9fde1a']=$_f0094b_local_vars;$a_9fde1a=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_9fde1a=ob_get_clean();$c_9fde1a=$this->block_setvarblock($a_9fde1a,$c_9fde1a,$this,$r_9fde1a,1,'_9fde1a');echo($c_9fde1a); $_f0094b_local_params=$_f0094b_old_params['_9fde1a'];?>

            <?php $_f0094b_old_params['_b396f3']=$_f0094b_local_params;$_f0094b_old_vars['_b396f3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $c_b8afb0=null;$_f0094b_old_params['_b8afb0']=$_f0094b_local_params;$_f0094b_old_vars['_b8afb0']=$_f0094b_local_vars;$a_b8afb0=$this->setup_args(['name'=>'__forward_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
forward_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_b8afb0=ob_get_clean();$c_b8afb0=$this->block_setvarblock($a_b8afb0,$c_b8afb0,$this,$r_b8afb0,1,'_b8afb0');echo($c_b8afb0); $_f0094b_local_params=$_f0094b_old_params['_b8afb0'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b396f3'];$_f0094b_local_vars=$_f0094b_old_vars['_b396f3'];?>

            <?php $c_ded05d=null;$_f0094b_old_params['_ded05d']=$_f0094b_local_params;$_f0094b_old_vars['_ded05d']=$_f0094b_local_vars;$a_ded05d=$this->setup_args(['cols'=>'$rel_cols','model'=>'$rel_model','sort_by'=>'$relation_sort_by','sort_order'=>'$relation_sort_order','include_draft'=>'1','workspace_id'=>'$workspace_id','this_tag'=>'objectloop'],null,$this);$_ded05d=-1;$r_ded05d=true;while($r_ded05d===true):$r_ded05d=($_ded05d!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_ded05d,$c_ded05d,$this,$r_ded05d,++$_ded05d,'_ded05d');ob_start();?>
<?php $c_ded05d = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_ded05d=false;}if($c_ded05d ):?>

            <?php $_f0094b_old_params['_705ecf']=$_f0094b_local_params;$_f0094b_old_vars['_705ecf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $_f0094b_old_params['_b96c75']=$_f0094b_local_params;$_f0094b_old_vars['_b96c75']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'not_null','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

            <label class="custom-control custom-radio">
              <?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

              <input class="custom-control-input" type="radio"
                <?php $_f0094b_old_params['_780afb']=$_f0094b_local_params;$_f0094b_old_vars['_780afb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_780afb'];$_f0094b_local_vars=$_f0094b_old_vars['_780afb'];?>

                <?php $_f0094b_old_params['_20d201']=$_f0094b_local_params;$_f0094b_old_vars['_20d201']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_c31487']=$_f0094b_local_params;$_f0094b_old_vars['_c31487']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c31487'];$_f0094b_local_vars=$_f0094b_old_vars['_c31487'];?>
<?php else:?>

                  <?php echo $this->modifier_setvar($this->function_count($this->setup_args(['name'=>'$__rel_name__','setvar'=>'__obj_count','this_tag'=>'count'],null,$this),$this),$this->setup_args('__obj_count','setvar',$this),$this,'setvar')?>

                  <?php $_f0094b_old_params['_f57aa7']=$_f0094b_local_params;$_f0094b_old_vars['_f57aa7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__obj_count','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f57aa7'];$_f0094b_local_vars=$_f0094b_old_vars['_f57aa7'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_20d201'];$_f0094b_local_vars=$_f0094b_old_vars['_20d201'];?>

                <?php $_f0094b_old_params['_27d4cf']=$_f0094b_local_params;$_f0094b_old_vars['_27d4cf']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_this_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_f78931']=$_f0094b_local_params;$_f0094b_old_vars['_f78931']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f78931'];$_f0094b_local_vars=$_f0094b_old_vars['_f78931'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_27d4cf'];$_f0094b_local_vars=$_f0094b_old_vars['_27d4cf'];?>

                name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="">
              <span class="custom-control-indicator"></span>
              <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>
</span>
            </label>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b96c75'];$_f0094b_local_vars=$_f0094b_old_vars['_b96c75'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_705ecf'];$_f0094b_local_vars=$_f0094b_old_vars['_705ecf'];?>

            <label class="custom-control custom-radio">
              <?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

              <input class="custom-control-input watch-changed" type="radio"
                <?php $_f0094b_old_params['_31043e']=$_f0094b_local_params;$_f0094b_old_vars['_31043e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_e1e255']=$_f0094b_local_params;$_f0094b_old_vars['_e1e255']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_e84b30']=$_f0094b_local_params;$_f0094b_old_vars['_e84b30']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e84b30'];$_f0094b_local_vars=$_f0094b_old_vars['_e84b30'];?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e1e255'];$_f0094b_local_vars=$_f0094b_old_vars['_e1e255'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_31043e'];$_f0094b_local_vars=$_f0094b_old_vars['_31043e'];?>

                <?php $_f0094b_old_params['_725fc9']=$_f0094b_local_params;$_f0094b_old_vars['_725fc9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_725fc9'];$_f0094b_local_vars=$_f0094b_old_vars['_725fc9'];?>

                <?php $_f0094b_old_params['_47a696']=$_f0094b_local_params;$_f0094b_old_vars['_47a696']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_80c1e1']=$_f0094b_local_params;$_f0094b_old_vars['_80c1e1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','eq'=>'$id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_80c1e1'];$_f0094b_local_vars=$_f0094b_old_vars['_80c1e1'];?>

                  <?php else:?>
<?php $_f0094b_old_params['_d85df7']=$_f0094b_local_params;$_f0094b_old_vars['_d85df7']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'$__rel_name__','value'=>'$id','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'_this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d85df7'];$_f0094b_local_vars=$_f0094b_old_vars['_d85df7'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_47a696'];$_f0094b_local_vars=$_f0094b_old_vars['_47a696'];?>

                  <?php $_f0094b_old_params['_0575fc']=$_f0094b_local_params;$_f0094b_old_vars['_0575fc']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_this_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_096911']=$_f0094b_local_params;$_f0094b_old_vars['_096911']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_096911'];$_f0094b_local_vars=$_f0094b_old_vars['_096911'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0575fc'];$_f0094b_local_vars=$_f0094b_old_vars['_0575fc'];?>

                  name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
"
                  <?php $_f0094b_old_params['_9e6b5e']=$_f0094b_local_params;$_f0094b_old_vars['_9e6b5e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_32fe8f']=$_f0094b_local_params;$_f0094b_old_vars['_32fe8f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$__forward_name__','eq'=>'$id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php endif;$_f0094b_local_params=$_f0094b_old_params['_32fe8f'];$_f0094b_local_vars=$_f0094b_old_vars['_32fe8f'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9e6b5e'];$_f0094b_local_vars=$_f0094b_old_vars['_9e6b5e'];?>
>
              <span class="custom-control-indicator"></span>
              <span class="custom-control-description"><?php $_f0094b_old_params['_54cd27']=$_f0094b_local_params;$_f0094b_old_vars['_54cd27']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$rel_col','eq'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_trans($this->setup_args(['phrase'=>'null','this_tag'=>'trans'],null,$this),$this)?>
(id:<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
)<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_54cd27'];$_f0094b_local_vars=$_f0094b_old_vars['_54cd27'];?>
</span>
            </label>
            <?php endif;$c_ded05d=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_ded05d'];$_f0094b_local_vars=$_f0094b_old_vars['_ded05d'];?>

          <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'rel_type','eq'=>'hierarchy','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

            <?php $c_d9d089=null;$_f0094b_old_params['_d9d089']=$_f0094b_local_params;$_f0094b_old_vars['_d9d089']=$_f0094b_local_vars;$a_d9d089=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_d9d089=ob_get_clean();$c_d9d089=$this->block_setvarblock($a_d9d089,$c_d9d089,$this,$r_d9d089,1,'_d9d089');echo($c_d9d089); $_f0094b_local_params=$_f0094b_old_params['_d9d089'];?>

            <?php $_f0094b_old_params['_3b8aeb']=$_f0094b_local_params;$_f0094b_old_vars['_3b8aeb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $c_764ffc=null;ob_start();$_f0094b_old_params['_764ffc']=$_f0094b_local_params;$_f0094b_old_vars['_764ffc']=$_f0094b_local_vars;$a_764ffc=$this->setup_args(['setvartemplate'=>'nestable_obj_list','index'=>'0','name'=>'nestable_obj_list','this_tag'=>'literal'],null,$this);$_764ffc=-1;$r_764ffc=true;while($r_764ffc===true):$r_764ffc=($_764ffc!==-1)?false:true;echo $this->block_literal($a_764ffc,$c_764ffc,$this,$r_764ffc,++$_764ffc,'_764ffc');ob_start();?>
<?php $c_764ffc = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_764ffc=false;}if($c_764ffc ):?>
<?php endif;$c_764ffc=ob_get_clean();endwhile;$c_764ffc=ob_get_clean();echo($this->modifier_setvartemplate($c_764ffc,$this->setup_args('nestable_obj_list','setvartemplate',$this),$this,'setvartemplate')); $_f0094b_local_params=$_f0094b_old_params['_764ffc'];$_f0094b_local_vars=$_f0094b_old_vars['_764ffc'];?>

            <?php else:?>

              <?php $c_35d124=null;ob_start();$_f0094b_old_params['_35d124']=$_f0094b_local_params;$_f0094b_old_vars['_35d124']=$_f0094b_local_vars;$a_35d124=$this->setup_args(['setvartemplate'=>'nestable_obj_list','index'=>'1','name'=>'nestable_obj_list','this_tag'=>'literal'],null,$this);$_35d124=-1;$r_35d124=true;while($r_35d124===true):$r_35d124=($_35d124!==-1)?false:true;echo $this->block_literal($a_35d124,$c_35d124,$this,$r_35d124,++$_35d124,'_35d124');ob_start();?>
<?php $c_35d124 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_35d124=false;}if($c_35d124 ):?>
<?php endif;$c_35d124=ob_get_clean();endwhile;$c_35d124=ob_get_clean();echo($this->modifier_setvartemplate($c_35d124,$this->setup_args('nestable_obj_list','setvartemplate',$this),$this,'setvartemplate')); $_f0094b_local_params=$_f0094b_old_params['_35d124'];$_f0094b_local_vars=$_f0094b_old_vars['_35d124'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3b8aeb'];$_f0094b_local_vars=$_f0094b_old_vars['_3b8aeb'];?>

            <div class="relation_nestable_list">
              <?php echo $this->function_setvar($this->setup_args(['name'=>'_parent_id','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

              <div id="nestable_list-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
              <?php echo $this->function_var($this->setup_args(['name'=>'nestable_obj_list','this_tag'=>'var'],null,$this),$this)?>

              </div>
              <?php $_f0094b_old_params['_f4050e']=$_f0094b_local_params;$_f0094b_old_vars['_f4050e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <input type="hidden" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'relation_primary_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id">
                <?php $_f0094b_old_params['_0bc4af']=$_f0094b_local_params;$_f0094b_old_vars['_0bc4af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'rel_type','eq'=>'hierarchy','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <script>
                var orig_selected_id;
                var selected_id = '<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'relation_primary_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
                $(document).on('click','.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_chooser',function(){
                    orig_selected_id = $(this).attr('id');
                    selected_id = orig_selected_id.replace( '<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_', '' );
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id').val( selected_id );
                    $('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_chooser').each(function(){
                        if ( $(this).prop('id') == orig_selected_id ) {
                            $(this).children('i').css('color', '#00a');
                            $(this).children('i').css('font-size', '100%');
                            $(this).children('i').prop('class', 'fa fa-star');
                            $(this).children('i').css('margin-right', '0px');
                            $(this).children('span').css('color', '#000');
                            $(this).children('span').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Specified','this_tag'=>'trans'],null,$this),$this)?>
');
                        } else {
                            $(this).children('i').css('color', '#777');
                            $(this).children('i').css('font-size', '70%');
                            $(this).children('i').css('margin-right', '4px');
                            $(this).children('i').prop('class', 'fa fa-check');
                            $(this).children('span').css('color', '#777');
                            $(this).children('span').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>
');
                        }
                    });
                    $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_cb_' + selected_id ).prop('checked', true );
                    return false;
                });
                $(document).on('change','input[name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]"]',function(){
                    if ( $(this).prop('checked') == false ) {
                        if ( selected_id == $(this).val() ) {
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('color', '#777');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('font-size', '70%');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').prop('class', 'fa fa-check');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('margin-right', '4px');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('span').css('color', '#777');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('span').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>
');
                            $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id').val('');
                            selected_id = null;
                            $('.<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_chooser').each(function(){
                                var cBox_id = $(this).attr('id');
                                cBox_id = cBox_id.replace( '<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_', '' );
                                if ( $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_cb_' + cBox_id).prop('checked') ) {
                                    if (! selected_id ) {
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id').val(cBox_id);
                                        selected_id = cBox_id;
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('i').css('color', '#00a');
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('i').css('font-size', '100%');
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('i').prop('class', 'fa fa-star');
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('i').css('margin-right', '0px');
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('span').css('color', '#000');
                                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + cBox_id).children('span').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Specified','this_tag'=>'trans'],null,$this),$this)?>
');
                                    }
                                }
                            });
                        }
                    } else if (! selected_id ) {
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_primary_id').val($(this).val());
                        selected_id = $(this).val();
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('color', '#00a');
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('font-size', '100%');
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').prop('class', 'fa fa-star');
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('i').css('margin-right', '0px');
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('span').css('color', '#000');
                        $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_id_' + $(this).val()).children('span').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Specified','this_tag'=>'trans'],null,$this),$this)?>
');
                    }
                });
                </script>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0bc4af'];$_f0094b_local_vars=$_f0094b_old_vars['_0bc4af'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f4050e'];$_f0094b_local_vars=$_f0094b_old_vars['_f4050e'];?>

            </div>
          <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'rel_type','eq'=>'select','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

            <?php $c_80347e=null;$_f0094b_old_params['_80347e']=$_f0094b_local_params;$_f0094b_old_vars['_80347e']=$_f0094b_local_vars;$a_80347e=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_80347e=ob_get_clean();$c_80347e=$this->block_setvarblock($a_80347e,$c_80347e,$this,$r_80347e,1,'_80347e');echo($c_80347e); $_f0094b_local_params=$_f0094b_old_params['_80347e'];?>

            <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$__rel_name__','setvar'=>'__rel_value__','this_tag'=>'var'],null,$this),$this),$this->setup_args('__rel_value__','setvar',$this),$this,'setvar')?>

            <?php $_f0094b_old_params['_26bea3']=$_f0094b_local_params;$_f0094b_old_vars['_26bea3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <?php $c_6567ca=null;$_f0094b_old_params['_6567ca']=$_f0094b_local_params;$_f0094b_old_vars['_6567ca']=$_f0094b_local_vars;$a_6567ca=$this->setup_args(['name'=>'__forward_name__','scope'=>'local','this_tag'=>'setvarblock'],null,$this);ob_start();?>
forward_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_6567ca=ob_get_clean();$c_6567ca=$this->block_setvarblock($a_6567ca,$c_6567ca,$this,$r_6567ca,1,'_6567ca');echo($c_6567ca); $_f0094b_local_params=$_f0094b_old_params['_6567ca'];?>

              <?php $_f0094b_old_params['_2b1606']=$_f0094b_local_params;$_f0094b_old_vars['_2b1606']=$_f0094b_local_vars;if($this->conditional_isarray($this->setup_args(['name'=>'$__forward_name__','this_tag'=>'isarray'],null,$this),null,$this,true,true)):?>

                <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$__forward_name__','setvar'=>'__rel_value__','this_tag'=>'var'],null,$this),$this),$this->setup_args('__rel_value__','setvar',$this),$this,'setvar')?>

              <?php else:?>

                <?php echo $this->modifier_setvar($this->modifier_cast_to($this->function_var($this->setup_args(['name'=>'$__forward_name__','cast_to'=>'arr','setvar'=>'__rel_value__','this_tag'=>'var'],null,$this),$this),$this->setup_args('arr','cast_to',$this),$this,'cast_to'),$this->setup_args('__rel_value__','setvar',$this),$this,'setvar')?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2b1606'];$_f0094b_local_vars=$_f0094b_old_vars['_2b1606'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_26bea3'];$_f0094b_local_vars=$_f0094b_old_vars['_26bea3'];?>

            <select id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="form-control custom-select watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
              <?php $c_2c43b6=null;$_f0094b_old_params['_2c43b6']=$_f0094b_local_params;$_f0094b_old_vars['_2c43b6']=$_f0094b_local_vars;$a_2c43b6=$this->setup_args(['cols'=>'$rel_cols','model'=>'$rel_model','sort_by'=>'$relation_sort_by','sort_order'=>'$relation_sort_order','include_draft'=>'1','workspace_id'=>'$workspace_id','this_tag'=>'objectloop'],null,$this);$_2c43b6=-1;$r_2c43b6=true;while($r_2c43b6===true):$r_2c43b6=($_2c43b6!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_2c43b6,$c_2c43b6,$this,$r_2c43b6,++$_2c43b6,'_2c43b6');ob_start();?>
<?php $c_2c43b6 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_2c43b6=false;}if($c_2c43b6 ):?>

                <?php $_f0094b_old_params['_079305']=$_f0094b_local_params;$_f0094b_old_vars['_079305']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_ddb679']=$_f0094b_local_params;$_f0094b_old_vars['_ddb679']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'not_null','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

                    <option value="" <?php $_f0094b_old_params['_a35184']=$_f0094b_local_params;$_f0094b_old_vars['_a35184']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                      <?php $_f0094b_old_params['_1f1643']=$_f0094b_local_params;$_f0094b_old_vars['_1f1643']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                        <?php $_f0094b_old_params['_331811']=$_f0094b_local_params;$_f0094b_old_vars['_331811']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php else:?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_331811'];$_f0094b_local_vars=$_f0094b_old_vars['_331811'];?>

                      <?php else:?>

                        <?php $_f0094b_old_params['_dab0e8']=$_f0094b_local_params;$_f0094b_old_vars['_dab0e8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__rel_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php else:?>
selected<?php endif;$_f0094b_local_params=$_f0094b_old_params['_dab0e8'];$_f0094b_local_vars=$_f0094b_old_vars['_dab0e8'];?>

                      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1f1643'];$_f0094b_local_vars=$_f0094b_old_vars['_1f1643'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a35184'];$_f0094b_local_vars=$_f0094b_old_vars['_a35184'];?>
><?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>
</option>
                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ddb679'];$_f0094b_local_vars=$_f0094b_old_vars['_ddb679'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_079305'];$_f0094b_local_vars=$_f0094b_old_vars['_079305'];?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'this_selected','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

                <option <?php $_f0094b_old_params['_691e8f']=$_f0094b_local_params;$_f0094b_old_vars['_691e8f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'int','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_0e94dc']=$_f0094b_local_params;$_f0094b_old_vars['_0e94dc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','eq'=>'$id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php echo $this->function_setvar($this->setup_args(['name'=>'this_selected','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0e94dc'];$_f0094b_local_vars=$_f0094b_old_vars['_0e94dc'];?>
<?php else:?>

                  <?php $_f0094b_old_params['_1bd828']=$_f0094b_local_params;$_f0094b_old_vars['_1bd828']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['name'=>'__rel_value__','value'=>'$id','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
selected<?php echo $this->function_setvar($this->setup_args(['name'=>'this_selected','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1bd828'];$_f0094b_local_vars=$_f0094b_old_vars['_1bd828'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_691e8f'];$_f0094b_local_vars=$_f0094b_old_vars['_691e8f'];?>

                  <?php $_f0094b_old_params['_b5a855']=$_f0094b_local_params;$_f0094b_old_vars['_b5a855']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'this_selected','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a0efd8']=$_f0094b_local_params;$_f0094b_old_vars['_a0efd8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0efd8'];$_f0094b_local_vars=$_f0094b_old_vars['_a0efd8'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b5a855'];$_f0094b_local_vars=$_f0094b_old_vars['_b5a855'];?>

                  value="<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
"><?php $_f0094b_old_params['_7e5ece']=$_f0094b_local_params;$_f0094b_old_vars['_7e5ece']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$rel_col','eq'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
null(id:<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
)<?php else:?>
<?php $_f0094b_old_params['_10e61e']=$_f0094b_local_params;$_f0094b_old_vars['_10e61e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'translate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->modifier_translate($this->function_var($this->setup_args(['name'=>'$rel_col','translate'=>'','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('','translate',$this),$this,'translate'),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_10e61e'];$_f0094b_local_vars=$_f0094b_old_vars['_10e61e'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7e5ece'];$_f0094b_local_vars=$_f0094b_old_vars['_7e5ece'];?>
</option>
              <?php endif;$c_2c43b6=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_2c43b6'];$_f0094b_local_vars=$_f0094b_old_vars['_2c43b6'];?>

            </select>
          <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'rel_type','eq'=>'dialog','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_338b31']=$_f0094b_local_params;$_f0094b_old_vars['_338b31']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_type','eq'=>'relation','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

            <?php $_f0094b_old_params['_b3d865']=$_f0094b_local_params;$_f0094b_old_vars['_b3d865']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifhasthumbnail($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifhasthumbnail'],null,$this),null,$this,true,true)):?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b3d865'];$_f0094b_local_vars=$_f0094b_old_vars['_b3d865'];?>

              <?php $c_d7c514=null;$_f0094b_old_params['_d7c514']=$_f0094b_local_params;$_f0094b_old_vars['_d7c514']=$_f0094b_local_vars;$a_d7c514=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_d7c514=ob_get_clean();$c_d7c514=$this->block_setvarblock($a_d7c514,$c_d7c514,$this,$r_d7c514,1,'_d7c514');echo($c_d7c514); $_f0094b_local_params=$_f0094b_old_params['_d7c514'];?>

              <ul id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="relation-list">
                <li <?php $_f0094b_old_params['_f75347']=$_f0094b_local_params;$_f0094b_old_vars['_f75347']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$__rel_name__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
style="display:none" <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f75347'];$_f0094b_local_vars=$_f0094b_old_vars['_f75347'];?>
class="badge badge-edit-tmpl badge-default badge-relation" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-none">
                <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
&nbsp;</span>
                </li>
                <li style="margin-right: 4px" class="hidden badge badge-edit-tmpl badge-default badge-relation badge-draggable" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-tmpl">
                <?php $_f0094b_old_params['_c3421d']=$_f0094b_local_params;$_f0094b_old_vars['_c3421d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div class="assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></div>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c3421d'];$_f0094b_local_vars=$_f0094b_old_vars['_c3421d'];?>

                <span><?php echo $this->function_trans($this->setup_args(['phrase'=>'Default','this_tag'=>'trans'],null,$this),$this)?>
</span>
                <a target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
                  <i class="fa fa-external-link-square"></i>
                </a>
              <?php $_f0094b_old_params['_f42c65']=$_f0094b_local_params;$_f0094b_old_vars['_f42c65']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <a target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-linkurl-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
                  <i class="fa fa-globe"></i>
                </a>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f42c65'];$_f0094b_local_vars=$_f0094b_old_vars['_f42c65'];?>

                <?php $_f0094b_old_params['_ec1188']=$_f0094b_local_params;$_f0094b_old_vars['_ec1188']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

                  <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit hidden btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
                      data-toggle="modal" data-target="#modal"
                      data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=__value__<?php $_f0094b_old_params['_fe8369']=$_f0094b_local_params;$_f0094b_old_vars['_fe8369']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_9fc9d9']=$_f0094b_local_params;$_f0094b_old_vars['_9fc9d9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9fc9d9'];$_f0094b_local_vars=$_f0094b_old_vars['_9fc9d9'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fe8369'];$_f0094b_local_vars=$_f0094b_old_vars['_fe8369'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                    <i class="fa fa-pencil"></i>
                  </button>
                  <button type="button" class="btn btn-secondary btn-sm close-sm detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
                    <span aria-hidden="true">&times;</span>
                  </button>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ec1188'];$_f0094b_local_vars=$_f0094b_old_vars['_ec1188'];?>

                <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="">
                </li>
              <?php $c_e1658f=null;$_f0094b_old_params['_e1658f']=$_f0094b_local_params;$_f0094b_old_vars['_e1658f']=$_f0094b_local_vars;$a_e1658f=$this->setup_args(['name'=>'selected_ids','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php $c_a84542=null;$_f0094b_old_params['_a84542']=$_f0094b_local_params;$_f0094b_old_vars['_a84542']=$_f0094b_local_vars;$a_a84542=$this->setup_args(['name'=>'$__rel_name__','glue'=>',','this_tag'=>'loop'],null,$this);$_a84542=-1;$r_a84542=true;while($r_a84542===true):$r_a84542=($_a84542!==-1)?false:true;echo $this->block_loop($a_a84542,$c_a84542,$this,$r_a84542,++$_a84542,'_a84542');ob_start();?>
<?php $c_a84542 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_a84542=false;}if($c_a84542 ):?>
<?php echo $this->function_var($this->setup_args(['name'=>'__value__','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$c_a84542=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_a84542'];$_f0094b_local_vars=$_f0094b_old_vars['_a84542'];?>
<?php $c_e1658f=ob_get_clean();$c_e1658f=$this->block_setvarblock($a_e1658f,$c_e1658f,$this,$r_e1658f,1,'_e1658f');echo($c_e1658f); $_f0094b_local_params=$_f0094b_old_params['_e1658f'];?>

              <?php $c_d0a407=null;$_f0094b_old_params['_d0a407']=$_f0094b_local_params;$_f0094b_old_vars['_d0a407']=$_f0094b_local_vars;$a_d0a407=$this->setup_args(['name'=>'$__rel_name__','this_tag'=>'loop'],null,$this);$_d0a407=-1;$r_d0a407=true;while($r_d0a407===true):$r_d0a407=($_d0a407!==-1)?false:true;echo $this->block_loop($a_d0a407,$c_d0a407,$this,$r_d0a407,++$_d0a407,'_d0a407');ob_start();?>
<?php $c_d0a407 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_d0a407=false;}if($c_d0a407 ):?>

                <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-edit-tmpl badge-default badge-relation badge-draggable">
                <?php $_f0094b_old_params['_06a38c']=$_f0094b_local_params;$_f0094b_old_vars['_06a38c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <div class="assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" style="background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&amp;square=1&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
')"></div>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_06a38c'];$_f0094b_local_vars=$_f0094b_old_vars['_06a38c'];?>

                <span>
                  <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__value__','type'=>'$edit','escape'=>'','setvar'=>'_related_object','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES),$this->setup_args('_related_object','setvar',$this),$this,'setvar')?>

                  <?php echo $this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'_related_object','trans'=>'$translate','this_tag'=>'var'],null,$this),$this),$this->setup_args('$translate','trans',$this),$this,'trans')?>

                </span>
                <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_objectvar($this->setup_args(['model'=>'$rel_model','id'=>'$__value__','name'=>'permalink','setvar'=>'_external_link','this_tag'=>'objectvar'],null,$this),$this),$this->setup_args('_external_link','setvar',$this),$this,'setvar')?>

                <?php $_f0094b_old_params['_3b0a95']=$_f0094b_local_params;$_f0094b_old_vars['_3b0a95']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_external_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <a target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'_external_link','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
                    <i class="fa fa-external-link-square"></i>
                  </a>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3b0a95'];$_f0094b_local_vars=$_f0094b_old_vars['_3b0a95'];?>

                <?php $_f0094b_old_params['_da1a63']=$_f0094b_local_params;$_f0094b_old_vars['_da1a63']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

                <?php $_f0094b_old_params['_de5e67']=$_f0094b_local_params;$_f0094b_old_vars['_de5e67']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'$rel_model','id'=>'$__value__','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

                  <button type="button" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
                      data-toggle="modal" data-target="#modal"
                      data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_214999']=$_f0094b_local_params;$_f0094b_old_vars['_214999']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_0025fa']=$_f0094b_local_params;$_f0094b_old_vars['_0025fa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0025fa'];$_f0094b_local_vars=$_f0094b_old_vars['_0025fa'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_214999'];$_f0094b_local_vars=$_f0094b_old_vars['_214999'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                    <i class="fa fa-pencil"></i>
                  </button>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_de5e67'];$_f0094b_local_vars=$_f0094b_old_vars['_de5e67'];?>

                <button type="button" class="btn btn-secondary btn-sm close-sm detach-relation" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
                  <span aria-hidden="true">&times;</span>
                </button>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_da1a63'];$_f0094b_local_vars=$_f0094b_old_vars['_da1a63'];?>

                <input type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"></li>
              <?php endif;$c_d0a407=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_d0a407'];$_f0094b_local_vars=$_f0094b_old_vars['_d0a407'];?>

              </ul>
              <?php $_f0094b_old_params['_ad43f8']=$_f0094b_local_params;$_f0094b_old_vars['_ad43f8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

                
                <?php $c_c5b08b=null;$_f0094b_old_params['_c5b08b']=$_f0094b_local_params;$_f0094b_old_vars['_c5b08b']=$_f0094b_local_vars;$a_c5b08b=$this->setup_args(['name'=>'_prop_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
_workspace_id<?php $c_c5b08b=ob_get_clean();$c_c5b08b=$this->block_setvarblock($a_c5b08b,$c_c5b08b,$this,$r_c5b08b,1,'_c5b08b');echo($c_c5b08b); $_f0094b_local_params=$_f0094b_old_params['_c5b08b'];?>

                <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'$_prop_name','setvar'=>'workspace_list_id','this_tag'=>'property'],null,$this),$this),$this->setup_args('workspace_list_id','setvar',$this),$this,'setvar')?>

                <?php $_f0094b_old_params['_d67cd6']=$_f0094b_local_params;$_f0094b_old_vars['_d67cd6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','eq'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_list_id','value'=>'$workspace_id','this_tag'=>'setvar'],null,$this),$this)?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d67cd6'];$_f0094b_local_vars=$_f0094b_old_vars['_d67cd6'];?>

              <button type="button" id="add_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
                data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_6e2636']=$_f0094b_local_params;$_f0094b_old_vars['_6e2636']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_f4e972']=$_f0094b_local_params;$_f0094b_old_vars['_f4e972']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f4e972'];$_f0094b_local_vars=$_f0094b_old_vars['_f4e972'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6e2636'];$_f0094b_local_vars=$_f0094b_old_vars['_6e2636'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <?php $_f0094b_old_params['_2092ec']=$_f0094b_local_params;$_f0094b_old_vars['_2092ec']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['model'=>'$rel_model','action'=>'create','workspace_id'=>'$workspace_list_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

                <button title="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New...','this_tag'=>'trans'],null,$this),$this)?>
" type="button" class="ml-0 btn btn-info btn-sm" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'New...','this_tag'=>'trans'],null,$this),$this)?>
"
                    data-toggle="modal" data-target="#modal"
                    data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_392f63']=$_f0094b_local_params;$_f0094b_old_vars['_392f63']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_6b7f08']=$_f0094b_local_params;$_f0094b_old_vars['_6b7f08']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6b7f08'];$_f0094b_local_vars=$_f0094b_old_vars['_6b7f08'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_392f63'];$_f0094b_local_vars=$_f0094b_old_vars['_392f63'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                  <i class="fa fa-plus-circle"></i>
                </button>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2092ec'];$_f0094b_local_vars=$_f0094b_old_vars['_2092ec'];?>

              <script>
                var <?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_add_objects = [];
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').sortable ( {
                    stop: function( evt, ui ) {
                        editContentChanged = true;
                    }
                });
                $('#<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
').ksortable();
              </script>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ad43f8'];$_f0094b_local_vars=$_f0094b_old_vars['_ad43f8'];?>

            <?php else:?>

              
              <?php $c_100669=null;$_f0094b_old_params['_100669']=$_f0094b_local_params;$_f0094b_old_vars['_100669']=$_f0094b_local_vars;$a_100669=$this->setup_args(['name'=>'_prop_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
_workspace_id<?php $c_100669=ob_get_clean();$c_100669=$this->block_setvarblock($a_100669,$c_100669,$this,$r_100669,1,'_100669');echo($c_100669); $_f0094b_local_params=$_f0094b_old_params['_100669'];?>

              <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'$_prop_name','setvar'=>'workspace_list_id','this_tag'=>'property'],null,$this),$this),$this->setup_args('workspace_list_id','setvar',$this),$this,'setvar')?>

              <?php $_f0094b_old_params['_137f58']=$_f0094b_local_params;$_f0094b_old_vars['_137f58']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','eq'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'workspace_list_id','value'=>'$workspace_id','this_tag'=>'setvar'],null,$this),$this)?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_137f58'];$_f0094b_local_vars=$_f0094b_old_vars['_137f58'];?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

              <?php $_f0094b_old_params['_190c43']=$_f0094b_local_params;$_f0094b_old_vars['_190c43']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifhasthumbnail($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifhasthumbnail'],null,$this),null,$this,true,true)):?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'has_thumbnail','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_190c43'];$_f0094b_local_vars=$_f0094b_old_vars['_190c43'];?>

              <?php echo $this->function_setvar($this->setup_args(['name'=>'thumbnail','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

              <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__col_value__','type'=>'$edit','wants'=>'id','escape'=>'','setvar'=>'__col_value__','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES),$this->setup_args('__col_value__','setvar',$this),$this,'setvar')?>

              <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_assetthumbnail($this->setup_args(['id'=>'$__col_value__','type'=>'default','square'=>'1','model'=>'$rel_model','data_uri'=>'1','setvar'=>'thumbnail','this_tag'=>'assetthumbnail'],null,$this),$this),$this->setup_args('thumbnail','setvar',$this),$this,'setvar')?>

              <?php $_f0094b_old_params['_41723f']=$_f0094b_local_params;$_f0094b_old_vars['_41723f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'thumbnail','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

                <?php $_f0094b_old_params['_d27df1']=$_f0094b_local_params;$_f0094b_old_vars['_d27df1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php $c_77f787=null;$_f0094b_old_params['_77f787']=$_f0094b_local_params;$_f0094b_old_vars['_77f787']=$_f0094b_local_vars;$a_77f787=$this->setup_args(['name'=>'thumbnail','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&amp;square=1&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_77f787=ob_get_clean();$c_77f787=$this->block_setvarblock($a_77f787,$c_77f787,$this,$r_77f787,1,'_77f787');echo($c_77f787); $_f0094b_local_params=$_f0094b_old_params['_77f787'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d27df1'];$_f0094b_local_vars=$_f0094b_old_vars['_d27df1'];?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_41723f'];$_f0094b_local_vars=$_f0094b_old_vars['_41723f'];?>

              <ul class="relation-list">
              <li class="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-child badge badge-default badge-relation">
              <?php $_f0094b_old_params['_614779']=$_f0094b_local_params;$_f0094b_old_vars['_614779']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'thumbnail','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

              <div id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-img" class="<?php $_f0094b_old_params['_efba8b']=$_f0094b_local_params;$_f0094b_old_vars['_efba8b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
hidden <?php endif;$_f0094b_local_params=$_f0094b_old_params['_efba8b'];$_f0094b_local_vars=$_f0094b_old_vars['_efba8b'];?>
assets-child-thumb" data-model="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-id="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" style="background-image:url('<?php echo $this->function_var($this->setup_args(['name'=>'thumbnail','this_tag'=>'var'],null,$this),$this)?>
')"></div>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_614779'];$_f0094b_local_vars=$_f0094b_old_vars['_614779'];?>

              <span id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-label">
              <?php $_f0094b_old_params['_ef1a5d']=$_f0094b_local_params;$_f0094b_old_vars['_ef1a5d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$__col_value__','type'=>'$edit','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

              <?php else:?>

                <?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
&nbsp;
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ef1a5d'];$_f0094b_local_vars=$_f0094b_old_vars['_ef1a5d'];?>

              </span>
              <?php $_f0094b_old_params['_587c08']=$_f0094b_local_params;$_f0094b_old_vars['_587c08']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_objectvar($this->setup_args(['model'=>'$rel_model','id'=>'$__col_value__','name'=>'permalink','setvar'=>'_external_link','this_tag'=>'objectvar'],null,$this),$this),$this->setup_args('_external_link','setvar',$this),$this,'setvar')?>

                <?php $_f0094b_old_params['_b6242d']=$_f0094b_local_params;$_f0094b_old_vars['_b6242d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_external_link','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <a target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'_external_link','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
                    <i class="fa fa-external-link-square"></i>
                  </a>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b6242d'];$_f0094b_local_vars=$_f0094b_old_vars['_b6242d'];?>

                <?php echo $this->function_setvar($this->setup_args(['name'=>'_external_link_url','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

                <?php $_f0094b_old_params['_84f5c5']=$_f0094b_local_params;$_f0094b_old_vars['_84f5c5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                <?php $_f0094b_old_params['_302d37']=$_f0094b_local_params;$_f0094b_old_vars['_302d37']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <?php $_f0094b_old_params['_32d880']=$_f0094b_local_params;$_f0094b_old_vars['_32d880']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_external_link','replace'=>'\'$workspace_site_url\',\'$workspace_link_url\'','setvar'=>'_external_link_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$workspace_site_url\\\',\\\'$workspace_link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_external_link_url','setvar',$this),$this,'setvar')?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_32d880'];$_f0094b_local_vars=$_f0094b_old_vars['_32d880'];?>

                <?php else:?>

                  <?php $_f0094b_old_params['_f9dcea']=$_f0094b_local_params;$_f0094b_old_vars['_f9dcea']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                    <?php echo $this->modifier_setvar($this->modifier_replace($this->function_var($this->setup_args(['name'=>'_external_link','replace'=>'\'$site_url\',\'$link_url\'','setvar'=>'_external_link_url','this_tag'=>'var'],null,$this),$this),$this->setup_args('\\\'$site_url\\\',\\\'$link_url\\\'','replace',$this),$this,'replace'),$this->setup_args('_external_link_url','setvar',$this),$this,'setvar')?>

                  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f9dcea'];$_f0094b_local_vars=$_f0094b_old_vars['_f9dcea'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_302d37'];$_f0094b_local_vars=$_f0094b_old_vars['_302d37'];?>

                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_84f5c5'];$_f0094b_local_vars=$_f0094b_old_vars['_84f5c5'];?>

                <?php $_f0094b_old_params['_5553ca']=$_f0094b_local_params;$_f0094b_old_vars['_5553ca']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_external_link_url','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                  <a target="_blank" href="<?php echo $this->function_var($this->setup_args(['name'=>'_external_link_url','this_tag'=>'var'],null,$this),$this)?>
" class="btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
                    <i class="fa fa-globe"></i>
                  </a>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5553ca'];$_f0094b_local_vars=$_f0094b_old_vars['_5553ca'];?>

                <?php $_f0094b_old_params['_3d7efb']=$_f0094b_local_params;$_f0094b_old_vars['_3d7efb']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['action'=>'edit','model'=>'$rel_model','id'=>'$__col_value__','workspace_id'=>'$workspace_list_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

                  <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
                      data-toggle="modal" data-target="#modal"
                      data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_2ca9cc']=$_f0094b_local_params;$_f0094b_old_vars['_2ca9cc']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_2d9a46']=$_f0094b_local_params;$_f0094b_old_vars['_2d9a46']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2d9a46'];$_f0094b_local_vars=$_f0094b_old_vars['_2d9a46'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2ca9cc'];$_f0094b_local_vars=$_f0094b_old_vars['_2ca9cc'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                    <i class="fa fa-pencil"></i>
                  </button>
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d7efb'];$_f0094b_local_vars=$_f0094b_old_vars['_3d7efb'];?>

              <?php else:?>

                <a target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-download-btn attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
">
                  <i class="fa fa-external-link-square"></i>
                </a>
                <a target="_blank" href="" class="hidden btn btn-secondary btn-sm asset-download-btn attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'View Published','this_tag'=>'trans'],null,$this),$this)?>
">
                  <i class="fa fa-globe"></i>
                </a>
                <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit hidden btn btn-secondary btn-sm relation-editor" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
                    data-toggle="modal" data-target="#modal"
                    data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;id=0<?php $_f0094b_old_params['_11a684']=$_f0094b_local_params;$_f0094b_old_vars['_11a684']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_69cbb0']=$_f0094b_local_params;$_f0094b_old_vars['_69cbb0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_69cbb0'];$_f0094b_local_vars=$_f0094b_old_vars['_69cbb0'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_11a684'];$_f0094b_local_vars=$_f0094b_old_vars['_11a684'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                  <i class="fa fa-pencil"></i>
                </button>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_587c08'];$_f0094b_local_vars=$_f0094b_old_vars['_587c08'];?>

              <?php $_f0094b_old_params['_fbe16d']=$_f0094b_local_params;$_f0094b_old_vars['_fbe16d']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

              <button style="display:inline" id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-close" type="button" class="btn btn-secondary btn-sm close-sm detach-relation <?php $_f0094b_old_params['_7054af']=$_f0094b_local_params;$_f0094b_old_vars['_7054af']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
 hidden<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7054af'];$_f0094b_local_vars=$_f0094b_old_vars['_7054af'];?>
" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Detach','this_tag'=>'trans'],null,$this),$this)?>
" data-name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
                <span aria-hidden="true">&times;</span>
              </button>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fbe16d'];$_f0094b_local_vars=$_f0094b_old_vars['_fbe16d'];?>

              <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="hidden" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__col_value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
              </li>
              </ul>
              <?php $_f0094b_old_params['_8f1efe']=$_f0094b_local_params;$_f0094b_old_vars['_8f1efe']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'readonly','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

              <button type="button" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
                data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_93e5d7']=$_f0094b_local_params;$_f0094b_old_vars['_93e5d7']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_ac6c08']=$_f0094b_local_params;$_f0094b_old_vars['_ac6c08']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ac6c08'];$_f0094b_local_vars=$_f0094b_old_vars['_ac6c08'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_93e5d7'];$_f0094b_local_vars=$_f0094b_old_vars['_93e5d7'];?>
&amp;dialog_view=1&amp;single_select=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
              <?php $_f0094b_old_params['_b97cd3']=$_f0094b_local_params;$_f0094b_old_vars['_b97cd3']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['model'=>'$rel_model','action'=>'create','workspace_id'=>'$workspace_id','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

                <button type="button" id="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit-defeult" class="_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-edit btn btn-info btn-sm ml-0" aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Edit','this_tag'=>'trans'],null,$this),$this)?>
"
                    data-toggle="modal" data-target="#modal"
                    data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=edit&amp;_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $_f0094b_old_params['_e1a0e9']=$_f0094b_local_params;$_f0094b_old_vars['_e1a0e9']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifworkspacemodel($this->setup_args(['model'=>'$rel_model','this_tag'=>'ifworkspacemodel'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_72cf7e']=$_f0094b_local_params;$_f0094b_old_vars['_72cf7e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_list_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_72cf7e'];$_f0094b_local_vars=$_f0094b_old_vars['_72cf7e'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e1a0e9'];$_f0094b_local_vars=$_f0094b_old_vars['_e1a0e9'];?>
&amp;dialog_view=1&amp;target=<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
&amp;from_obj=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&amp;get_col=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;select_add=1&amp;single_select=1&amp;direct_edit=1&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
                  <i class="fa fa-plus-circle"></i>
                </button>
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b97cd3'];$_f0094b_local_vars=$_f0094b_old_vars['_b97cd3'];?>

              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8f1efe'];$_f0094b_local_vars=$_f0094b_old_vars['_8f1efe'];?>

            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_338b31'];$_f0094b_local_vars=$_f0094b_old_vars['_338b31'];?>

          <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'rel_type','eq'=>'checkbox','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

            <?php $c_96ccea=null;$_f0094b_old_params['_96ccea']=$_f0094b_local_params;$_f0094b_old_vars['_96ccea']=$_f0094b_local_vars;$a_96ccea=$this->setup_args(['name'=>'__rel_name__','this_tag'=>'setvarblock'],null,$this);ob_start();?>
object_<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
<?php $c_96ccea=ob_get_clean();$c_96ccea=$this->block_setvarblock($a_96ccea,$c_96ccea,$this,$r_96ccea,1,'_96ccea');echo($c_96ccea); $_f0094b_local_params=$_f0094b_old_params['_96ccea'];?>

            <?php $c_84e2d7=null;$_f0094b_old_params['_84e2d7']=$_f0094b_local_params;$_f0094b_old_vars['_84e2d7']=$_f0094b_local_vars;$a_84e2d7=$this->setup_args(['cols'=>'$rel_cols','model'=>'$rel_model','sort_by'=>'$relation_sort_by','sort_order'=>'$relation_sort_order','include_draft'=>'1','workspace_id'=>'$workspace_id','this_tag'=>'objectloop'],null,$this);$_84e2d7=-1;$r_84e2d7=true;while($r_84e2d7===true):$r_84e2d7=($_84e2d7!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectloop($a_84e2d7,$c_84e2d7,$this,$r_84e2d7,++$_84e2d7,'_84e2d7');ob_start();?>
<?php $c_84e2d7 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_84e2d7=false;}if($c_84e2d7 ):?>

              <label class="custom-control custom-checkbox">
                <input type="checkbox" <?php $_f0094b_old_params['_7ce925']=$_f0094b_local_params;$_f0094b_old_vars['_7ce925']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7ce925'];$_f0094b_local_vars=$_f0094b_old_vars['_7ce925'];?>
 class="custom-control-input watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
" <?php $_f0094b_old_params['_4ffbdd']=$_f0094b_local_params;$_f0094b_old_vars['_4ffbdd']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$__rel_name__','value'=>'$id','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php else:?>
<?php $_f0094b_old_params['_449802']=$_f0094b_local_params;$_f0094b_old_vars['_449802']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_449802'];$_f0094b_local_vars=$_f0094b_old_vars['_449802'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ffbdd'];$_f0094b_local_vars=$_f0094b_old_vars['_4ffbdd'];?>
>
                <span class="custom-control-indicator"></span>
                <span class="custom-control-description"><?php $_f0094b_old_params['_662bfe']=$_f0094b_local_params;$_f0094b_old_vars['_662bfe']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'$rel_col','eq'=>'','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
null(id:<?php echo $this->function_var($this->setup_args(['name'=>'id','this_tag'=>'var'],null,$this),$this)?>
)<?php else:?>
<?php $_f0094b_old_params['_26abec']=$_f0094b_local_params;$_f0094b_old_vars['_26abec']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'translate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->modifier_translate($this->function_var($this->setup_args(['name'=>'$rel_col','translate'=>'','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('','translate',$this),$this,'translate'),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'$rel_col','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_26abec'];$_f0094b_local_vars=$_f0094b_old_vars['_26abec'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_662bfe'];$_f0094b_local_vars=$_f0094b_old_vars['_662bfe'];?>
</span>
              </label>
            <?php endif;$c_84e2d7=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_84e2d7'];$_f0094b_local_vars=$_f0094b_old_vars['_84e2d7'];?>

          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5c361f'];$_f0094b_local_vars=$_f0094b_old_vars['_5c361f'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f36dd4'];$_f0094b_local_vars=$_f0094b_old_vars['_f36dd4'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_04afa5'];$_f0094b_local_vars=$_f0094b_old_vars['_04afa5'];?>

    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'text','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_0c6904']=$_f0094b_local_params;$_f0094b_old_vars['_0c6904']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'textarea','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_891376']=$_f0094b_local_params;$_f0094b_old_vars['_891376']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_891376'];$_f0094b_local_vars=$_f0094b_old_vars['_891376'];?>

    </label>
  </div>
  <div class="col-lg-10">
  <?php $_f0094b_old_params['_c1297f']=$_f0094b_local_params;$_f0094b_old_vars['_c1297f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_0fde9a']=$_f0094b_local_params;$_f0094b_old_vars['_0fde9a']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0fde9a'];$_f0094b_local_vars=$_f0094b_old_vars['_0fde9a'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c1297f'];$_f0094b_local_vars=$_f0094b_old_vars['_c1297f'];?>

<textarea id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" rows="<?php $_f0094b_old_params['_65e8fc']=$_f0094b_local_params;$_f0094b_old_vars['_65e8fc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'options','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
5<?php endif;$_f0094b_local_params=$_f0094b_old_params['_65e8fc'];$_f0094b_local_vars=$_f0094b_old_vars['_65e8fc'];?>
"
  class="form-control watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
  <?php $_f0094b_old_params['_373b9d']=$_f0094b_local_params;$_f0094b_old_vars['_373b9d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_373b9d'];$_f0094b_local_vars=$_f0094b_old_vars['_373b9d'];?>
>
<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
</textarea>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'richtext','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_f7c62e']=$_f0094b_local_params;$_f0094b_old_vars['_f7c62e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f7c62e'];$_f0094b_local_vars=$_f0094b_old_vars['_f7c62e'];?>

    </label>
  </div>
  <div class="col-lg-10">
  <?php $_f0094b_old_params['_ca3d73']=$_f0094b_local_params;$_f0094b_old_vars['_ca3d73']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_9e303b']=$_f0094b_local_params;$_f0094b_old_vars['_9e303b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9e303b'];$_f0094b_local_vars=$_f0094b_old_vars['_9e303b'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ca3d73'];$_f0094b_local_vars=$_f0094b_old_vars['_ca3d73'];?>

<div id="editor-<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-wrapper"><textarea id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" rows="<?php $_f0094b_old_params['_889d80']=$_f0094b_local_params;$_f0094b_old_vars['_889d80']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'options','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
10<?php endif;$_f0094b_local_params=$_f0094b_old_params['_889d80'];$_f0094b_local_vars=$_f0094b_old_vars['_889d80'];?>
"
  class="form-control richtext" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
"
  <?php $_f0094b_old_params['_fc796f']=$_f0094b_local_params;$_f0094b_old_vars['_fc796f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fc796f'];$_f0094b_local_vars=$_f0094b_old_vars['_fc796f'];?>
><?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
</textarea></div>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php else:?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_26d4c7']=$_f0094b_local_params;$_f0094b_old_vars['_26d4c7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_26d4c7'];$_f0094b_local_vars=$_f0094b_old_vars['_26d4c7'];?>

    </label>
  </div>
  <div class="col-lg-10">
  <?php $_f0094b_old_params['_2e9a26']=$_f0094b_local_params;$_f0094b_old_vars['_2e9a26']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','eq'=>'extra_path','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_a35b4d']=$_f0094b_local_params;$_f0094b_old_vars['_a35b4d']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_9c7bb3']=$_f0094b_local_params;$_f0094b_old_vars['_9c7bb3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.workspace_id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'extra_path','escape'=>'','setvar'=>'value','this_tag'=>'getoption'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>

      <?php else:?>

        <?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'workspace_extra_path','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9c7bb3'];$_f0094b_local_vars=$_f0094b_old_vars['_9c7bb3'];?>

      <?php $_f0094b_old_params['_ecaa58']=$_f0094b_local_params;$_f0094b_old_vars['_ecaa58']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model_out_path','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_add_slash(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'model_out_path','escape'=>'','add_slash'=>'','setvar'=>'model_out_path','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('','add_slash',$this),$this,'add_slash'),$this->setup_args('model_out_path','setvar',$this),$this,'setvar')?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'value','value'=>'$model_out_path','append'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ecaa58'];$_f0094b_local_vars=$_f0094b_old_vars['_ecaa58'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a35b4d'];$_f0094b_local_vars=$_f0094b_old_vars['_a35b4d'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e9a26'];$_f0094b_local_vars=$_f0094b_old_vars['_2e9a26'];?>

    <?php $_f0094b_old_params['_e1bb0c']=$_f0094b_local_params;$_f0094b_old_vars['_e1bb0c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_d20aa0']=$_f0094b_local_params;$_f0094b_old_vars['_d20aa0']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d20aa0'];$_f0094b_local_vars=$_f0094b_old_vars['_d20aa0'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e1bb0c'];$_f0094b_local_vars=$_f0094b_old_vars['_e1bb0c'];?>

    <?php $_f0094b_old_params['_68744b']=$_f0094b_local_params;$_f0094b_old_vars['_68744b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','eq'=>'uuid','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_131ad1']=$_f0094b_local_params;$_f0094b_old_vars['_131ad1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._duplicate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_setvar($this->setup_args(['name'=>'value','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_131ad1'];$_f0094b_local_vars=$_f0094b_old_vars['_131ad1'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_68744b'];$_f0094b_local_vars=$_f0094b_old_vars['_68744b'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="<?php $_f0094b_old_params['_e9fac8']=$_f0094b_local_params;$_f0094b_old_vars['_e9fac8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_option','like'=>'num','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
number<?php else:?>
text<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e9fac8'];$_f0094b_local_vars=$_f0094b_old_vars['_e9fac8'];?>
" class="form-control watch-changed <?php echo $this->function_var($this->setup_args(['name'=>'ctrl_class','this_tag'=>'var'],null,$this),$this)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
"
      <?php $_f0094b_old_params['_f15787']=$_f0094b_local_params;$_f0094b_old_vars['_f15787']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f15787'];$_f0094b_local_vars=$_f0094b_old_vars['_f15787'];?>
>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0c6904'];$_f0094b_local_vars=$_f0094b_old_vars['_0c6904'];?>


<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'num','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_f90609']=$_f0094b_local_params;$_f0094b_old_vars['_f90609']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f90609'];$_f0094b_local_vars=$_f0094b_old_vars['_f90609'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <?php $_f0094b_old_params['_aaf2eb']=$_f0094b_local_params;$_f0094b_old_vars['_aaf2eb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_c943c5']=$_f0094b_local_params;$_f0094b_old_vars['_c943c5']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'value','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('value','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c943c5'];$_f0094b_local_vars=$_f0094b_old_vars['_c943c5'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_aaf2eb'];$_f0094b_local_vars=$_f0094b_old_vars['_aaf2eb'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="number" class="form-control watch-changed <?php echo $this->function_var($this->setup_args(['name'=>'ctrl_class','this_tag'=>'var'],null,$this),$this)?>
" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'value','this_tag'=>'var'],null,$this),$this)?>
"
      <?php $_f0094b_old_params['_785107']=$_f0094b_local_params;$_f0094b_old_vars['_785107']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_785107'];$_f0094b_local_vars=$_f0094b_old_vars['_785107'];?>
>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'password','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
    <?php $_f0094b_old_params['_4f84d7']=$_f0094b_local_params;$_f0094b_old_vars['_4f84d7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'New %s','params'=>'$label','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>

    <?php else:?>

      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4f84d7'];$_f0094b_local_vars=$_f0094b_old_vars['_4f84d7'];?>

    <?php $_f0094b_old_params['_fad7cb']=$_f0094b_local_params;$_f0094b_old_vars['_fad7cb']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_8aba03']=$_f0094b_local_params;$_f0094b_old_vars['_8aba03']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8aba03'];$_f0094b_local_vars=$_f0094b_old_vars['_8aba03'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fad7cb'];$_f0094b_local_vars=$_f0094b_old_vars['_fad7cb'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" type="password" autocomplete="new-password" class="form-control watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php $_f0094b_old_params['_2cc1ae']=$_f0094b_local_params;$_f0094b_old_vars['_2cc1ae']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_462250']=$_f0094b_local_params;$_f0094b_old_vars['_462250']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_462250'];$_f0094b_local_vars=$_f0094b_old_vars['_462250'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2cc1ae'];$_f0094b_local_vars=$_f0094b_old_vars['_2cc1ae'];?>
">
  </div>
</div>
<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-verify">
    <?php $_f0094b_old_params['_49b869']=$_f0094b_local_params;$_f0094b_old_vars['_49b869']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'New %s (Confirm)','params'=>'$label','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>

    <?php else:?>

      <?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'%s (Confirm)','params'=>'$label','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_49b869'];$_f0094b_local_vars=$_f0094b_old_vars['_49b869'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-verify" type="password" autocomplete="new-password" class="form-control watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
-verify" value="">
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'datetime','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>


<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_2a6b15']=$_f0094b_local_params;$_f0094b_old_vars['_2a6b15']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2a6b15'];$_f0094b_local_vars=$_f0094b_old_vars['_2a6b15'];?>

    </label>
  </div>
  <div class="col-lg-10 form-inline">
    <?php echo $this->function_setvar($this->setup_args(['name'=>'date_col_value','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'time_col_value','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $c_c6cfe0=null;$_f0094b_old_params['_c6cfe0']=$_f0094b_local_params;$_f0094b_old_vars['_c6cfe0']=$_f0094b_local_vars;$a_c6cfe0=$this->setup_args(['name'=>'date_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_date<?php $c_c6cfe0=ob_get_clean();$c_c6cfe0=$this->block_setvarblock($a_c6cfe0,$c_c6cfe0,$this,$r_c6cfe0,1,'_c6cfe0');echo($c_c6cfe0); $_f0094b_local_params=$_f0094b_old_params['_c6cfe0'];?>

    <?php $c_d5f53d=null;$_f0094b_old_params['_d5f53d']=$_f0094b_local_params;$_f0094b_old_vars['_d5f53d']=$_f0094b_local_vars;$a_d5f53d=$this->setup_args(['name'=>'time_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_time<?php $c_d5f53d=ob_get_clean();$c_d5f53d=$this->block_setvarblock($a_d5f53d,$c_d5f53d,$this,$r_d5f53d,1,'_d5f53d');echo($c_d5f53d); $_f0094b_local_params=$_f0094b_old_params['_d5f53d'];?>

    <?php $_f0094b_old_params['_6e0b29']=$_f0094b_local_params;$_f0094b_old_vars['_6e0b29']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $c_4e8fd8=null;$_f0094b_old_params['_4e8fd8']=$_f0094b_local_params;$_f0094b_old_vars['_4e8fd8']=$_f0094b_local_vars;$a_4e8fd8=$this->setup_args(['name'=>'request_date_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
<?php $c_4e8fd8=ob_get_clean();$c_4e8fd8=$this->block_setvarblock($a_4e8fd8,$c_4e8fd8,$this,$r_4e8fd8,1,'_4e8fd8');echo($c_4e8fd8); $_f0094b_local_params=$_f0094b_old_params['_4e8fd8'];?>

      <?php $c_58ec1c=null;$_f0094b_old_params['_58ec1c']=$_f0094b_local_params;$_f0094b_old_vars['_58ec1c']=$_f0094b_local_vars;$a_58ec1c=$this->setup_args(['name'=>'request_time_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
<?php $c_58ec1c=ob_get_clean();$c_58ec1c=$this->block_setvarblock($a_58ec1c,$c_58ec1c,$this,$r_58ec1c,1,'_58ec1c');echo($c_58ec1c); $_f0094b_local_params=$_f0094b_old_params['_58ec1c'];?>

      <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$request_date_col_name','setvar'=>'date_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('date_col_value','setvar',$this),$this,'setvar')?>

      <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$request_time_col_name','setvar'=>'time_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('time_col_value','setvar',$this),$this,'setvar')?>

    <?php else:?>

      <?php $_f0094b_old_params['_d9daca']=$_f0094b_local_params;$_f0094b_old_vars['_d9daca']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'value','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_var($this->setup_args(['name'=>'value','format_ts'=>'Y-m-d','setvar'=>'date_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('Y-m-d','format_ts',$this),$this,'format_ts'),$this->setup_args('date_col_value','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_var($this->setup_args(['name'=>'value','format_ts'=>'H:i:s','setvar'=>'time_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('H:i:s','format_ts',$this),$this,'format_ts'),$this->setup_args('time_col_value','setvar',$this),$this,'setvar')?>

      <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'not_null','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_date($this->setup_args(['format_ts'=>'Y-m-d','setvar'=>'date_col_value','this_tag'=>'date'],null,$this),$this),$this->setup_args('Y-m-d','format_ts',$this),$this,'format_ts'),$this->setup_args('date_col_value','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_date($this->setup_args(['format_ts'=>'H:i:s','setvar'=>'time_col_value','this_tag'=>'date'],null,$this),$this),$this->setup_args('H:i:s','format_ts',$this),$this,'format_ts'),$this->setup_args('time_col_value','setvar',$this),$this,'setvar')?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d9daca'];$_f0094b_local_vars=$_f0094b_old_vars['_d9daca'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6e0b29'];$_f0094b_local_vars=$_f0094b_old_vars['_6e0b29'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
" type="date" class="form-control date watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'date_col_value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"
      <?php $_f0094b_old_params['_527e23']=$_f0094b_local_params;$_f0094b_old_vars['_527e23']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_527e23'];$_f0094b_local_vars=$_f0094b_old_vars['_527e23'];?>
>
    &nbsp;
    <span class="time-input"><input id="<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
" type="time" step="<?php $_f0094b_old_params['_e46edf']=$_f0094b_local_params;$_f0094b_old_vars['_e46edf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'time_step','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'time_step','this_tag'=>'var'],null,$this),$this)?>
<?php else:?>
1<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e46edf'];$_f0094b_local_vars=$_f0094b_old_vars['_e46edf'];?>
" class="form-control time watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'time_col_value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"
      <?php $_f0094b_old_params['_620b6b']=$_f0094b_local_params;$_f0094b_old_vars['_620b6b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_620b6b'];$_f0094b_local_vars=$_f0094b_old_vars['_620b6b'];?>
></span>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','eq'=>'date','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_04c505']=$_f0094b_local_params;$_f0094b_old_vars['_04c505']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_04c505'];$_f0094b_local_vars=$_f0094b_old_vars['_04c505'];?>

    </label>
  </div>
  <div class="col-lg-10 form-inline">
    <?php echo $this->function_setvar($this->setup_args(['name'=>'date_col_value','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'time_col_value','value'=>'','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $c_11dd7a=null;$_f0094b_old_params['_11dd7a']=$_f0094b_local_params;$_f0094b_old_vars['_11dd7a']=$_f0094b_local_vars;$a_11dd7a=$this->setup_args(['name'=>'date_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_date<?php $c_11dd7a=ob_get_clean();$c_11dd7a=$this->block_setvarblock($a_11dd7a,$c_11dd7a,$this,$r_11dd7a,1,'_11dd7a');echo($c_11dd7a); $_f0094b_local_params=$_f0094b_old_params['_11dd7a'];?>

    <?php $c_378abe=null;$_f0094b_old_params['_378abe']=$_f0094b_local_params;$_f0094b_old_vars['_378abe']=$_f0094b_local_vars;$a_378abe=$this->setup_args(['name'=>'time_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
_time<?php $c_378abe=ob_get_clean();$c_378abe=$this->block_setvarblock($a_378abe,$c_378abe,$this,$r_378abe,1,'_378abe');echo($c_378abe); $_f0094b_local_params=$_f0094b_old_params['_378abe'];?>

    <?php $_f0094b_old_params['_4b8af6']=$_f0094b_local_params;$_f0094b_old_vars['_4b8af6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $c_a1425c=null;$_f0094b_old_params['_a1425c']=$_f0094b_local_params;$_f0094b_old_vars['_a1425c']=$_f0094b_local_vars;$a_a1425c=$this->setup_args(['name'=>'request_date_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
<?php $c_a1425c=ob_get_clean();$c_a1425c=$this->block_setvarblock($a_a1425c,$c_a1425c,$this,$r_a1425c,1,'_a1425c');echo($c_a1425c); $_f0094b_local_params=$_f0094b_old_params['_a1425c'];?>

      <?php $c_422d52=null;$_f0094b_old_params['_422d52']=$_f0094b_local_params;$_f0094b_old_vars['_422d52']=$_f0094b_local_vars;$a_422d52=$this->setup_args(['name'=>'request_time_col_name','this_tag'=>'setvarblock'],null,$this);ob_start();?>
request.<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
<?php $c_422d52=ob_get_clean();$c_422d52=$this->block_setvarblock($a_422d52,$c_422d52,$this,$r_422d52,1,'_422d52');echo($c_422d52); $_f0094b_local_params=$_f0094b_old_params['_422d52'];?>

      <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$request_date_col_name','setvar'=>'date_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('date_col_value','setvar',$this),$this,'setvar')?>

      <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'$request_time_col_name','setvar'=>'time_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('time_col_value','setvar',$this),$this,'setvar')?>

    <?php else:?>

      <?php $_f0094b_old_params['_45b089']=$_f0094b_local_params;$_f0094b_old_vars['_45b089']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'value','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_var($this->setup_args(['name'=>'value','format_ts'=>'Y-m-d','setvar'=>'date_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('Y-m-d','format_ts',$this),$this,'format_ts'),$this->setup_args('date_col_value','setvar',$this),$this,'setvar')?>

        <?php echo $this->modifier_setvar($this->modifier_format_ts($this->function_var($this->setup_args(['name'=>'value','format_ts'=>'H:i:s','setvar'=>'time_col_value','this_tag'=>'var'],null,$this),$this),$this->setup_args('H:i:s','format_ts',$this),$this,'format_ts'),$this->setup_args('time_col_value','setvar',$this),$this,'setvar')?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_45b089'];$_f0094b_local_vars=$_f0094b_old_vars['_45b089'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4b8af6'];$_f0094b_local_vars=$_f0094b_old_vars['_4b8af6'];?>

    <input id="<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
" type="date" class="form-control date watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'date_col_name','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'date_col_value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"
      <?php $_f0094b_old_params['_3d7cc5']=$_f0094b_local_params;$_f0094b_old_vars['_3d7cc5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3d7cc5'];$_f0094b_local_vars=$_f0094b_old_vars['_3d7cc5'];?>
>
    &nbsp;
    <span class="time-input"><input id="<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
" type="hidden" step="1" class="form-control time watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'time_col_name','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'time_col_value','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"
      <?php $_f0094b_old_params['_06c4b1']=$_f0094b_local_params;$_f0094b_old_vars['_06c4b1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
readonly<?php endif;$_f0094b_local_params=$_f0094b_old_params['_06c4b1'];$_f0094b_local_vars=$_f0094b_old_vars['_06c4b1'];?>
></span>
    <?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'edit','like'=>'selection','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

  <?php echo $this->function_var($this->setup_args(['name'=>'_split_options','value'=>'0','this_tag'=>'var'],null,$this),$this)?>

  <?php echo $this->modifier_setvar($this->component('PTTags')->filter__eval($this->function_var($this->setup_args(['name'=>'options','_eval'=>'','setvar'=>'_options','this_tag'=>'var'],null,$this),$this),$this->setup_args('','_eval',$this),$this,'_eval'),$this->setup_args('_options','setvar',$this),$this,'setvar')?>

  <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'_options','split'=>',','setvar'=>'_options_loop','this_tag'=>'var'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('_options_loop','setvar',$this),$this,'setvar')?>

  <?php $_f0094b_old_params['_d0fdc1']=$_f0094b_local_params;$_f0094b_old_vars['_d0fdc1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_options','match'=>'.+=.+,.+=.+','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_var($this->setup_args(['name'=>'_split_options','value'=>'1','this_tag'=>'var'],null,$this),$this)?>

    <?php echo $this->function_var($this->setup_args(['name'=>'_spl_loop','value'=>'','this_tag'=>'var'],null,$this),$this)?>

    <?php $c_d9f7ca=null;$_f0094b_old_params['_d9f7ca']=$_f0094b_local_params;$_f0094b_old_vars['_d9f7ca']=$_f0094b_local_vars;$a_d9f7ca=$this->setup_args(['name'=>'_options_loop','this_tag'=>'loop'],null,$this);$_d9f7ca=-1;$r_d9f7ca=true;while($r_d9f7ca===true):$r_d9f7ca=($_d9f7ca!==-1)?false:true;echo $this->block_loop($a_d9f7ca,$c_d9f7ca,$this,$r_d9f7ca,++$_d9f7ca,'_d9f7ca');ob_start();?>
<?php $c_d9f7ca = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_d9f7ca=false;}if($c_d9f7ca ):?>

      <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'__value__','split'=>'=','setvar'=>'key_and_var','this_tag'=>'var'],null,$this),$this),$this->setup_args('=','split',$this),$this,'split'),$this->setup_args('key_and_var','setvar',$this),$this,'setvar')?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'_spl_loop','key'=>'$key_and_var[0]','value'=>'$key_and_var[1]','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$c_d9f7ca=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_d9f7ca'];$_f0094b_local_vars=$_f0094b_old_vars['_d9f7ca'];?>

    <?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'_spl_loop','setvar'=>'_options_loop','this_tag'=>'var'],null,$this),$this),$this->setup_args('_options_loop','setvar',$this),$this,'setvar')?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_d0fdc1'];$_f0094b_local_vars=$_f0094b_old_vars['_d0fdc1'];?>

<div class="row form-group">
  <div class="col-lg-2">
    <label for="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
      <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'label','escape'=>'1','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

      <?php $_f0094b_old_params['_8c3cdf']=$_f0094b_local_params;$_f0094b_old_vars['_8c3cdf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field_required','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8c3cdf'];$_f0094b_local_vars=$_f0094b_old_vars['_8c3cdf'];?>

    </label>
  </div>
  <div class="col-lg-10">
    <?php $_f0094b_old_params['_ce4905']=$_f0094b_local_params;$_f0094b_old_vars['_ce4905']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'disp_edit','eq'=>'checkbox','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->modifier_split($this->function_var($this->setup_args(['name'=>'__col_value__','split'=>',','setvar'=>'_options_arr','this_tag'=>'var'],null,$this),$this),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('_options_arr','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_6a3747']=$_f0094b_local_params;$_f0094b_old_vars['_6a3747']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_93bf63']=$_f0094b_local_params;$_f0094b_old_vars['_93bf63']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar($this->modifier_split(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','split'=>',','setvar'=>'__default_values__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args(',','split',$this),$this,'split'),$this->setup_args('__default_values__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_93bf63'];$_f0094b_local_vars=$_f0094b_old_vars['_93bf63'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6a3747'];$_f0094b_local_vars=$_f0094b_old_vars['_6a3747'];?>

    <?php $c_296600=null;$_f0094b_old_params['_296600']=$_f0094b_local_params;$_f0094b_old_vars['_296600']=$_f0094b_local_vars;$a_296600=$this->setup_args(['name'=>'_options_loop','this_tag'=>'loop'],null,$this);$_296600=-1;$r_296600=true;while($r_296600===true):$r_296600=($_296600!==-1)?false:true;echo $this->block_loop($a_296600,$c_296600,$this,$r_296600,++$_296600,'_296600');ob_start();?>
<?php $c_296600 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_296600=false;}if($c_296600 ):?>

      <label class="custom-control custom-checkbox">
        <?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','value'=>'','this_tag'=>'var'],null,$this),$this)?>

        <?php $_f0094b_old_params['_5ec2bf']=$_f0094b_local_params;$_f0094b_old_vars['_5ec2bf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_split_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php else:?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5ec2bf'];$_f0094b_local_vars=$_f0094b_old_vars['_5ec2bf'];?>

        <input type="checkbox"<?php $_f0094b_old_params['_a25743']=$_f0094b_local_params;$_f0094b_old_vars['_a25743']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_2a3830']=$_f0094b_local_params;$_f0094b_old_vars['_2a3830']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__default_values__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_ef420a']=$_f0094b_local_params;$_f0094b_old_vars['_ef420a']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['value'=>'$__escaped_value__','array'=>'$__default_values__','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
 checked <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ef420a'];$_f0094b_local_vars=$_f0094b_old_vars['_ef420a'];?>

        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2a3830'];$_f0094b_local_vars=$_f0094b_old_vars['_2a3830'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a25743'];$_f0094b_local_vars=$_f0094b_old_vars['_a25743'];?>
<?php $_f0094b_old_params['_358950']=$_f0094b_local_params;$_f0094b_old_vars['_358950']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_358950'];$_f0094b_local_vars=$_f0094b_old_vars['_358950'];?>
 class="custom-control-input watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
[]" value="<?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this)?>
"
        <?php $_f0094b_old_params['_b155e1']=$_f0094b_local_params;$_f0094b_old_vars['_b155e1']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['value'=>'$__escaped_value__','array'=>'$_options_arr','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>
checked<?php else:?>
<?php $_f0094b_old_params['_260024']=$_f0094b_local_params;$_f0094b_old_vars['_260024']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_260024'];$_f0094b_local_vars=$_f0094b_old_vars['_260024'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b155e1'];$_f0094b_local_vars=$_f0094b_old_vars['_b155e1'];?>
>
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"> <?php $_f0094b_old_params['_105e6c']=$_f0094b_local_params;$_f0094b_old_vars['_105e6c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'translate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'$__value__','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_105e6c'];$_f0094b_local_vars=$_f0094b_old_vars['_105e6c'];?>
</span>
      </label>
    <?php endif;$c_296600=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_296600'];$_f0094b_local_vars=$_f0094b_old_vars['_296600'];?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'disp_edit','eq'=>'radio','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_982e9b']=$_f0094b_local_params;$_f0094b_old_vars['_982e9b']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_20048d']=$_f0094b_local_params;$_f0094b_old_vars['_20048d']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'__col_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__col_value__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_20048d'];$_f0094b_local_vars=$_f0094b_old_vars['_20048d'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_982e9b'];$_f0094b_local_vars=$_f0094b_old_vars['_982e9b'];?>

    <?php $c_a1fb59=null;$_f0094b_old_params['_a1fb59']=$_f0094b_local_params;$_f0094b_old_vars['_a1fb59']=$_f0094b_local_vars;$a_a1fb59=$this->setup_args(['name'=>'_options_loop','this_tag'=>'loop'],null,$this);$_a1fb59=-1;$r_a1fb59=true;while($r_a1fb59===true):$r_a1fb59=($_a1fb59!==-1)?false:true;echo $this->block_loop($a_a1fb59,$c_a1fb59,$this,$r_a1fb59,++$_a1fb59,'_a1fb59');ob_start();?>
<?php $c_a1fb59 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_a1fb59=false;}if($c_a1fb59 ):?>

      <?php $_f0094b_old_params['_40cf80']=$_f0094b_local_params;$_f0094b_old_vars['_40cf80']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_de7c95']=$_f0094b_local_params;$_f0094b_old_vars['_de7c95']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'not_null','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <label class="custom-control custom-radio">
        <input class="custom-control-input watch-changed" type="radio" 
        <?php $_f0094b_old_params['_3c945e']=$_f0094b_local_params;$_f0094b_old_vars['_3c945e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3c945e'];$_f0094b_local_vars=$_f0094b_old_vars['_3c945e'];?>

        <?php $_f0094b_old_params['_39e492']=$_f0094b_local_params;$_f0094b_old_vars['_39e492']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
checked<?php else:?>
<?php $_f0094b_old_params['_d701e4']=$_f0094b_local_params;$_f0094b_old_vars['_d701e4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d701e4'];$_f0094b_local_vars=$_f0094b_old_vars['_d701e4'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_39e492'];$_f0094b_local_vars=$_f0094b_old_vars['_39e492'];?>
 name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="">
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>
</span>
      </label>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_de7c95'];$_f0094b_local_vars=$_f0094b_old_vars['_de7c95'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_40cf80'];$_f0094b_local_vars=$_f0094b_old_vars['_40cf80'];?>

      <?php $_f0094b_old_params['_2d162b']=$_f0094b_local_params;$_f0094b_old_vars['_2d162b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <label class="custom-control custom-radio">
        <?php echo $this->function_setvar($this->setup_args(['name'=>'this_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

        <?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','value'=>'','this_tag'=>'var'],null,$this),$this)?>

        <?php $_f0094b_old_params['_952983']=$_f0094b_local_params;$_f0094b_old_vars['_952983']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_split_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php else:?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_952983'];$_f0094b_local_vars=$_f0094b_old_vars['_952983'];?>

        <input class="custom-control-input watch-changed" type="radio"
         <?php $_f0094b_old_params['_cd1c32']=$_f0094b_local_params;$_f0094b_old_vars['_cd1c32']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
onclick="return false;" onkeydown="return false;"<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cd1c32'];$_f0094b_local_vars=$_f0094b_old_vars['_cd1c32'];?>

         <?php $_f0094b_old_params['_195d1f']=$_f0094b_local_params;$_f0094b_old_vars['_195d1f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__col_value__','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_ff904c']=$_f0094b_local_params;$_f0094b_old_vars['_ff904c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'not_null','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_615662']=$_f0094b_local_params;$_f0094b_old_vars['_615662']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__counter__','eq'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_615662'];$_f0094b_local_vars=$_f0094b_old_vars['_615662'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ff904c'];$_f0094b_local_vars=$_f0094b_old_vars['_ff904c'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_195d1f'];$_f0094b_local_vars=$_f0094b_old_vars['_195d1f'];?>

         <?php $_f0094b_old_params['_4f2c5c']=$_f0094b_local_params;$_f0094b_old_vars['_4f2c5c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','eq'=>'$__escaped_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
checked<?php echo $this->function_setvar($this->setup_args(['name'=>'this_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4f2c5c'];$_f0094b_local_vars=$_f0094b_old_vars['_4f2c5c'];?>
 name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" value="<?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this)?>
"
         <?php $_f0094b_old_params['_58e492']=$_f0094b_local_params;$_f0094b_old_vars['_58e492']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'this_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a00cb6']=$_f0094b_local_params;$_f0094b_old_vars['_a00cb6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a00cb6'];$_f0094b_local_vars=$_f0094b_old_vars['_a00cb6'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_58e492'];$_f0094b_local_vars=$_f0094b_old_vars['_58e492'];?>
>
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"><?php $_f0094b_old_params['_d899e2']=$_f0094b_local_params;$_f0094b_old_vars['_d899e2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'translate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'$__value__','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d899e2'];$_f0094b_local_vars=$_f0094b_old_vars['_d899e2'];?>
</span>
      </label>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2d162b'];$_f0094b_local_vars=$_f0094b_old_vars['_2d162b'];?>

    <?php endif;$c_a1fb59=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_a1fb59'];$_f0094b_local_vars=$_f0094b_old_vars['_a1fb59'];?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'disp_edit','eq'=>'select','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_042734']=$_f0094b_local_params;$_f0094b_old_vars['_042734']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_3da5a8']=$_f0094b_local_params;$_f0094b_old_vars['_3da5a8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'forward_params','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'default','escape'=>'','setvar'=>'__col_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__col_value__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3da5a8'];$_f0094b_local_vars=$_f0094b_old_vars['_3da5a8'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_042734'];$_f0094b_local_vars=$_f0094b_old_vars['_042734'];?>

    <select id="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
" class="form-control custom-select watch-changed" name="<?php echo $this->function_var($this->setup_args(['name'=>'__col_name__','this_tag'=>'var'],null,$this),$this)?>
">
    <?php $c_41f436=null;$_f0094b_old_params['_41f436']=$_f0094b_local_params;$_f0094b_old_vars['_41f436']=$_f0094b_local_vars;$a_41f436=$this->setup_args(['name'=>'_options_loop','this_tag'=>'loop'],null,$this);$_41f436=-1;$r_41f436=true;while($r_41f436===true):$r_41f436=($_41f436!==-1)?false:true;echo $this->block_loop($a_41f436,$c_41f436,$this,$r_41f436,++$_41f436,'_41f436');ob_start();?>
<?php $c_41f436 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_41f436=false;}if($c_41f436 ):?>

      <?php $_f0094b_old_params['_656b3d']=$_f0094b_local_params;$_f0094b_old_vars['_656b3d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_8452a8']=$_f0094b_local_params;$_f0094b_old_vars['_8452a8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'not_null','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <option value="" <?php $_f0094b_old_params['_6a6a0d']=$_f0094b_local_params;$_f0094b_old_vars['_6a6a0d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_55cebb']=$_f0094b_local_params;$_f0094b_old_vars['_55cebb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_55cebb'];$_f0094b_local_vars=$_f0094b_old_vars['_55cebb'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6a6a0d'];$_f0094b_local_vars=$_f0094b_old_vars['_6a6a0d'];?>
>
          <?php echo $this->function_trans($this->setup_args(['phrase'=>'Unspecified','this_tag'=>'trans'],null,$this),$this)?>

        </option>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8452a8'];$_f0094b_local_vars=$_f0094b_old_vars['_8452a8'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_656b3d'];$_f0094b_local_vars=$_f0094b_old_vars['_656b3d'];?>

        <?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','value'=>'','this_tag'=>'var'],null,$this),$this)?>

        <?php $_f0094b_old_params['_9d2acd']=$_f0094b_local_params;$_f0094b_old_vars['_9d2acd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_split_options','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__key__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php else:?>
<?php echo $this->modifier_setvar(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','setvar'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('__escaped_value__','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9d2acd'];$_f0094b_local_vars=$_f0094b_old_vars['_9d2acd'];?>

        <option <?php $_f0094b_old_params['_17246f']=$_f0094b_local_params;$_f0094b_old_vars['_17246f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_value__','eq'=>'$__escaped_value__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
selected<?php else:?>
<?php $_f0094b_old_params['_dfbd14']=$_f0094b_local_params;$_f0094b_old_vars['_dfbd14']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'readonly','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
disabled<?php endif;$_f0094b_local_params=$_f0094b_old_params['_dfbd14'];$_f0094b_local_vars=$_f0094b_old_vars['_dfbd14'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_17246f'];$_f0094b_local_vars=$_f0094b_old_vars['_17246f'];?>
 value="<?php echo $this->function_var($this->setup_args(['name'=>'__escaped_value__','this_tag'=>'var'],null,$this),$this)?>
"><?php $_f0094b_old_params['_34c65f']=$_f0094b_local_params;$_f0094b_old_vars['_34c65f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'translate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_trans($this->setup_args(['phrase'=>'$__value__','escape'=>'','this_tag'=>'trans'],null,$this),$this),ENT_QUOTES)?>
<?php else:?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'__value__','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_34c65f'];$_f0094b_local_vars=$_f0094b_old_vars['_34c65f'];?>
</option>
    <?php endif;$c_41f436=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_41f436'];$_f0094b_local_vars=$_f0094b_old_vars['_41f436'];?>

    </select>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ce4905'];$_f0094b_local_vars=$_f0094b_old_vars['_ce4905'];?>

    <?php $_f0094b_old_params['_c5b824']=$_f0094b_local_params;$_f0094b_old_vars['_c5b824']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_hint','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<span style="white-space:nowrap"><?php echo $this->function_var($this->setup_args(['name'=>'_hint','this_tag'=>'var'],null,$this),$this)?>
</span><?php endif;$_f0094b_local_params=$_f0094b_old_params['_c5b824'];$_f0094b_local_vars=$_f0094b_old_vars['_c5b824'];?>

  </div>
</div>
<?php else:?>

  <?php $c_8ccd43=null;$_f0094b_old_params['_8ccd43']=$_f0094b_local_params;$_f0094b_old_vars['_8ccd43']=$_f0094b_local_vars;$a_8ccd43=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'edit','this_tag'=>'var'],null,$this),$this)?>
.tmpl<?php $c_8ccd43=ob_get_clean();$c_8ccd43=$this->block_setvarblock($a_8ccd43,$c_8ccd43,$this,$r_8ccd43,1,'_8ccd43');echo($c_8ccd43); $_f0094b_local_params=$_f0094b_old_params['_8ccd43'];?>

  <?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_caaea4'];$_f0094b_local_vars=$_f0094b_old_vars['_caaea4'];?>

<?php $_f0094b_old_params['_393b98']=$_f0094b_local_params;$_f0094b_old_vars['_393b98']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__col_name__','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_393b98'];$_f0094b_local_vars=$_f0094b_old_vars['_393b98'];?>


<?php $_f0094b_old_params['_549e98']=$_f0094b_local_params;$_f0094b_old_vars['_549e98']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'field__exists','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $c_cc3d69=null;$_f0094b_old_params['_cc3d69']=$_f0094b_local_params;$_f0094b_old_vars['_cc3d69']=$_f0094b_local_vars;$a_cc3d69=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_cc3d69=-1;$r_cc3d69=true;while($r_cc3d69===true):$r_cc3d69=($_cc3d69!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_cc3d69,$c_cc3d69,$this,$r_cc3d69,++$_cc3d69,'_cc3d69');ob_start();?>
<?php $c_cc3d69 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_cc3d69=false;}if($c_cc3d69 ):?>

<?php $_f0094b_old_params['_20064c']=$_f0094b_local_params;$_f0094b_old_vars['_20064c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $c_48dece=null;$_f0094b_old_params['_48dece']=$_f0094b_local_params;$_f0094b_old_vars['_48dece']=$_f0094b_local_vars;$a_48dece=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','build_field'=>'1','this_tag'=>'fieldloop'],null,$this);$_48dece=-1;$r_48dece=true;while($r_48dece===true):$r_48dece=($_48dece!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_48dece,$c_48dece,$this,$r_48dece,++$_48dece,'_48dece');ob_start();?>
<?php $c_48dece = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_48dece=false;}if($c_48dece ):?>

<?php $_f0094b_old_params['_66f7a8']=$_f0094b_local_params;$_f0094b_old_vars['_66f7a8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__display','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_var($this->setup_args(['name'=>'field__html','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_66f7a8'];$_f0094b_local_vars=$_f0094b_old_vars['_66f7a8'];?>

<?php endif;$c_48dece=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_48dece'];$_f0094b_local_vars=$_f0094b_old_vars['_48dece'];?>

<div id="_field_html_area"></div>
<?php $c_7dc9e9=null;$_f0094b_old_params['_7dc9e9']=$_f0094b_local_params;$_f0094b_old_vars['_7dc9e9']=$_f0094b_local_vars;$a_7dc9e9=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_7dc9e9=-1;$r_7dc9e9=true;while($r_7dc9e9===true):$r_7dc9e9=($_7dc9e9!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_7dc9e9,$c_7dc9e9,$this,$r_7dc9e9,++$_7dc9e9,'_7dc9e9');ob_start();?>
<?php $c_7dc9e9 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_7dc9e9=false;}if($c_7dc9e9 ):?>

<?php $_f0094b_old_params['_339153']=$_f0094b_local_params;$_f0094b_old_vars['_339153']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__menu','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'field__exists','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_339153'];$_f0094b_local_vars=$_f0094b_old_vars['_339153'];?>

<?php endif;$c_7dc9e9=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_7dc9e9'];$_f0094b_local_vars=$_f0094b_old_vars['_7dc9e9'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_20064c'];$_f0094b_local_vars=$_f0094b_old_vars['_20064c'];?>

<?php endif;$c_cc3d69=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_cc3d69'];$_f0094b_local_vars=$_f0094b_old_vars['_cc3d69'];?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_field_count','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $c_4d19ce=null;$_f0094b_old_params['_4d19ce']=$_f0094b_local_params;$_f0094b_old_vars['_4d19ce']=$_f0094b_local_vars;$a_4d19ce=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_4d19ce=-1;$r_4d19ce=true;while($r_4d19ce===true):$r_4d19ce=($_4d19ce!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_4d19ce,$c_4d19ce,$this,$r_4d19ce,++$_4d19ce,'_4d19ce');ob_start();?>
<?php $c_4d19ce = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_4d19ce=false;}if($c_4d19ce ):?>

<?php $_f0094b_old_params['_1689d9']=$_f0094b_local_params;$_f0094b_old_vars['_1689d9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__first__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group" id="_field_selector_wrapper">
  <div class="col-lg-2">
    <label for="_field_selector">
      <?php echo $this->function_trans($this->setup_args(['phrase'=>'Fields','this_tag'=>'trans'],null,$this),$this)?>

    </label>
  </div>
  <div class="col-lg-10 form-inline">
    <select id="_field_selector" class="form-control custom-select">
      <option value=""><?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
</option>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1689d9'];$_f0094b_local_vars=$_f0094b_old_vars['_1689d9'];?>

      <?php $_f0094b_old_params['_7177e7']=$_f0094b_local_params;$_f0094b_old_vars['_7177e7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__menu','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<option <?php $_f0094b_old_params['_fbca9a']=$_f0094b_local_params;$_f0094b_old_vars['_fbca9a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__hidden','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
hidden<?php else:?>
<?php echo $this->modifier_setvar($this->modifier_increment($this->function_var($this->setup_args(['name'=>'_field_count','increment'=>'','setvar'=>'_field_count','this_tag'=>'var'],null,$this),$this),$this->setup_args('','increment',$this),$this,'increment'),$this->setup_args('_field_count','setvar',$this),$this,'setvar')?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fbca9a'];$_f0094b_local_vars=$_f0094b_old_vars['_fbca9a'];?>
 id="_selector-field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" data-multiple="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__multiple','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
" class="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-option" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo paml_htmlspecialchars($this->component('PTTags')->filter_trans($this->function_var($this->setup_args(['name'=>'field__name','trans'=>'1','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','trans',$this),$this,'trans'),ENT_QUOTES)?>
</option><?php endif;$_f0094b_local_params=$_f0094b_old_params['_7177e7'];$_f0094b_local_vars=$_f0094b_old_vars['_7177e7'];?>

<?php $_f0094b_old_params['_c270b1']=$_f0094b_local_params;$_f0094b_old_vars['_c270b1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    </select>
    <button type="button" id="_field_chooser" class="btn btn-primary btn-sm"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Add','this_tag'=>'trans'],null,$this),$this)?>
</button>
  </div>
</div>
<script>
<?php $_f0094b_old_params['_530bc0']=$_f0094b_local_params;$_f0094b_old_vars['_530bc0']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_field_count','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

$('#_field_selector_wrapper').hide();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_530bc0'];$_f0094b_local_vars=$_f0094b_old_vars['_530bc0'];?>

$('#_field_chooser').click(function(){
    var field_id = $('#_field_selector').val();
    var wrapper_id;
    if ( field_id ) {
        var basename = $('#_field_selector option:selected').prop('class');
        basename = basename.split(' ');
        basename = basename[0];
        var str = '__mode=get_field_html<?php $_f0094b_old_params['_5e5637']=$_f0094b_local_params;$_f0094b_old_vars['_5e5637']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5e5637'];$_f0094b_local_vars=$_f0094b_old_vars['_5e5637'];?>
&_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
';
        str += '&magic_token=<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
&id=' + field_id;
        wrapper_id = '#field-' + basename + '-wrapper';
        if ( $(wrapper_id).length ) {
            str += '&field__out=1';
        }
        $.post('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
', str,
            function ( data ) {
                if ( data.status != 200 ) {
                    alert( data.message );
                    return;
                }
                var dom_obj = $(data.html);
                var insertFieldHTML = data.html;
                if ( $(wrapper_id).length ) {
                    $(wrapper_id).append(dom_obj);
                } else {
                    var html = $('#_field_html_area').html();
                    $('#_field_html_area').append(dom_obj);
                }
                var multiple = $('#_field_selector option:selected').attr('data-multiple');
                if ( multiple == 0 ) {
                    $('#_selector-field-' + field_id ).attr('hidden','hidden');
                    $('#_field_selector').val('');
                } else {
                    dom_obj.attr('tabindex', 0);
                }
                if ( $('#dispOptions').length ){
                    reorder_fields();
                }
                if ( tinymce && insertFieldHTML.indexOf('<textarea') !== -1 ) {
                    if ( insertFieldHTML.indexOf('richtext') !== -1 ) {
                        var oldTextFormat = null;
                        if ( $('#text_format-select').length ){
                            oldTextFormat = $('#text_format-select').val();
                        }
                        editorInit();
                        if ( oldTextFormat != null ) {
                            if ( oldTextFormat != 'richtext' ) {
                                tinymce.EditorManager.remove();
                                editorMode = oldTextFormat;
                            }
                        }
                    }
                }
            },
            'json'
        );
    } else {
        alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'You did not select any field.','this_tag'=>'trans'],null,$this),$this)?>
');
    }
});
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c270b1'];$_f0094b_local_vars=$_f0094b_old_vars['_c270b1'];?>

<?php endif;$c_4d19ce=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_4d19ce'];$_f0094b_local_vars=$_f0094b_old_vars['_4d19ce'];?>

<?php $_f0094b_old_params['_b58efd']=$_f0094b_local_params;$_f0094b_old_vars['_b58efd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revisable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'object_rev_object_id','setvar'=>'object_rev_object_id','this_tag'=>'var'],null,$this),$this),$this->setup_args('object_rev_object_id','setvar',$this),$this,'setvar')?>

<input type="hidden" name="rev_object_id" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_rev_object_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<?php $_f0094b_old_params['_82cf41']=$_f0094b_local_params;$_f0094b_old_vars['_82cf41']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['column'=>'status','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php else:?>

<input type="hidden" name="rev_type" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_rev_type','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_82cf41'];$_f0094b_local_vars=$_f0094b_old_vars['_82cf41'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b58efd'];$_f0094b_local_vars=$_f0094b_old_vars['_b58efd'];?>

<?php $c_f786c7=null;$_f0094b_old_params['_f786c7']=$_f0094b_local_params;$_f0094b_old_vars['_f786c7']=$_f0094b_local_vars;$a_f786c7=$this->setup_args(['name'=>'modified_col','this_tag'=>'setvarblock'],null,$this);ob_start();?>

  <div class="col-lg-2">
    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Modified','this_tag'=>'trans'],null,$this),$this)?>

  </div>
  <div class="col-lg-<?php $_f0094b_old_params['_b6840b']=$_f0094b_local_params;$_f0094b_old_vars['_b6840b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
4<?php else:?>
3<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b6840b'];$_f0094b_local_vars=$_f0094b_old_vars['_b6840b'];?>
">
    <?php $_f0094b_old_params['_2a466a']=$_f0094b_local_params;$_f0094b_old_vars['_2a466a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'log','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_da2b1b']=$_f0094b_local_params;$_f0094b_old_vars['_da2b1b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'object_created_by','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$object_created_by','type'=>'reference:user:nickname','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

      <?php else:?>

        <?php echo $this->function_trans($this->setup_args(['phrase'=>'System','this_tag'=>'trans'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_da2b1b'];$_f0094b_local_vars=$_f0094b_old_vars['_da2b1b'];?>

    <?php else:?>

      <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$object_modified_by','type'=>'reference:user:nickname','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2a466a'];$_f0094b_local_vars=$_f0094b_old_vars['_2a466a'];?>

  </div>
  <div class="col-lg-<?php $_f0094b_old_params['_4ecadc']=$_f0094b_local_params;$_f0094b_old_vars['_4ecadc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
6<?php else:?>
7<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ecadc'];$_f0094b_local_vars=$_f0094b_old_vars['_4ecadc'];?>
">
    <?php $_f0094b_old_params['_11b8ef']=$_f0094b_local_params;$_f0094b_old_vars['_11b8ef']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'object_modified_on','ne'=>'000000','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_modified_on','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_11b8ef'];$_f0094b_local_vars=$_f0094b_old_vars['_11b8ef'];?>

<?php $_f0094b_old_params['_0c7fef']=$_f0094b_local_params;$_f0094b_old_vars['_0c7fef']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request._duplicate','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_3f5722']=$_f0094b_local_params;$_f0094b_old_vars['_3f5722']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_c47b8c']=$_f0094b_local_params;$_f0094b_old_vars['_c47b8c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revision_count','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

&nbsp;
  <i class="fa fa-code-fork" aria-hidden="true"></i> <?php echo $this->function_trans($this->setup_args(['phrase'=>'%s revision(s)','params'=>'$_revision_count','this_tag'=>'trans'],null,$this),$this)?>

  <button type="button" class="btn btn-primary btn-sm dialog-chooser" data-toggle="modal" data-target="#modal"
    data-href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_53d3e5']=$_f0094b_local_params;$_f0094b_old_vars['_53d3e5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_53d3e5'];$_f0094b_local_vars=$_f0094b_old_vars['_53d3e5'];?>
&amp;dialog_view=1&amp;single_select=1&amp;revision_select=1&amp;rev_object_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&amp;ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Select...','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <a target="_blank" class="btn btn-secondary btn-sm dialog-chooser"
    href="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&amp;_type=list&amp;_model=<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
<?php $_f0094b_old_params['_11f7e0']=$_f0094b_local_params;$_f0094b_old_vars['_11f7e0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&amp;workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_11f7e0'];$_f0094b_local_vars=$_f0094b_old_vars['_11f7e0'];?>
&amp;revision_select=1&amp;rev_object_id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
    <i class="fa fa-external-link-square" aria-hidden="true"></i>
    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Manage','this_tag'=>'trans'],null,$this),$this)?>
</span>
  </a>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c47b8c'];$_f0094b_local_vars=$_f0094b_old_vars['_c47b8c'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_3f5722'];$_f0094b_local_vars=$_f0094b_old_vars['_3f5722'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0c7fef'];$_f0094b_local_vars=$_f0094b_old_vars['_0c7fef'];?>

  </div>
<?php $c_f786c7=ob_get_clean();$c_f786c7=$this->block_setvarblock($a_f786c7,$c_f786c7,$this,$r_f786c7,1,'_f786c7');echo($c_f786c7); $_f0094b_local_params=$_f0094b_old_params['_f786c7'];?>

<?php $_f0094b_old_params['_6c4d81']=$_f0094b_local_params;$_f0094b_old_vars['_6c4d81']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'log','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <?php echo $this->function_var($this->setup_args(['name'=>'modified_col','this_tag'=>'var'],null,$this),$this)?>

</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6c4d81'];$_f0094b_local_vars=$_f0094b_old_vars['_6c4d81'];?>

<?php $_f0094b_old_params['_4f84a5']=$_f0094b_local_params;$_f0094b_old_vars['_4f84a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'user','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_8e81ba']=$_f0094b_local_params;$_f0094b_old_vars['_8e81ba']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_isadmin($this->setup_args(['this_tag'=>'isadmin'],null,$this),null,$this,true,true)):?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_auditing','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8e81ba'];$_f0094b_local_vars=$_f0094b_old_vars['_8e81ba'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4f84a5'];$_f0094b_local_vars=$_f0094b_old_vars['_4f84a5'];?>

<?php $_f0094b_old_params['_72495a']=$_f0094b_local_params;$_f0094b_old_vars['_72495a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_auditing','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Created','this_tag'=>'trans'],null,$this),$this)?>

  </div>
  <div class="col-lg-<?php $_f0094b_old_params['_56135d']=$_f0094b_local_params;$_f0094b_old_vars['_56135d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
4<?php else:?>
3<?php endif;$_f0094b_local_params=$_f0094b_old_params['_56135d'];$_f0094b_local_vars=$_f0094b_old_vars['_56135d'];?>
">
    <?php $_f0094b_old_params['_2d92c3']=$_f0094b_local_params;$_f0094b_old_vars['_2d92c3']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'object_created_by','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_937c60']=$_f0094b_local_params;$_f0094b_old_vars['_937c60']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php echo $this->function_trans($this->setup_args(['phrase'=>'System','this_tag'=>'trans'],null,$this),$this)?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_937c60'];$_f0094b_local_vars=$_f0094b_old_vars['_937c60'];?>

    <?php else:?>

      <?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_getobjectname($this->setup_args(['id'=>'$object_created_by','type'=>'reference:user:nickname','escape'=>'','this_tag'=>'getobjectname'],null,$this),$this),ENT_QUOTES)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2d92c3'];$_f0094b_local_vars=$_f0094b_old_vars['_2d92c3'];?>

  </div>
  <div class="col-lg-<?php $_f0094b_old_params['_7e1fbc']=$_f0094b_local_params;$_f0094b_old_vars['_7e1fbc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
6<?php else:?>
7<?php endif;$_f0094b_local_params=$_f0094b_old_params['_7e1fbc'];$_f0094b_local_vars=$_f0094b_old_vars['_7e1fbc'];?>
">
     <?php $_f0094b_old_params['_05f070']=$_f0094b_local_params;$_f0094b_old_vars['_05f070']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'object_created_on','ne'=>'000000','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_created_on','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_05f070'];$_f0094b_local_vars=$_f0094b_old_vars['_05f070'];?>

<?php $_f0094b_old_params['_0c701e']=$_f0094b_local_params;$_f0094b_old_vars['_0c701e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_c15a49']=$_f0094b_local_params;$_f0094b_old_vars['_c15a49']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_master_updated','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    &nbsp;
    <input type="hidden" name="_created_on_update" value="0">
    <label class="custom-control custom-checkbox ml-3">
    <input id="_created_on_update" class="custom-control-input watch-changed"
     type="checkbox" name="_created_on_update" value="1">
        <span class="custom-control-indicator"></span>
        <span class="custom-control-description"> 
        <?php echo $this->function_trans($this->setup_args(['phrase'=>'Update Date Created','this_tag'=>'trans'],null,$this),$this)?>
</span>
    </label>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c15a49'];$_f0094b_local_vars=$_f0094b_old_vars['_c15a49'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0c701e'];$_f0094b_local_vars=$_f0094b_old_vars['_0c701e'];?>

  </div>
</div>

<div class="row form-group">
  <?php echo $this->function_var($this->setup_args(['name'=>'modified_col','this_tag'=>'var'],null,$this),$this)?>

</div>

<?php $_f0094b_old_params['_374214']=$_f0094b_local_params;$_f0094b_old_vars['_374214']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_b72f0d']=$_f0094b_local_params;$_f0094b_old_vars['_b72f0d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revisable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<div class="row form-group">
  <div class="col-lg-2">
    <?php echo $this->function_trans($this->setup_args(['phrase'=>'Change Note','this_tag'=>'trans'],null,$this),$this)?>

  </div>
  <div class="col-lg-10">
    <input type="text" id="rev_note" class="form-control form-control-sm watch-changed" name="rev_note" value="">
    <input type="hidden" id="__rev_note" name="__rev_note" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_rev_note','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <?php $_f0094b_old_params['_f4ae64']=$_f0094b_local_params;$_f0094b_old_vars['_f4ae64']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'object_rev_note','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <p class="text-muted mt-2">
    <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
    <span class="sr-only"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Last Update','this_tag'=>'trans'],null,$this),$this)?>
</span>
    <?php echo $this->modifier_format_ts($this->function_var($this->setup_args(['name'=>'object_modified_on','format_ts'=>'Y-m-d H:i','this_tag'=>'var'],null,$this),$this),$this->setup_args('Y-m-d H:i','format_ts',$this),$this,'format_ts')?>
 : <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'object_rev_note','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>

    </p>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_f4ae64'];$_f0094b_local_vars=$_f0094b_old_vars['_f4ae64'];?>

  </div>
</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b72f0d'];$_f0094b_local_vars=$_f0094b_old_vars['_b72f0d'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_374214'];$_f0094b_local_vars=$_f0094b_old_vars['_374214'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_72495a'];$_f0094b_local_vars=$_f0094b_old_vars['_72495a'];?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'object_text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_549e98'];$_f0094b_local_vars=$_f0094b_old_vars['_549e98'];?>

<?php $_f0094b_old_params['_f67dac']=$_f0094b_local_params;$_f0094b_old_vars['_f67dac']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__last__','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_e23d42']=$_f0094b_local_params;$_f0094b_old_vars['_e23d42']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'object_status','gt'=>'$max_status_for_create_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'can_revision','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e23d42'];$_f0094b_local_vars=$_f0094b_old_vars['_e23d42'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f67dac'];$_f0094b_local_vars=$_f0094b_old_vars['_f67dac'];?>

<?php endif;$c_504d52=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_504d52'];$_f0094b_local_vars=$_f0094b_old_vars['_504d52'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9b1e49'];$_f0094b_local_vars=$_f0094b_old_vars['_9b1e49'];?>

<?php $_f0094b_old_params['_edaea4']=$_f0094b_local_params;$_f0094b_old_vars['_edaea4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'col_right','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  </div>
  <div class="col-lg-3 mt-2 col-2-col">
    <?php echo $this->function_var($this->setup_args(['name'=>'col_right','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_edaea4'];$_f0094b_local_vars=$_f0094b_old_vars['_edaea4'];?>

<hr>
<?php $c_0f42dc=null;$_f0094b_old_params['_0f42dc']=$_f0094b_local_params;$_f0094b_old_vars['_0f42dc']=$_f0094b_local_vars;$a_0f42dc=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
/form_footer.tmpl<?php $c_0f42dc=ob_get_clean();$c_0f42dc=$this->block_setvarblock($a_0f42dc,$c_0f42dc,$this,$r_0f42dc,1,'_0f42dc');echo($c_0f42dc); $_f0094b_local_params=$_f0094b_old_params['_0f42dc'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php echo $this->function_var($this->setup_args(['name'=>'form_footer','this_tag'=>'var'],null,$this),$this)?>

<div class="row form-group edit-action-bar<?php $_f0094b_old_params['_03d9e7']=$_f0094b_local_params;$_f0094b_old_vars['_03d9e7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a13936']=$_f0094b_local_params;$_f0094b_old_vars['_a13936']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'debug_mode','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 mb-5<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a13936'];$_f0094b_local_vars=$_f0094b_old_vars['_a13936'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_03d9e7'];$_f0094b_local_vars=$_f0094b_old_vars['_03d9e7'];?>
">
  <div class="col-lg-12<?php $_f0094b_old_params['_c833f8']=$_f0094b_local_params;$_f0094b_old_vars['_c833f8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_072a63']=$_f0094b_local_params;$_f0094b_old_vars['_072a63']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'debug_mode','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 mb-5<?php endif;$_f0094b_local_params=$_f0094b_old_params['_072a63'];$_f0094b_local_vars=$_f0094b_old_vars['_072a63'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c833f8'];$_f0094b_local_vars=$_f0094b_old_vars['_c833f8'];?>
">
  <?php $_f0094b_old_params['_49f60a']=$_f0094b_local_params;$_f0094b_old_vars['_49f60a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','ne'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button disabled type="button" id="__save" class="__save btn btn-primary disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_49f60a'];$_f0094b_local_vars=$_f0094b_old_vars['_49f60a'];?>

  <?php $_f0094b_old_params['_b8c313']=$_f0094b_local_params;$_f0094b_old_vars['_b8c313']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_1fcfab']=$_f0094b_local_params;$_f0094b_old_vars['_1fcfab']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_426414']=$_f0094b_local_params;$_f0094b_old_vars['_426414']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request._duplicate','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_fe8159']=$_f0094b_local_params;$_f0094b_old_vars['_fe8159']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'model','eq'=>'user','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_db0ea0']=$_f0094b_local_params;$_f0094b_old_vars['_db0ea0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_delete','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

          <button disabled type="button" id="__delete" class="btn btn-secondary disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Delete','this_tag'=>'trans'],null,$this),$this)?>
</button>
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_db0ea0'];$_f0094b_local_vars=$_f0094b_old_vars['_db0ea0'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fe8159'];$_f0094b_local_vars=$_f0094b_old_vars['_fe8159'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_426414'];$_f0094b_local_vars=$_f0094b_old_vars['_426414'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1fcfab'];$_f0094b_local_vars=$_f0094b_old_vars['_1fcfab'];?>

  <?php else:?>

  <button id="dialog-cancel-btn" class="btn btn-secondary" type="button"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Cancel','this_tag'=>'trans'],null,$this),$this)?>
</button>
<script>
$('#dialog-cancel-btn').click(function(){
    if ( editContentChanged ) {
        if (! confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to move from this page? The changes you made are not reflected.','this_tag'=>'trans'],null,$this),$this)?>
') ) {
            return false;
        }
    }
    $(window).off('beforeunload');
    window.location.href = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading';
    window.parent.$('#modal').modal('hide');
    return false;
});
</script>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b8c313'];$_f0094b_local_vars=$_f0094b_old_vars['_b8c313'];?>

  <?php $_f0094b_old_params['_1802d2']=$_f0094b_local_params;$_f0094b_old_vars['_1802d2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_has_mapping','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'select_preview_urlmap','setvar'=>'select_preview_urlmap','this_tag'=>'property'],null,$this),$this),$this->setup_args('select_preview_urlmap','setvar',$this),$this,'setvar')?>

    <?php $_f0094b_old_params['_04c4cc']=$_f0094b_local_params;$_f0094b_old_vars['_04c4cc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'select_preview_urlmap','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_32016d']=$_f0094b_local_params;$_f0094b_old_vars['_32016d']=$_f0094b_local_vars;if($this->conditional_isarray($this->setup_args(['array'=>'_has_mapping','this_tag'=>'isarray'],null,$this),null,$this,true,true)):?>

      <?php echo $this->modifier_setvar($this->function_count($this->setup_args(['name'=>'_has_mapping','setvar'=>'urlmap_count','this_tag'=>'count'],null,$this),$this),$this->setup_args('urlmap_count','setvar',$this),$this,'setvar')?>

      <?php $_f0094b_old_params['_b9656f']=$_f0094b_local_params;$_f0094b_old_vars['_b9656f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'urlmap_count','gt'=>'1','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

       <select aria-label="<?php echo $this->function_trans($this->setup_args(['phrase'=>'Select a URL Map...','this_tag'=>'trans'],null,$this),$this)?>
" name="__urlmap_id" class="custom-select form-control form-control-sm <?php $_f0094b_old_params['_766e4f']=$_f0094b_local_params;$_f0094b_old_vars['_766e4f']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
ml-3<?php endif;$_f0094b_local_params=$_f0094b_old_params['_766e4f'];$_f0094b_local_vars=$_f0094b_old_vars['_766e4f'];?>
" style="height:38px;margin-top:1px;width:200px;">
          <?php $c_95031f=null;$_f0094b_old_params['_95031f']=$_f0094b_local_params;$_f0094b_old_vars['_95031f']=$_f0094b_local_vars;$a_95031f=$this->setup_args(['name'=>'_has_mapping','this_tag'=>'loop'],null,$this);$_95031f=-1;$r_95031f=true;while($r_95031f===true):$r_95031f=($_95031f!==-1)?false:true;echo $this->block_loop($a_95031f,$c_95031f,$this,$r_95031f,++$_95031f,'_95031f');ob_start();?>
<?php $c_95031f = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_95031f=false;}if($c_95031f ):?>

          <option value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'urlmapping_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
"><?php echo paml_htmlspecialchars($this->modifier_trim_to($this->function_var($this->setup_args(['name'=>'urlmapping_name','trim_to'=>'30,...','escape'=>'','this_tag'=>'var'],null,$this),$this),$this->setup_args('30,...','trim_to',$this),$this,'trim_to'),ENT_QUOTES)?>
</option>
          <?php endif;$c_95031f=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_95031f'];$_f0094b_local_vars=$_f0094b_old_vars['_95031f'];?>

       </select>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b9656f'];$_f0094b_local_vars=$_f0094b_old_vars['_b9656f'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_32016d'];$_f0094b_local_vars=$_f0094b_old_vars['_32016d'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_04c4cc'];$_f0094b_local_vars=$_f0094b_old_vars['_04c4cc'];?>

    <button disabled type="button" id="__preview" class="btn btn-secondary disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Preview','this_tag'=>'trans'],null,$this),$this)?>
</button>
    <?php $_f0094b_old_params['_aba7f0']=$_f0094b_local_params;$_f0094b_old_vars['_aba7f0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'template','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_033630']=$_f0094b_local_params;$_f0094b_old_vars['_033630']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__can_rebuild_this_template','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <input type="hidden" name="__can_rebuild_this_template" value="1">
      <input type="hidden" name="__save_and_publish" value="" id="__save_and_publish_flg">
      <button disabled type="button" name="__save_and_publish" id="__save_and_publish" value="1" class="btn btn-secondary btn-sm __save_and_publish disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save &amp; Publish','this_tag'=>'trans'],null,$this),$this)?>
</button>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_033630'];$_f0094b_local_vars=$_f0094b_old_vars['_033630'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_aba7f0'];$_f0094b_local_vars=$_f0094b_old_vars['_aba7f0'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1802d2'];$_f0094b_local_vars=$_f0094b_old_vars['_1802d2'];?>

<?php $_f0094b_old_params['_cb85b7']=$_f0094b_local_params;$_f0094b_old_vars['_cb85b7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_214696']=$_f0094b_local_params;$_f0094b_old_vars['_214696']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revisable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_a06266']=$_f0094b_local_params;$_f0094b_old_vars['_a06266']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_a0e6d0']=$_f0094b_local_params;$_f0094b_old_vars['_a0e6d0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_master_deleted','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <script>
    $('#alert-revision-message').html( "<span><?php echo $this->function_trans($this->setup_args(['phrase'=>'You are about to edit the revision. To change this revision to the master click the \'Change to Master\' button.','this_tag'=>'trans'],null,$this),$this)?>
</span>" );
    </script>
    <button disabled type="button" id="__change_to_master" class="btn btn-secondary btn-sm __change_to_master disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Change to Master','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <?php else:?>

  <?php $_f0094b_old_params['_3a1bac']=$_f0094b_local_params;$_f0094b_old_vars['_3a1bac']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_ifusercan($this->setup_args(['id'=>'$object_rev_object_id','model'=>'$_model','this_tag'=>'ifusercan'],null,$this),null,$this,true,true)):?>

    <script>
    $('#alert-revision-message').html( '<span><?php echo $this->function_trans($this->setup_args(['phrase'=>'You are about to edit the revision. To apply this revision to the master click the \\\'Apply to Master\\\' button.','this_tag'=>'trans'],null,$this),$this)?>
</span>' );
    </script>
    <button disabled type="button" id="__apply_to_master" class="ml-3 btn btn-secondary btn-sm __apply_to_master disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Apply to Master','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_3a1bac'];$_f0094b_local_vars=$_f0094b_old_vars['_3a1bac'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0e6d0'];$_f0094b_local_vars=$_f0094b_old_vars['_a0e6d0'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a06266'];$_f0094b_local_vars=$_f0094b_old_vars['_a06266'];?>

  <?php $_f0094b_old_params['_2199e7']=$_f0094b_local_params;$_f0094b_old_vars['_2199e7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_bf3b86']=$_f0094b_local_params;$_f0094b_old_vars['_bf3b86']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_5ea6e2']=$_f0094b_local_params;$_f0094b_old_vars['_5ea6e2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button disabled type="button" id="__save_as_revision" class="ml-3 btn btn-secondary btn-sm __save_as_revision disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save as Revision','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5ea6e2'];$_f0094b_local_vars=$_f0094b_old_vars['_5ea6e2'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bf3b86'];$_f0094b_local_vars=$_f0094b_old_vars['_bf3b86'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_2199e7'];$_f0094b_local_vars=$_f0094b_old_vars['_2199e7'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_214696'];$_f0094b_local_vars=$_f0094b_old_vars['_214696'];?>

<?php $_f0094b_old_params['_6343fd']=$_f0094b_local_params;$_f0094b_old_vars['_6343fd']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_6b343e']=$_f0094b_local_params;$_f0094b_old_vars['_6b343e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button disabled type="button" id="__export" class="btn btn-danger btn-sm disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Export','this_tag'=>'trans'],null,$this),$this)?>
</button>
    <button disabled type="button" id="__export_csv" class="ml-3 btn btn-warning btn-sm disabled-btn" style="color:black"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Export CSV','this_tag'=>'trans'],null,$this),$this)?>
</button>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6b343e'];$_f0094b_local_vars=$_f0094b_old_vars['_6b343e'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6343fd'];$_f0094b_local_vars=$_f0094b_old_vars['_6343fd'];?>

<?php $_f0094b_old_params['_cc31e7']=$_f0094b_local_params;$_f0094b_old_vars['_cc31e7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'menu_type','ne'=>'3','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_ad64b2']=$_f0094b_local_params;$_f0094b_old_vars['_ad64b2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','ne'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_646d0d']=$_f0094b_local_params;$_f0094b_old_vars['_646d0d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','ne'=>'user','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php $_f0094b_old_params['_48a7f0']=$_f0094b_local_params;$_f0094b_old_vars['_48a7f0']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_b2b785']=$_f0094b_local_params;$_f0094b_old_vars['_b2b785']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'can_duplicate','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <button disabled type="button" id="__duplicate" class="ml-3 btn btn-secondary btn-sm disabled-btn disabled-btn"><?php echo $this->function_trans($this->setup_args(['phrase'=>'Save &amp; Duplicate','this_tag'=>'trans'],null,$this),$this)?>
</button>
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b2b785'];$_f0094b_local_vars=$_f0094b_old_vars['_b2b785'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_48a7f0'];$_f0094b_local_vars=$_f0094b_old_vars['_48a7f0'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_646d0d'];$_f0094b_local_vars=$_f0094b_old_vars['_646d0d'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ad64b2'];$_f0094b_local_vars=$_f0094b_old_vars['_ad64b2'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cc31e7'];$_f0094b_local_vars=$_f0094b_old_vars['_cc31e7'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cb85b7'];$_f0094b_local_vars=$_f0094b_old_vars['_cb85b7'];?>

<?php echo $this->function_var($this->setup_args(['name'=>'add_edit_action_bar','this_tag'=>'var'],null,$this),$this)?>

  </div>
</div>

<script>
window.addEventListener('load', function(){
    $('.disabled-btn').removeAttr('disabled');
});
var editContentChanged = false;
<?php $_f0094b_old_params['_8a2ae4']=$_f0094b_local_params;$_f0094b_old_vars['_8a2ae4']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

editContentChanged = true;
<?php else:?>

setTimeout(setEditContentChanged, 500);
function setEditContentChanged () {
    editContentChanged = false;
}
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8a2ae4'];$_f0094b_local_vars=$_f0094b_old_vars['_8a2ae4'];?>

$('.watch-changed').change(function(){
    editContentChanged = true;
});
$(function(){
    $(window).on('beforeunload', function() {
        if (! editContentChanged ) {
            $(window).off('beforeunload');
            return;
        }
        return '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to move from this page? The changes you made are not reflected.','this_tag'=>'trans'],null,$this),$this)?>
';
    });
});
$('#__preview').click(async function(){
    $('#_preview').val(1);
    $('#edit-form-main').attr('target', '<?php echo paml_htmlspecialchars($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'request_id','escape'=>'','this_tag'=>'property'],null,$this),$this),ENT_QUOTES)?>
');
    $('#edit-form-main').submit();
});
$('#__duplicate').click(async function(){
    if ( !confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to save this %s and duplicate?','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
') ) {
        return false;
    }
    $('#_duplicate').val(1);
    <?php $_f0094b_old_params['_220309']=$_f0094b_local_params;$_f0094b_old_vars['_220309']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    if (! file_file_selected || ! $('#label').val() ) {
        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'File and Label are required.','this_tag'=>'trans'],null,$this),$this)?>
' );
        return false;
    }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_220309'];$_f0094b_local_vars=$_f0094b_old_vars['_220309'];?>

    $(this).attr('disabled', true);
    $('#_preview').val('');
    $('#edit-form-main').removeAttr('target');
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
});
<?php $_f0094b_old_params['_eca5f1']=$_f0094b_local_params;$_f0094b_old_vars['_eca5f1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','ne'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('.__save').click(async function(){
    <?php $_f0094b_old_params['_0bfebc']=$_f0094b_local_params;$_f0094b_old_vars['_0bfebc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    if (! file_file_selected || ! $('#label').val() ) {
        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'File and Label are required.','this_tag'=>'trans'],null,$this),$this)?>
' );
        return false;
    }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0bfebc'];$_f0094b_local_vars=$_f0094b_old_vars['_0bfebc'];?>

    <?php $_f0094b_old_params['_671520']=$_f0094b_local_params;$_f0094b_old_vars['_671520']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'workspace','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'reset_url_method','setvar'=>'reset_url_method','this_tag'=>'property'],null,$this),$this),$this->setup_args('reset_url_method','setvar',$this),$this,'setvar')?>

      <?php $_f0094b_old_params['_b18a30']=$_f0094b_local_params;$_f0094b_old_vars['_b18a30']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'reset_url_method','eq'=>'rename','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php $_f0094b_old_params['_9dd2ed']=$_f0094b_local_params;$_f0094b_old_vars['_9dd2ed']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    if ( $('#site_path').val() != '<?php echo $this->function_var($this->setup_args(['name'=>'workepace_site_path','this_tag'=>'var'],null,$this),$this)?>
' ) {
        if(! confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Changing the site path will move all current files to the new file path. Are you sure you want to save your settings?','this_tag'=>'trans'],null,$this),$this)?>
') ) {
            return false;
        }
    }
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9dd2ed'];$_f0094b_local_vars=$_f0094b_old_vars['_9dd2ed'];?>

      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_b18a30'];$_f0094b_local_vars=$_f0094b_old_vars['_b18a30'];?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_671520'];$_f0094b_local_vars=$_f0094b_old_vars['_671520'];?>

    <?php echo $this->function_var($this->setup_args(['name'=>'__add_save_event','this_tag'=>'var'],null,$this),$this)?>

    $(this).attr('disabled', true);
    $('#_preview').val('');
    $('#edit-form-main').removeAttr('target');
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
    return false;
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_eca5f1'];$_f0094b_local_vars=$_f0094b_old_vars['_eca5f1'];?>

$('.__save_and_publish').click(async function(){
    <?php echo $this->function_var($this->setup_args(['name'=>'__add_save_event','this_tag'=>'var'],null,$this),$this)?>

    $(this).attr('disabled', true);
    $('#_preview').val('');
    $('#__save_and_publish_flg').val(1);
    $('#edit-form-main').removeAttr('target');
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
    return false;
});
<?php $_f0094b_old_params['_14e159']=$_f0094b_local_params;$_f0094b_old_vars['_14e159']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_revisable','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('.__save_as_revision').click(async function(){
    if ( !confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to save this %s as a revision instead of a master?','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
') ) {
        return false;
    }
    <?php $_f0094b_old_params['_8f3756']=$_f0094b_local_params;$_f0094b_old_vars['_8f3756']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    if (! file_file_selected || ! $('#label').val() ) {
        // TODO label
        alert( '<?php echo $this->function_trans($this->setup_args(['phrase'=>'File and Label are required.','this_tag'=>'trans'],null,$this),$this)?>
' );
        return false;
    }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_8f3756'];$_f0094b_local_vars=$_f0094b_old_vars['_8f3756'];?>

    $('#_save_as_revision').val('1');
    $('#_preview').val('');
    $('#edit-form-main').removeAttr('target');
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
    return false;
});
<?php $_f0094b_old_params['_ec3fbf']=$_f0094b_local_params;$_f0094b_old_vars['_ec3fbf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.edit_revision','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    $('.__apply_to_master').click(function(){
        if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to apply this revision to master?','this_tag'=>'trans'],null,$this),$this)?>
<?php $_f0094b_old_params['_63bee0']=$_f0094b_local_params;$_f0094b_old_vars['_63bee0']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['column'=>'status','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>
(<?php echo $this->function_trans($this->setup_args(['phrase'=>'The status at apply will be status of the master.','this_tag'=>'trans'],null,$this),$this)?>
 ( <?php echo $this->function_trans($this->setup_args(['phrase'=>'Current status of Master','this_tag'=>'trans'],null,$this),$this)?>
 : <?php echo $this->component('PTTags')->hdlr_statustext($this->setup_args(['status'=>'$_master_status','text'=>'1','model'=>'$model','this_tag'=>'statustext'],null,$this),$this)?>
) )<?php endif;$_f0094b_local_params=$_f0094b_old_params['_63bee0'];$_f0094b_local_vars=$_f0094b_old_vars['_63bee0'];?>
')){
            return false;
        }
        $('#_preview').val('');
        $('#edit-form-main').removeAttr('target');
        $(window).off('beforeunload');
        $('#id').val('<?php echo $this->function_var($this->setup_args(['name'=>'object_rev_object_id','this_tag'=>'var'],null,$this),$this)?>
');
        $('#_apply_to_master').val('1');
        $('#edit-form-main').submit();
        return false;
    });
    $('.__change_to_master').click(function(){
        if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to change this revision to master?','this_tag'=>'trans'],null,$this),$this)?>
')){
            return false;
        }
        $('#_preview').val('');
        $('#edit-form-main').removeAttr('target');
        $(window).off('beforeunload');
        // $('#id').val('<?php echo $this->function_var($this->setup_args(['name'=>'object_rev_object_id','this_tag'=>'var'],null,$this),$this)?>
');
        $('#_change_to_master').val('1');
        $('#edit-form-main').submit();
        return false;
    });
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ec3fbf'];$_f0094b_local_vars=$_f0094b_old_vars['_ec3fbf'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_14e159'];$_f0094b_local_vars=$_f0094b_old_vars['_14e159'];?>

</script>
<?php $_f0094b_old_params['_fe0aaa']=$_f0094b_local_params;$_f0094b_old_vars['_fe0aaa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_0eaa22']=$_f0094b_local_params;$_f0094b_old_vars['_0eaa22']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
var error_message;
$('.__save').click(function(){
    $('#_preview').val('');
    $('#edit-form-main').removeAttr('target');
    $(window).off('beforeunload');
    $('#__validation').val('1');
    $('#__mode').prop('value', 'save');
    (function($) {
        let $target = $('#column_data');
        let json_data_name = 'json_data';
        let $json_data_textarea = $('textarea[name=' + json_data_name + ']');
        if (!$json_data_textarea.length ) {
            $json_data_textarea = $('<textarea>')
                .attr('name','json_data')
                .hide()
                .insertAfter($target);
        } else {
            $json_data_textarea.val('');
        }
        let input_data = {};
        $target.find('input,select,textarea').filter('[name]:enabled').each(function() {
            let $this = $(this);
            let name = $this.attr('name');
            let type = $this.attr('type');
            let val = $this.val();
            let is_multiple = false;
            if ( ( /\[.*\]$/).test(name) ) {
                name = name.replace(/\[.*\]$/,'');
                is_multiple = true;
            }
            if ( ( type && type == 'checkbox') && !$this.prop('checked') ) {
                return true;
            }
            if ( ( type && type == 'radio') && !$this.prop('checked') ) {
                return true;
            }
            if(input_data[name]) {
                if(Array.isArray(input_data[name]) ) {
                    input_data[name].push(val);
                }else{
                    input_data[name] = [input_data[name],val];
                }
            }else{
                if(!is_multiple ) {
                    input_data[name] = val;
                }else{
                    input_data[name] = [val];
                }
            }
            $this.prop('disabled',true);
            $this.attr('data-temp_disabled','1');
        });
        $json_data_textarea.val( JSON.stringify(input_data) );
    })(jQuery);
    let str = $('#edit-form-main').serialize();
    $.post('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
', str,
        function ( data ) {
            if ( data.status == 500 ) {
                error_message = data.error;
                setTimeout(ajax_failed, 1);
                return;
            }
            $('#__validation').val('');
            $('.__save').attr('disabled', true);
            $('#edit-form-main').submit();
            return false;
        },
        'json'
    );
    return false;
});
function ajax_failed () {
    alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred.','this_tag'=>'trans'],null,$this),$this)?>
'+error_message);
    $('[data-temp_disabled]').prop('disabled',false).removeAttr('data-temp_disabled');
}
</script>
<?php else:?>

<script>
$('.__save').click(function(){
    $(this).attr('disabled', true);
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
});
</script>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0eaa22'];$_f0094b_local_vars=$_f0094b_old_vars['_0eaa22'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fe0aaa'];$_f0094b_local_vars=$_f0094b_old_vars['_fe0aaa'];?>

</form>
<?php $_f0094b_old_params['_2f007e']=$_f0094b_local_params;$_f0094b_old_vars['_2f007e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_e4cf1d']=$_f0094b_local_params;$_f0094b_old_vars['_e4cf1d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<form action="<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
" method="POST" id="export-form">
  <input type="hidden" name="__mode" value="save" id="export-mode">
  <input type="hidden" name="_model" value="<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
">
  <input type="hidden" name="magic_token" value="<?php echo $this->function_var($this->setup_args(['name'=>'magic_token','this_tag'=>'var'],null,$this),$this)?>
">
  <input type="hidden" name="_screen_id" value="<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'screen_id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
">
  <input type="hidden" name="_type" value="edit" id="export_input">
  <input type="hidden" name="name" value="" id="table-name">
<script>
$('#table-name').val( $('#name').val() );
</script>
</form>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e4cf1d'];$_f0094b_local_vars=$_f0094b_old_vars['_e4cf1d'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2f007e'];$_f0094b_local_vars=$_f0094b_old_vars['_2f007e'];?>

<script>
$('.badge-draggable').mouseenter(function() {
    $(this).css('cursor','move');
});
$(function () {
    let clipboard = new Clipboard('.copy-clipboard');
    if (window.ontouchstart !== null) {
        $('[data-toggle="tooltip"]').tooltip();
    }
});
$(document).on('click','.close-sm', function() {
    if ( $(this).hasClass('detach-field') ) {
        if(!confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove this field?','this_tag'=>'trans'],null,$this),$this)?>
')){
            return false;
        }
        var basename = $(this).attr('data-basename');
        var fieldLabel = $('#field-' + basename + '-wrapper .row .col-label:first').html();
        $(this).parent().parent().parent().parent().remove();
        $('#field-' + basename + '-wrapper .row .col-label:first').html(fieldLabel);
        $('#field-' + basename + '-wrapper .row:first').removeClass('multiple-field');
        if ( $('#field-' + basename + '-wrapper .row').length == 0 ) {
            $('#field-' + basename + '-wrapper').remove();
            $('#_field_selector .' + basename ).removeAttr('hidden');
        }
    } else {
        let confirm_msg = '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to detach this relation?','this_tag'=>'trans'],null,$this),$this)?>
';
        if ( $(this).hasClass('detach-file') ) {
            confirm_msg = '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove this attachment file?','this_tag'=>'trans'],null,$this),$this)?>
';
        }
        if(!confirm(confirm_msg)){
            return false;
        }
        let session_id = $(this).attr('data-session');
        if ( session_id ) {
            $.get('<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=flush_session&id=' + session_id ,{})
            .fail(function() {
              window.alert('<?php echo $this->function_trans($this->setup_args(['phrase'=>'An error occurred while removing temporary data.','this_tag'=>'trans'],null,$this),$this)?>
');
            });
        }
        let id = $(this).prop('id');
        if ( id ) {
            var spl = id.split('-');
            $('#' + spl[0] + '-label').html('<?php echo $this->function_trans($this->setup_args(['phrase'=>'(None selected)','this_tag'=>'trans'],null,$this),$this)?>
&nbsp;');
            $('#' + spl[0] + '-img').hide();
            $('#' + spl[0] + '-view-asset-link').hide();
            $('#' + spl[0] + '-view-asset-link-url').hide();
            $('#_' + spl[0] + '-edit-defeult').hide();
            let field_id = spl[0];
            // Custom Fields or Type Int.
            field_id = field_id.replace(/^asset_/, '');
            if ( $('.attachment-download-btn-asset_files-' + field_id).length ) {
                $('.attachment-download-btn-asset_files-' + field_id).hide();
            }
            if ( $('.attachment-download-btn-' + field_id).length ) {
                $('.attachment-download-btn-' + field_id).hide();
            }
            $('#' + spl[0]).val('');
            $(this).hide();
            return false;
        }
        let name = $(this).attr('data-name');
        counter = 0;
        $('#'+name).children('li').each(function(){
            if (! $(this).prop('id') ) {
                counter++;
            }
        });
        if ( counter == 1 ) {
            $('#'+name+'-none').show();
        }
        $(this).parent().remove();
    }
});
$('#__delete').click(async function(){
    if(! confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to remove %s?','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $(this).attr('disabled', true);
    $('#_preview').val('');
    $('#edit-form-main').removeAttr('target');
    $('#__mode').val('delete');
    $(window).off('beforeunload');
    $('#edit-form-main').submit();
    return false;
});
<?php $_f0094b_old_params['_5955af']=$_f0094b_local_params;$_f0094b_old_vars['_5955af']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_805f10']=$_f0094b_local_params;$_f0094b_old_vars['_805f10']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'table','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#__export').click(async function(){
    if(! confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to export %s?','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $('#export-mode').prop('value', 'export_scheme');
    $(window).off('beforeunload');
    $('#export-form').submit();
    return false;
});
$('#__export_csv').click(async function(){
    if(! confirm('<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to export %s?','params'=>'$label','this_tag'=>'trans'],null,$this),$this)?>
')){
        return false;
    }
    $('#export-mode').prop('value', 'export_scheme_csv');
    $(window).off('beforeunload');
    $('#export-form').submit();
    return false;
});
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_805f10'];$_f0094b_local_vars=$_f0094b_old_vars['_805f10'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_5955af'];$_f0094b_local_vars=$_f0094b_old_vars['_5955af'];?>

$('#modal').on('shown.bs.modal', function(event) {
    $('#modal-iframe').focus();
});
</script>
<?php echo $this->function_var($this->setup_args(['name'=>'add_footer','this_tag'=>'var'],null,$this),$this)?>

<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included -->
<script src="assets/js/vendor/jquery.ui.widget.js"></script>
<!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
<script src="assets/js/jquery.iframe-transport.js"></script>
<!-- The basic File Upload plugin -->
<script src="assets/js/jquery.fileupload.js"></script>
<script>
<?php $_f0094b_old_params['_e250a6']=$_f0094b_local_params;$_f0094b_old_vars['_e250a6']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_field_sort_order','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function() {
    var field_sort_order = '<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'_field_sort_order','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
    var field_loop = field_sort_order.split(',');
    var options_objects = [];
    for ( var i = 0;  i < field_loop.length; i++ ) {
        var label_name = 'label-' + field_loop[i];
        options_objects.push( $('#' + label_name ) );
    }
    $('#_start_options').after(options_objects);
    reorder_fields();
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e250a6'];$_f0094b_local_vars=$_f0094b_old_vars['_e250a6'];?>

<?php $_f0094b_old_params['_fd221f']=$_f0094b_local_params;$_f0094b_old_vars['_fd221f']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_objectcontext($this->setup_args(['this_tag'=>'objectcontext'],null,$this),null,$this,true,true)):?>

<?php $c_09fdec=null;$_f0094b_old_params['_09fdec']=$_f0094b_local_params;$_f0094b_old_vars['_09fdec']=$_f0094b_local_vars;$a_09fdec=$this->setup_args(['type'=>'edit','this_tag'=>'objectcols'],null,$this);$_09fdec=-1;$r_09fdec=true;while($r_09fdec===true):$r_09fdec=($_09fdec!==-1)?false:true;echo $this->component('PTTags')->hdlr_objectcols($a_09fdec,$c_09fdec,$this,$r_09fdec,++$_09fdec,'_09fdec');ob_start();?>
<?php $c_09fdec = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_09fdec=false;}if($c_09fdec ):?>

  <?php $_f0094b_old_params['_208d52']=$_f0094b_local_params;$_f0094b_old_vars['_208d52']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'name','ne'=>'id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_cf166e']=$_f0094b_local_params;$_f0094b_old_vars['_cf166e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'edit','eq'=>'primary','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cf166e'];$_f0094b_local_vars=$_f0094b_old_vars['_cf166e'];?>

    <?php $_f0094b_old_params['_325324']=$_f0094b_local_params;$_f0094b_old_vars['_325324']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_325324'];$_f0094b_local_vars=$_f0094b_old_vars['_325324'];?>

    <?php $_f0094b_old_params['_c8953b']=$_f0094b_local_params;$_f0094b_old_vars['_c8953b']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'disable_edit_options','value'=>'$name','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'_checked','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_c8953b'];$_f0094b_local_vars=$_f0094b_old_vars['_c8953b'];?>

    <?php $_f0094b_old_params['_09dfd9']=$_f0094b_local_params;$_f0094b_old_vars['_09dfd9']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_checked','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

$('#<?php echo $this->function_var($this->setup_args(['name'=>'name','this_tag'=>'var'],null,$this),$this)?>
-wrapper').hide();
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_09dfd9'];$_f0094b_local_vars=$_f0094b_old_vars['_09dfd9'];?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_208d52'];$_f0094b_local_vars=$_f0094b_old_vars['_208d52'];?>

<?php endif;$c_09fdec=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_09fdec'];$_f0094b_local_vars=$_f0094b_old_vars['_09fdec'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_fd221f'];$_f0094b_local_vars=$_f0094b_old_vars['_fd221f'];?>

<?php $c_f9bc20=null;$_f0094b_old_params['_f9bc20']=$_f0094b_local_params;$_f0094b_old_vars['_f9bc20']=$_f0094b_local_vars;$a_f9bc20=$this->setup_args(['workspace_id'=>'$workspace_id','model'=>'$model','id'=>'$object_id','this_tag'=>'fieldloop'],null,$this);$_f9bc20=-1;$r_f9bc20=true;while($r_f9bc20===true):$r_f9bc20=($_f9bc20!==-1)?false:true;echo $this->component('PTTags')->hdlr_fieldloop($a_f9bc20,$c_f9bc20,$this,$r_f9bc20,++$_f9bc20,'_f9bc20');ob_start();?>
<?php $c_f9bc20 = true; if(isset($this->local_vars['__total__'])&&isset($this->local_vars['__counter__'])&&$this->local_vars['__total__']<$this->local_vars['__counter__']){$c_f9bc20=false;}if($c_f9bc20 ):?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_field_display','value'=>'0','this_tag'=>'setvar'],null,$this),$this)?>

<?php $c_322993=null;$_f0094b_old_params['_322993']=$_f0094b_local_params;$_f0094b_old_vars['_322993']=$_f0094b_local_vars;$a_322993=$this->setup_args(['name'=>'_fieldbasename','this_tag'=>'setvarblock'],null,$this);ob_start();?>
field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
<?php $c_322993=ob_get_clean();$c_322993=$this->block_setvarblock($a_322993,$c_322993,$this,$r_322993,1,'_322993');echo($c_322993); $_f0094b_local_params=$_f0094b_old_params['_322993'];?>

<?php $_f0094b_old_params['_eff56b']=$_f0094b_local_params;$_f0094b_old_vars['_eff56b']=$_f0094b_local_vars;if($this->conditional_ifinarray($this->setup_args(['array'=>'$display_options','value'=>'$_fieldbasename','this_tag'=>'ifinarray'],null,$this),null,$this,true,true)):?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_field_display','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_eff56b'];$_f0094b_local_vars=$_f0094b_old_vars['_eff56b'];?>

<?php $_f0094b_old_params['_b8622b']=$_f0094b_local_params;$_f0094b_old_vars['_b8622b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'field__required','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->function_setvar($this->setup_args(['name'=>'_field_display','value'=>'1','this_tag'=>'setvar'],null,$this),$this)?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b8622b'];$_f0094b_local_vars=$_f0094b_old_vars['_b8622b'];?>

<?php $_f0094b_old_params['_9f3ddf']=$_f0094b_local_params;$_f0094b_old_vars['_9f3ddf']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'_field_display','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

$('#field-<?php echo $this->function_var($this->setup_args(['name'=>'field__basename','this_tag'=>'var'],null,$this),$this)?>
-wrapper').hide();
$('.' + 'field-<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'field__basename','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
-option' ).hide();
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9f3ddf'];$_f0094b_local_vars=$_f0094b_old_vars['_9f3ddf'];?>

<?php endif;$c_f9bc20=ob_get_clean();endwhile; $_f0094b_local_params=$_f0094b_old_params['_f9bc20'];$_f0094b_local_vars=$_f0094b_old_vars['_f9bc20'];?>

</script>
<script>
$(function() {
    $('img.lazy').lazyload();
    $('img.lazy').css('backgroundImage', 'url(<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/layer-bg.png)');
    $('img.lazy').css('backgroundRepeat', 'repeat');
    $('img.lazy').css('backgroundSize', 'cover');
});
function setEditContentChangedTrue () {
    editContentChanged = true;
    $(window).on('beforeunload', function() {
        if (! editContentChanged ) {
            $(window).off('beforeunload');
            return;
        }
        return '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Are you sure you want to move from this page? The changes you made are not reflected.','this_tag'=>'trans'],null,$this),$this)?>
';
    });
}
(function(){
    var event_type = 'mouseenter mousemove mouseleave';
    if(/Android/.test(navigator.userAgent) || /(iPhone)|(iPad)|(iPod)/.test(navigator.userAgent)){
        event_type = 'touchstart touchmove touchend';
    }
    $(document).on(event_type,'.assets-child-thumb',function(e){
        var $preview = $('#asset-preview-popup');
        var $this = $(this);
        var dataModel = $(this).attr('data-model');
        var type = e.type;
        var e_orig = e;
        if(e.originalEvent.touches){
            e_orig = e.originalEvent.touches[0];
        }
        if($this.closest('.ui-sortable-helper').length){
            $preview.hide();
            return;
        }
        var set_position = function($preview,e_orig){
            var size   = 200;
            var offset = 10;
            var pos_x = e_orig.clientX + offset;
            var pos_y = e_orig.clientY + offset;
            if((pos_x + size) > $(window).width()){
                pos_x = e_orig.clientX - (size + offset);
            }
            if((pos_y + size) > $(window).height()){
                pos_y = e_orig.clientY - (size + offset);
            }
            $preview.css({
                left : pos_x + 'px',
                top  : pos_y + 'px'
            });
        }
        if(type == 'mouseenter' || type == 'touchstart'){
            var thumb = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&_model=' + dataModel + '&id=';
            if(!$preview.length){
                $preview = $('<div>').attr('id','asset-preview-popup').appendTo('body');
            }
            var random = Math.random();
            $preview.css('background-image','url(' + thumb + $(this).attr('data-id') +'rnd=' + random + ')');
            $preview.show();
            $this.css({
                '-moz-user-select': 'none',  
                '-webkit-user-select': 'none', 
                '-ms-user-select': 'none',
                'user-select': 'none'
            });
            set_position($preview,e_orig);
        }else
        if(type == 'mouseleave' || type == 'touchend'){
            $preview.hide();
        }else
        if(type == 'mousemove' || type == 'touchmove'){
            set_position($preview,e_orig);
        }
    });
})();
window.featureDetect = {};
featureDetect.inputType = function (type) {
    const input = document.createElement("input");
    input.setAttribute("type", type);
    return input.type == type;
};
if (!featureDetect.inputType('date')) {
    $('input[type=date]').datepicker({
      dateFormat: "yy-mm-dd",
      closeText: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Close','this_tag'=>'trans'],null,$this),$this)?>
",
      prevText: "&#x3C;<?php echo $this->function_trans($this->setup_args(['phrase'=>'Previous','this_tag'=>'trans'],null,$this),$this)?>
",
      nextText: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Next','this_tag'=>'trans'],null,$this),$this)?>
&#x3E;",
      currentText: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Today','this_tag'=>'trans'],null,$this),$this)?>
",
      monthNames: [
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'January','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'February','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'March','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'April','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'May','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'June','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'July','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'August','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'September','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'October','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'November','this_tag'=>'trans'],null,$this),$this)?>
",
        "<?php echo $this->function_trans($this->setup_args(['phrase'=>'December','this_tag'=>'trans'],null,$this),$this)?>
"
      ],
      dayNamesMin: ["<?php echo $this->function_trans($this->setup_args(['phrase'=>'Sun','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Mon','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Tue','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Wed','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Thu','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Fri','this_tag'=>'trans'],null,$this),$this)?>
", "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Sat','this_tag'=>'trans'],null,$this),$this)?>
"],
      isRTL: false,
      showMonthAfterYear: true,
      <?php $_f0094b_old_params['_b6c36e']=$_f0094b_local_params;$_f0094b_old_vars['_b6c36e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'language','eq'=>'ja','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
yearSuffix: "<?php echo $this->function_trans($this->setup_args(['phrase'=>'Year','this_tag'=>'trans'],null,$this),$this)?>
",<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b6c36e'];$_f0094b_local_vars=$_f0094b_old_vars['_b6c36e'];?>

      firstDay: 1,
      showButtonPanel: true,
      beforeShow: function (){
          setTimeout(function (){
              $('#ui-datepicker-div').css('z-index', 5);
          }, 250);
      }
    });
}
var _field_selector_exists = false;
$('#_field_selector option').each(function(i){
    if ( i ) {
        if ( $(this).attr('hidden') == 'hidden' ) {
        } else {
            if ( $(this).css('display') && $(this).css('display') != 'none' ) {
                _field_selector_exists = true;
            }
        }
    }
});
function updateFieldSelector () {
    let _disp_field_selector = false;
    $('#_field_selector option').each(function(i){
        if ( i ) {
            if ( $(this).attr('hidden') == 'hidden' ) {
            } else {
                if ( $(this).css('display') && $(this).css('display') != 'none' ) {
                    _disp_field_selector = true;
                }
            }
        }
    });
    if (! _disp_field_selector ) {
        $('#_field_selector_wrapper').hide();
    } else {
        $('#_field_selector_wrapper').show();
    }
}
updateFieldSelector();
</script>
<?php $c_89b496=null;$_f0094b_old_params['_89b496']=$_f0094b_local_params;$_f0094b_old_vars['_89b496']=$_f0094b_local_vars;$a_89b496=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/<?php echo $this->function_var($this->setup_args(['name'=>'model','this_tag'=>'var'],null,$this),$this)?>
/footer.tmpl<?php $c_89b496=ob_get_clean();$c_89b496=$this->block_setvarblock($a_89b496,$c_89b496,$this,$r_89b496,1,'_89b496');echo($c_89b496); $_f0094b_local_params=$_f0094b_old_params['_89b496'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php $c_750cbd=null;$_f0094b_old_params['_750cbd']=$_f0094b_local_params;$_f0094b_old_vars['_750cbd']=$_f0094b_local_vars;$a_750cbd=$this->setup_args(['name'=>'include_path','this_tag'=>'setvarblock'],null,$this);ob_start();?>
include/edit/screen_footer.tmpl<?php $c_750cbd=ob_get_clean();$c_750cbd=$this->block_setvarblock($a_750cbd,$c_750cbd,$this,$r_750cbd,1,'_750cbd');echo($c_750cbd); $_f0094b_local_params=$_f0094b_old_params['_750cbd'];?>

<?php echo $this->component('PTTags')->hdlr_include($this->setup_args(['file'=>'$include_path','this_tag'=>'include'],null,$this),$this)?>

<?php $_f0094b_old_params['_ad6d76']=$_f0094b_local_params;$_f0094b_old_vars['_ad6d76']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.dialog_view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_0c446c']=$_f0094b_local_params;$_f0094b_old_vars['_0c446c']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.direct_edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_831d5d']=$_f0094b_local_params;$_f0094b_old_vars['_831d5d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.saved','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script>
    <?php echo $this->function_setvar($this->setup_args(['name'=>'model_type','value'=>'model','this_tag'=>'setvar'],null,$this),$this)?>

    <?php $_f0094b_old_params['_54be09']=$_f0094b_local_params;$_f0094b_old_vars['_54be09']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._model','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'model_type','value'=>'asset','this_tag'=>'setvar'],null,$this),$this)?>

    <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'request._model','eq'=>'attachmentfile','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

      <?php echo $this->function_setvar($this->setup_args(['name'=>'model_type','value'=>'asset','this_tag'=>'setvar'],null,$this),$this)?>

    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_54be09'];$_f0094b_local_vars=$_f0094b_old_vars['_54be09'];?>

    var target_control = '<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.target','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
';
    var objExists = false;
    <?php $_f0094b_old_params['_a427bb']=$_f0094b_local_params;$_f0094b_old_vars['_a427bb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.single_select','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    window.parent.$("input[name='"+<?php $_f0094b_old_params['_84f9d9']=$_f0094b_local_params;$_f0094b_old_vars['_84f9d9']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._field_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
'<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._field_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
'<?php else:?>
target_control<?php endif;$_f0094b_local_params=$_f0094b_old_params['_84f9d9'];$_f0094b_local_vars=$_f0094b_old_vars['_84f9d9'];?>
+"']").each(function(){
        if ($(this).val() == <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 ) {
            var innerSpans = $(this).parent().find('span');
            innerSpans[0].innerHTML = '<?php echo $this->function_var($this->setup_args(['name'=>'_primary','this_tag'=>'var'],null,$this),$this)?>
';
            objExists = true;
            if ( $(this).parent().children('.assets-child-thumb').length ) {
                $(this).parent().children('.assets-child-thumb').attr('data-id',<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
).css('background-image','url(\'<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&square=1&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
\')');
                $(this).parent().children('.assets-child-thumb').show();
            }
        }
    });
    if (! objExists ) {
        window.parent.$("input[name='"+<?php $_f0094b_old_params['_701ff8']=$_f0094b_local_params;$_f0094b_old_vars['_701ff8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._field_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
'<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._field_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
'<?php else:?>
target_control<?php endif;$_f0094b_local_params=$_f0094b_old_params['_701ff8'];$_f0094b_local_vars=$_f0094b_old_vars['_701ff8'];?>
+"']").each(function(){
            var innerSpans = $(this).parent().find('span');
            var newli = $(this).parent();
            innerSpans[0].innerHTML = '<?php echo $this->function_var($this->setup_args(['name'=>'_primary','this_tag'=>'var'],null,$this),$this)?>
';
            $(this).val(<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
);
            var innerButtons = newli.find('button');
            var elementClass = innerButtons[0].getAttribute( 'class' );
            elementClass = elementClass.replace('hidden', '');
            innerButtons[0].setAttribute( 'class', elementClass );
            var elementHref = innerButtons[0].getAttribute( 'data-href' );
            elementHref = elementHref.replace( /&id=[0-9]*&/, '&id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&' );
            innerButtons[0].setAttribute( 'data-href', elementHref );
            innerButtons[0].setAttribute( 'href', elementHref );
            innerButtons[0].style.display = 'inline';
            innerButtons[1].style.display = 'inline';
            let existingClass = innerButtons[1].getAttribute( 'class' );
            existingClass = existingClass.replace( / hidden/, '' );
            innerButtons[1].setAttribute( 'class', existingClass );
            if ( newli.children('.assets-child-thumb').length ) {
                newli.children('.assets-child-thumb').attr('class', 'assets-child-thumb');
                newli.children('.assets-child-thumb').attr('data-id',<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
).css('background-image','url(\'<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&square=1&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&id=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
\')');
                newli.children('.assets-child-thumb').show();
            }
            <?php $_f0094b_old_params['_04bb70']=$_f0094b_local_params;$_f0094b_old_vars['_04bb70']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'__permalink','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php echo $this->modifier_setvar($this->modifier_split(paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._field_name','escape'=>'','split'=>'_','setvar'=>'_field_part','this_tag'=>'var'],null,$this),$this),ENT_QUOTES),$this->setup_args('_','split',$this),$this,'split'),$this->setup_args('_field_part','setvar',$this),$this,'setvar')?>

            let viewLink = window.parent.$('#asset__<?php echo $this->function_var($this->setup_args(['name'=>'_field_part[1]','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link');
            if (! viewLink.length ) {
                //asset_id-view-asset-link
                viewLink = window.parent.$('#<?php echo $this->function_var($this->setup_args(['name'=>'request.target','this_tag'=>'var'],null,$this),$this)?>
-view-asset-link');
            }
            if (! viewLink.length ) {
                // attachment-download-btn-page_id
                viewLink = window.parent.$('.attachment-download-btn-<?php echo $this->function_var($this->setup_args(['name'=>'request.target','this_tag'=>'var'],null,$this),$this)?>
');
            }
            let viewLinkURL = window.parent.$('.attachment-linkurl-btn-<?php echo $this->function_var($this->setup_args(['name'=>'request.target','this_tag'=>'var'],null,$this),$this)?>
');
            if ( viewLink.length ) {
                viewLink.removeClass('hidden');
                viewLink.show();
              <?php $_f0094b_old_params['_32410a']=$_f0094b_local_params;$_f0094b_old_vars['_32410a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                viewLink.attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'permalink','this_tag'=>'var'],null,$this),$this)?>
' );
                if ( viewLinkURL.length ) {
                    viewLinkURL.removeClass('hidden');
                    viewLinkURL.show();
                    viewLinkURL.attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
' );
                }
              <?php else:?>

                viewLink.attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
' );
              <?php endif;$_f0094b_local_params=$_f0094b_old_params['_32410a'];$_f0094b_local_vars=$_f0094b_old_vars['_32410a'];?>

            }
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_04bb70'];$_f0094b_local_vars=$_f0094b_old_vars['_04bb70'];?>

        });
    }
    <?php else:?>

    window.parent.$("input[name='"+<?php $_f0094b_old_params['_e16f81']=$_f0094b_local_params;$_f0094b_old_vars['_e16f81']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._field_name','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
'<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._field_name','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
'<?php else:?>
target_control<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e16f81'];$_f0094b_local_vars=$_f0094b_old_vars['_e16f81'];?>
+"[]']").each(function(){
        if ($(this).val() == <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 ) {
            let innerSpans = $(this).parent().find('span');
            innerSpans[0].innerHTML = '<?php echo $this->function_var($this->setup_args(['name'=>'_primary','this_tag'=>'var'],null,$this),$this)?>
';
            objExists = true;
            let newli = $(this).parent();
            <?php $_f0094b_old_params['_cb4d02']=$_f0094b_local_params;$_f0094b_old_vars['_cb4d02']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model_type','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            <?php $_f0094b_old_params['_4ea561']=$_f0094b_local_params;$_f0094b_old_vars['_4ea561']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._model','eq'=>'attachmentfile','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            let obj_permalink = $('#clipboard-file').val();
            <?php else:?>

            let obj_permalink = $('#__permalink-clipboard').val();
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ea561'];$_f0094b_local_vars=$_f0094b_old_vars['_4ea561'];?>

            newli.children('.asset-download-btn').attr( 'href', obj_permalink );
            let fInfo = obj_permalink.split('.');
            let fileExtension = fInfo[fInfo.length-1].toLowerCase();
            let extensionsInline = ['csv', 'xls', 'xlsx', 'doc', 'docx', 'ppt', 'pptx'];
            if (extensionsInline.indexOf(fileExtension) < 0){
                newli.children('.asset-download-btn').attr('target', '_blank');
                newli.children('.asset-download-btn').children('i').removeClass('fa-download');
                newli.children('.asset-download-btn').children('i').addClass('fa-external-link-square');
                newli.children('.asset-download-btn').attr('aria-label','<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
');
            }
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_cb4d02'];$_f0094b_local_vars=$_f0094b_old_vars['_cb4d02'];?>

            if ( newli.children('.assets-child-thumb').length ) {
                newli.children('.assets-child-thumb').attr('data-id',<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
).css('background-image','url(\'<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&square=1&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&ts=<?php echo $this->function_date($this->setup_args(['format'=>'YmdHis','this_tag'=>'date'],null,$this),$this)?>
&id=' + <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 + '\')');
            }
        }
    });
    if (! objExists ) {
        window.parent.$('#'+target_control+'-none').hide();
        let _li = window.parent.$('#'+target_control+'-tmpl');
        let newli = _li.clone( true ).appendTo('#'+target_control );
        newli.removeClass('hidden');
        let col_value = $('#_get_col_' + <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 ).val();
        newli.children('input').val( <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 );
        newli.children('span').html( '<?php echo $this->function_var($this->setup_args(['name'=>'_primary','this_tag'=>'var'],null,$this),$this)?>
' );
        let innerButtons = newli.find('button');
        let elementClass = innerButtons[0].getAttribute( 'class' );
        elementClass = elementClass.replace('hidden', '');
        innerButtons[0].setAttribute( 'class', elementClass );
        let elementHref = innerButtons[0].getAttribute( 'data-href' );
        elementHref = elementHref.replace( '__value__', <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 );
        innerButtons[0].setAttribute( 'data-href', elementHref );
        newli.removeAttr('id');
        <?php $_f0094b_old_params['_11ab0b']=$_f0094b_local_params;$_f0094b_old_vars['_11ab0b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model_type','eq'=>'asset','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <?php $_f0094b_old_params['_380669']=$_f0094b_local_params;$_f0094b_old_vars['_380669']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._model','eq'=>'attachmentfile','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        let obj_permalink = $('#clipboard-file').val();
        <?php else:?>

        let obj_permalink = '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
';
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_380669'];$_f0094b_local_vars=$_f0094b_old_vars['_380669'];?>

        let fInfo = obj_permalink.split('.');
        let fileExtension = fInfo[fInfo.length-1].toLowerCase();
        let extensionsInline = ['csv', 'xls', 'xlsx', 'doc', 'docx', 'ppt', 'pptx'];
        if (extensionsInline.indexOf(fileExtension) < 0){
            newli.children('.asset-download-btn').attr('target', '_blank');
            newli.children('.asset-download-btn').children('i').removeClass('fa-download');
            newli.children('.asset-download-btn').children('i').addClass('fa-external-link-square');
            newli.children('.asset-download-btn').attr('aria-label','<?php echo $this->function_trans($this->setup_args(['phrase'=>'View','this_tag'=>'trans'],null,$this),$this)?>
');
        }
        <?php else:?>

        let obj_permalink = '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
';
        <?php endif;$_f0094b_local_params=$_f0094b_old_params['_11ab0b'];$_f0094b_local_vars=$_f0094b_old_vars['_11ab0b'];?>

        if ( obj_permalink ) {
          <?php $_f0094b_old_params['_9cb77a']=$_f0094b_local_params;$_f0094b_old_vars['_9cb77a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_show_both','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            newli.children('.asset-download-btn').attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'permalink','this_tag'=>'var'],null,$this),$this)?>
' );
            let viewLinkURL = newli.children('.asset-linkurl-btn');
            if ( viewLinkURL.length ) {
                viewLinkURL.attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
' );
                viewLinkURL.removeClass( 'hidden' );
                viewLinkURL.show();
            }
          <?php else:?>

            newli.children('.asset-download-btn').attr( 'href', '<?php echo $this->function_var($this->setup_args(['name'=>'__permalink','this_tag'=>'var'],null,$this),$this)?>
' );
          <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9cb77a'];$_f0094b_local_vars=$_f0094b_old_vars['_9cb77a'];?>

            newli.children('.asset-download-btn').removeClass( 'hidden' );
            newli.children('.asset-download-btn').show();
        }
        newli.addClass( target_control+'-child');
        if ( newli.children('.assets-child-thumb').length ) {
            newli.children('.assets-child-thumb').attr('data-id',<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
).css('background-image','url(\'<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=get_thumbnail&square=1&_model=<?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request._model','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
&id=' + <?php echo paml_htmlspecialchars($this->function_var($this->setup_args(['name'=>'request.id','escape'=>'','this_tag'=>'var'],null,$this),$this),ENT_QUOTES)?>
 + '\')');
            newli.children('.assets-child-thumb').show();
        }
        newli.show();
    }
    <?php endif;$_f0094b_local_params=$_f0094b_old_params['_a427bb'];$_f0094b_local_vars=$_f0094b_old_vars['_a427bb'];?>

    $(window).off('beforeunload');
    window.parent.$('#modal').modal('hide');
    window.location.href = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading';
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_831d5d'];$_f0094b_local_vars=$_f0094b_old_vars['_831d5d'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0c446c'];$_f0094b_local_vars=$_f0094b_old_vars['_0c446c'];?>

          <?php $_f0094b_old_params['_258e36']=$_f0094b_local_params;$_f0094b_old_vars['_258e36']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','eq'=>'view','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
<?php $_f0094b_old_params['_a3a57e']=$_f0094b_local_params;$_f0094b_old_vars['_a3a57e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'list','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
</div><?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3a57e'];$_f0094b_local_vars=$_f0094b_old_vars['_a3a57e'];?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_258e36'];$_f0094b_local_vars=$_f0094b_old_vars['_258e36'];?>

        </main>
      </div>
    </div>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery.min.js"><\/script>')</script>
<?php $_f0094b_old_params['_bb2a6d']=$_f0094b_local_params;$_f0094b_old_vars['_bb2a6d']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_a3cf62']=$_f0094b_local_params;$_f0094b_old_vars['_a3cf62']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_647ec9']=$_f0094b_local_params;$_f0094b_old_vars['_647ec9']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_fa05d7']=$_f0094b_local_params;$_f0094b_old_vars['_fa05d7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fa05d7'];$_f0094b_local_vars=$_f0094b_old_vars['_fa05d7'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_647ec9'];$_f0094b_local_vars=$_f0094b_old_vars['_647ec9'];?>

<?php $_f0094b_old_params['_0adec9']=$_f0094b_local_params;$_f0094b_old_vars['_0adec9']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_2cf418']=$_f0094b_local_params;$_f0094b_old_vars['_2cf418']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2cf418'];$_f0094b_local_vars=$_f0094b_old_vars['_2cf418'];?>

<?php $_f0094b_old_params['_e31878']=$_f0094b_local_params;$_f0094b_old_vars['_e31878']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e31878'];$_f0094b_local_vars=$_f0094b_old_vars['_e31878'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0adec9'];$_f0094b_local_vars=$_f0094b_old_vars['_0adec9'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_da7d3b']=$_f0094b_local_params;$_f0094b_old_vars['_da7d3b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_da7d3b'];$_f0094b_local_vars=$_f0094b_old_vars['_da7d3b'];?>

        relative_urls : false,
        image_advtab: true,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table contextmenu paste code',
        toolbar  : 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.mce-tinymce[role=application]').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.addButton('pt-image', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_e6efbc']=$_f0094b_local_params;$_f0094b_old_vars['_e6efbc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e6efbc'];$_f0094b_local_vars=$_f0094b_old_vars['_e6efbc'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.addButton('pt-file', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_8dc110']=$_f0094b_local_params;$_f0094b_old_vars['_8dc110']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8dc110'];$_f0094b_local_vars=$_f0094b_old_vars['_8dc110'];?>
&dialog_view=1&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.mce-tinymce[role=application]').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_9aa830']=$_f0094b_local_params;$_f0094b_old_vars['_9aa830']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            if(ed.id && ed.id == 'text'){
              var clipboard_image = $('#clipboard-image');
              var inline_image = $('#inline-image');
              var bg_image_url = clipboard_image.val();
              if ( inline_image.length ) {
                  bg_image_url = inline_image.attr('href');
              }
              if ( clipboard_image.length ) {
                <?php $_f0094b_old_params['_6e6905']=$_f0094b_local_params;$_f0094b_old_vars['_6e6905']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_6e6905'];$_f0094b_local_vars=$_f0094b_old_vars['_6e6905'];?>

                <?php $_f0094b_old_params['_a06b9c']=$_f0094b_local_params;$_f0094b_old_vars['_a06b9c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a06b9c'];$_f0094b_local_vars=$_f0094b_old_vars['_a06b9c'];?>

                var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-size: cover; background-position: center;'
                  + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + '); color: <?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
}';
              } else {
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
              }
            }
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_9aa830'];$_f0094b_local_vars=$_f0094b_old_vars['_9aa830'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php else:?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce<?php echo $this->function_var($this->setup_args(['name'=>'tinymce_version','this_tag'=>'var'],null,$this),$this)?>
/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_cb0cbd']=$_f0094b_local_params;$_f0094b_old_vars['_cb0cbd']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_bca556']=$_f0094b_local_params;$_f0094b_old_vars['_bca556']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_bca556'];$_f0094b_local_vars=$_f0094b_old_vars['_bca556'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cb0cbd'];$_f0094b_local_vars=$_f0094b_old_vars['_cb0cbd'];?>

<?php $_f0094b_old_params['_2b9fc6']=$_f0094b_local_params;$_f0094b_old_vars['_2b9fc6']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_2e87e1']=$_f0094b_local_params;$_f0094b_old_vars['_2e87e1']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e87e1'];$_f0094b_local_vars=$_f0094b_old_vars['_2e87e1'];?>

<?php $_f0094b_old_params['_f04d8a']=$_f0094b_local_params;$_f0094b_old_vars['_f04d8a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f04d8a'];$_f0094b_local_vars=$_f0094b_old_vars['_f04d8a'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2b9fc6'];$_f0094b_local_vars=$_f0094b_old_vars['_2b9fc6'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_f4cc3a']=$_f0094b_local_params;$_f0094b_old_vars['_f4cc3a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f4cc3a'];$_f0094b_local_vars=$_f0094b_old_vars['_f4cc3a'];?>

        relative_urls : false,
        image_advtab: true,
        promotion: false,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap preview anchor searchreplace visualblocks code fullscreen insertdatetime media table code<?php $_f0094b_old_params['_03ba66']=$_f0094b_local_params;$_f0094b_old_vars['_03ba66']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','lt'=>'6','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 print paste<?php endif;$_f0094b_local_params=$_f0094b_old_params['_03ba66'];$_f0094b_local_vars=$_f0094b_old_vars['_03ba66'];?>
',
        toolbar  : 'undo redo insert styleselect bold italic alignleft aligncenter alignright alignjustify bullist numlist outdent indent fullscreen link image pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.tox-tinymce').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.ui.registry.addButton('pt-image', {
                <?php $_f0094b_old_params['_122b3b']=$_f0094b_local_params;$_f0094b_old_vars['_122b3b']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'gallery',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_122b3b'];$_f0094b_local_vars=$_f0094b_old_vars['_122b3b'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_673e22']=$_f0094b_local_params;$_f0094b_old_vars['_673e22']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_673e22'];$_f0094b_local_vars=$_f0094b_old_vars['_673e22'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.ui.registry.addButton('pt-file', {
                <?php $_f0094b_old_params['_383026']=$_f0094b_local_params;$_f0094b_old_vars['_383026']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'browse',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_383026'];$_f0094b_local_vars=$_f0094b_old_vars['_383026'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_24bdc8']=$_f0094b_local_params;$_f0094b_old_vars['_24bdc8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_24bdc8'];$_f0094b_local_vars=$_f0094b_old_vars['_24bdc8'];?>
&dialog_view=1&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.tox-tinymce').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_6b9f75']=$_f0094b_local_params;$_f0094b_old_vars['_6b9f75']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            ed.on('LoadContent',function(){
                if ( ed.id && ed.id == 'text' ) {
                    let clipboard_image = $('#clipboard-image');
                    let inline_image = $('#inline-image');
                    let bg_image_url = clipboard_image.val();
                    if ( inline_image.length ) {
                        bg_image_url = inline_image.attr('href');
                    }
                    let html_head = ed.iframeElement.contentWindow.document.getElementsByTagName('head')[0];
                    let style = document.createElement('style');
                    let content_style;
                    if ( clipboard_image.length ) {
                      <?php $_f0094b_old_params['_a0d4c8']=$_f0094b_local_params;$_f0094b_old_vars['_a0d4c8']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a0d4c8'];$_f0094b_local_vars=$_f0094b_old_vars['_a0d4c8'];?>

                      <?php $_f0094b_old_params['_d04a6c']=$_f0094b_local_params;$_f0094b_old_vars['_d04a6c']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d04a6c'];$_f0094b_local_vars=$_f0094b_old_vars['_d04a6c'];?>

                        var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-size: cover; background-position: center;'
                        + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + ')}';
                    } else {
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
                    }
                    style.innerHTML = content_style;
                    html_head.appendChild(style);
                }
            });
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_6b9f75'];$_f0094b_local_vars=$_f0094b_old_vars['_6b9f75'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_a3cf62'];$_f0094b_local_vars=$_f0094b_old_vars['_a3cf62'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bb2a6d'];$_f0094b_local_vars=$_f0094b_old_vars['_bb2a6d'];?>

<script>
function disp_header_alert ( message, dialog_class ) {
    $("#header-alert-message").html( message );
    if (! dialog_class ) {
        dialog_class = 'success';
    }
    if ( dialog_class == 'success' ) {
        $("#header-alert").removeClass("alert-danger");
        $("#header-alert").addClass("alert-success");
    } else {
        $("#header-alert").removeClass("alert-success");
        $("#header-alert").addClass("alert-danger");
    }
    $("#header-alert").show();
    setTimeout(focus_header_dialog, 500);
}
$(function() {
    $(".popup").click(function(){
        window.open(this.href,"WindowName","width=480,height=380,resizable=yes,scrollbars=yes");
        return false;
    });
});
</script>
<?php $_f0094b_old_params['_248a8a']=$_f0094b_local_params;$_f0094b_old_vars['_248a8a']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>


<?php $_f0094b_old_params['_0ebdb0']=$_f0094b_local_params;$_f0094b_old_vars['_0ebdb0']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_bcb686']=$_f0094b_local_params;$_f0094b_old_vars['_bcb686']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_0249de']=$_f0094b_local_params;$_f0094b_old_vars['_0249de']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_38c457']=$_f0094b_local_params;$_f0094b_old_vars['_38c457']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_38c457'];$_f0094b_local_vars=$_f0094b_old_vars['_38c457'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0249de'];$_f0094b_local_vars=$_f0094b_old_vars['_0249de'];?>

<?php $_f0094b_old_params['_b3cb4b']=$_f0094b_local_params;$_f0094b_old_vars['_b3cb4b']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_1ec304']=$_f0094b_local_params;$_f0094b_old_vars['_1ec304']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1ec304'];$_f0094b_local_vars=$_f0094b_old_vars['_1ec304'];?>

<?php $_f0094b_old_params['_c312a5']=$_f0094b_local_params;$_f0094b_old_vars['_c312a5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_c312a5'];$_f0094b_local_vars=$_f0094b_old_vars['_c312a5'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_b3cb4b'];$_f0094b_local_vars=$_f0094b_old_vars['_b3cb4b'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_9fbdaa']=$_f0094b_local_params;$_f0094b_old_vars['_9fbdaa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_9fbdaa'];$_f0094b_local_vars=$_f0094b_old_vars['_9fbdaa'];?>

        relative_urls : false,
        image_advtab: true,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table contextmenu paste code',
        toolbar  : 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.mce-tinymce[role=application]').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.addButton('pt-image', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_f77fc8']=$_f0094b_local_params;$_f0094b_old_vars['_f77fc8']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f77fc8'];$_f0094b_local_vars=$_f0094b_old_vars['_f77fc8'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.addButton('pt-file', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_408357']=$_f0094b_local_params;$_f0094b_old_vars['_408357']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_408357'];$_f0094b_local_vars=$_f0094b_old_vars['_408357'];?>
&dialog_view=1&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.mce-tinymce[role=application]').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_fe0d11']=$_f0094b_local_params;$_f0094b_old_vars['_fe0d11']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            if(ed.id && ed.id == 'text'){
              var clipboard_image = $('#clipboard-image');
              var inline_image = $('#inline-image');
              var bg_image_url = clipboard_image.val();
              if ( inline_image.length ) {
                  bg_image_url = inline_image.attr('href');
              }
              if ( clipboard_image.length ) {
                <?php $_f0094b_old_params['_2eb057']=$_f0094b_local_params;$_f0094b_old_vars['_2eb057']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2eb057'];$_f0094b_local_vars=$_f0094b_old_vars['_2eb057'];?>

                <?php $_f0094b_old_params['_8547d1']=$_f0094b_local_params;$_f0094b_old_vars['_8547d1']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8547d1'];$_f0094b_local_vars=$_f0094b_old_vars['_8547d1'];?>

                var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-size: cover; background-position: center;'
                  + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + '); color: <?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
}';
              } else {
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
              }
            }
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_fe0d11'];$_f0094b_local_vars=$_f0094b_old_vars['_fe0d11'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php else:?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce<?php echo $this->function_var($this->setup_args(['name'=>'tinymce_version','this_tag'=>'var'],null,$this),$this)?>
/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_cfb239']=$_f0094b_local_params;$_f0094b_old_vars['_cfb239']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_7cb638']=$_f0094b_local_params;$_f0094b_old_vars['_7cb638']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_7cb638'];$_f0094b_local_vars=$_f0094b_old_vars['_7cb638'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cfb239'];$_f0094b_local_vars=$_f0094b_old_vars['_cfb239'];?>

<?php $_f0094b_old_params['_da41ed']=$_f0094b_local_params;$_f0094b_old_vars['_da41ed']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_325fff']=$_f0094b_local_params;$_f0094b_old_vars['_325fff']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_325fff'];$_f0094b_local_vars=$_f0094b_old_vars['_325fff'];?>

<?php $_f0094b_old_params['_447f49']=$_f0094b_local_params;$_f0094b_old_vars['_447f49']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_447f49'];$_f0094b_local_vars=$_f0094b_old_vars['_447f49'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_da41ed'];$_f0094b_local_vars=$_f0094b_old_vars['_da41ed'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_779473']=$_f0094b_local_params;$_f0094b_old_vars['_779473']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_779473'];$_f0094b_local_vars=$_f0094b_old_vars['_779473'];?>

        relative_urls : false,
        image_advtab: true,
        promotion: false,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap preview anchor searchreplace visualblocks code fullscreen insertdatetime media table code<?php $_f0094b_old_params['_30f822']=$_f0094b_local_params;$_f0094b_old_vars['_30f822']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','lt'=>'6','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 print paste<?php endif;$_f0094b_local_params=$_f0094b_old_params['_30f822'];$_f0094b_local_vars=$_f0094b_old_vars['_30f822'];?>
',
        toolbar  : 'undo redo insert styleselect bold italic alignleft aligncenter alignright alignjustify bullist numlist outdent indent fullscreen link image pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.tox-tinymce').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.ui.registry.addButton('pt-image', {
                <?php $_f0094b_old_params['_008171']=$_f0094b_local_params;$_f0094b_old_vars['_008171']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'gallery',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_008171'];$_f0094b_local_vars=$_f0094b_old_vars['_008171'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_0deb35']=$_f0094b_local_params;$_f0094b_old_vars['_0deb35']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0deb35'];$_f0094b_local_vars=$_f0094b_old_vars['_0deb35'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.ui.registry.addButton('pt-file', {
                <?php $_f0094b_old_params['_45b154']=$_f0094b_local_params;$_f0094b_old_vars['_45b154']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'browse',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_45b154'];$_f0094b_local_vars=$_f0094b_old_vars['_45b154'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_8af052']=$_f0094b_local_params;$_f0094b_old_vars['_8af052']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_8af052'];$_f0094b_local_vars=$_f0094b_old_vars['_8af052'];?>
&dialog_view=1&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.tox-tinymce').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_61f511']=$_f0094b_local_params;$_f0094b_old_vars['_61f511']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            ed.on('LoadContent',function(){
                if ( ed.id && ed.id == 'text' ) {
                    let clipboard_image = $('#clipboard-image');
                    let inline_image = $('#inline-image');
                    let bg_image_url = clipboard_image.val();
                    if ( inline_image.length ) {
                        bg_image_url = inline_image.attr('href');
                    }
                    let html_head = ed.iframeElement.contentWindow.document.getElementsByTagName('head')[0];
                    let style = document.createElement('style');
                    let content_style;
                    if ( clipboard_image.length ) {
                      <?php $_f0094b_old_params['_bdc287']=$_f0094b_local_params;$_f0094b_old_vars['_bdc287']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bdc287'];$_f0094b_local_vars=$_f0094b_old_vars['_bdc287'];?>

                      <?php $_f0094b_old_params['_d8b2e9']=$_f0094b_local_params;$_f0094b_old_vars['_d8b2e9']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_d8b2e9'];$_f0094b_local_vars=$_f0094b_old_vars['_d8b2e9'];?>

                        var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-size: cover; background-position: center;'
                        + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + ')}';
                    } else {
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
                    }
                    style.innerHTML = content_style;
                    html_head.appendChild(style);
                }
            });
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_61f511'];$_f0094b_local_vars=$_f0094b_old_vars['_61f511'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_bcb686'];$_f0094b_local_vars=$_f0094b_old_vars['_bcb686'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0ebdb0'];$_f0094b_local_vars=$_f0094b_old_vars['_0ebdb0'];?>

<script>
$(document).keydown(evnt_keydown);
function evnt_keydown(e) {
    if ( e.keyCode == 27 ) {
        window.location.href = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading';
        window.parent.$('#modal').modal('hide');
    }
}
function disp_header_alert ( message, dialog_class ) {
    $("#header-alert-message").html( message );
    if (! dialog_class ) {
        dialog_class = 'success';
    }
    if ( dialog_class == 'success' ) {
        $("#header-alert").removeClass("alert-danger");
        $("#header-alert").addClass("alert-success");
    } else {
        $("#header-alert").removeClass("alert-success");
        $("#header-alert").addClass("alert-danger");
    }
    $("#header-alert").show();
    setTimeout(focus_header_dialog, 500);
}
function focus_header_dialog () {
    $("#header-alert").focus();
}
$(function(){
    $(document).on('click','[data-target="#modal"]',function(){
        let $this = $(this);
        let $modal = $('#modal');
        let url = '';
        if( $this.attr('href') ){
            url = $this.attr('href');
        } else if( this.href ){
            url = this.href;
        } else if( $this.data('href') ) {
            url = $this.data('href');
        } else if( $this.attr('data-href') ){
            url = $this.attr('data-href');
        }
        if( url ) {
            $modal.find('iframe').attr('src', url );
        }
    });
});
function getConversionRgba(color_code, alpha) {
    var rgba_code = [];
    rgba_code['red']   = parseInt(color_code.substring(1,3), 16);
    rgba_code['green'] = parseInt(color_code.substring(3,5), 16);
    rgba_code['blue']  = parseInt(color_code.substring(5,7), 16);
    rgba_code['alpha'] = isFinite(alpha) ? alpha : 0.4;
    return Object.values(rgba_code).join(',');
}
</script>
<div id="modal" class="modal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true" data-keyboard="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
      <iframe id="modal-iframe" name="dialog-modal" style="width:100%;height:100%;"></iframe>
    </div>
  </div>
</div>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_248a8a'];$_f0094b_local_vars=$_f0094b_old_vars['_248a8a'];?>

<script>
function escape_html (string) {
  if(typeof string !== 'string') {
    return string;
  }
  return string.replace(/[&'`"<>]/g, function(match) {
    return {
      '&': '&amp;',
      "'": '&#x27;',
      '`': '&#x60;',
      '"': '&quot;',
      '<': '&lt;',
      '>': '&gt;',
    }[match]
  });
}
function unescape_html (string) {
  var div = document.createElement("div");
  div.innerHTML = string.replace(/</g,"&lt;")
                        .replace(/>/g,"&gt;")
                        .replace(/ /g, "&nbsp;")
                        .replace(/\r/g, "&#13;")
                        .replace(/\n/g, "&#10;");
  return div.textContent || div.innerText;
}
function submit_params_to_post ( url ) {
    const url_params = url.split('?');
    const url_param = url_params[1];
    const url_path = url_params[0];
    const url_param_data = JSON.parse('{"' + url_param.replace(/&/g, '","').replace(/=/g,'":"') + '"}', function( key, value ) { return key === "" ? value:decodeURIComponent( value ) } );
    const list_asset_form = document.createElement( 'form' );
    list_asset_form.method = 'post';
    list_asset_form.action = url_path;
    for ( const key in url_param_data ) {
        if ( url_param_data.hasOwnProperty( key ) ) {
            const hiddenField = document.createElement( 'input' );
            hiddenField.type = 'hidden';
            hiddenField.name = key;
            hiddenField.value = url_param_data[ key ];
            list_asset_form.appendChild( hiddenField );
        }
    }
    document.body.appendChild( list_asset_form );
    list_asset_form.submit();
}
$('#modal').on('hidden.bs.modal', function(event) {
    $('#modal-iframe').attr('src', '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading' );
});
$('#modal').on('hidden.bs.modal', function(event) {
  if( window._active_ed ) {
      window._active_ed = window._active_ed.focus();
      window._active_ed = false;
  }
});
$('#modal-iframe').attr('src', '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading' );
</script>
<?php echo $this->function_var($this->setup_args(['name'=>'html_body_footer','this_tag'=>'var'],null,$this),$this)?>

  </body>
</html>
<?php else:?>

<div id="modal" class="modal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true" data-keyboard="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="width:100% !important;overflow:auto !important;-webkit-overflow-scrolling:touch !important;">
      <iframe id="modal-iframe" name="dialog-modal" style="width:100%;height:100%;"></iframe>
    </div>
  </div>
</div>
        </main>
      </div>
    </div>
  <?php echo $this->modifier_setvar($this->component('PTTags')->hdlr_getoption($this->setup_args(['key'=>'copyright','setvar'=>'copyright','this_tag'=>'getoption'],null,$this),$this),$this->setup_args('copyright','setvar',$this),$this,'setvar')?>

  <?php $_f0094b_old_params['_5833f3']=$_f0094b_local_params;$_f0094b_old_vars['_5833f3']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'copyright','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <footer class="footer bar">
      <?php $_f0094b_old_params['_0b5a11']=$_f0094b_local_params;$_f0094b_old_vars['_0b5a11']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        <span class="copyright"><?php echo $this->modifier_eval($this->function_var($this->setup_args(['name'=>'copyright','eval'=>'1','this_tag'=>'var'],null,$this),$this),$this->setup_args('1','eval',$this),$this,'eval')?>
</span>
      <?php endif;$_f0094b_local_params=$_f0094b_old_params['_0b5a11'];$_f0094b_local_vars=$_f0094b_old_vars['_0b5a11'];?>

    </footer>
  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_5833f3'];$_f0094b_local_vars=$_f0094b_old_vars['_5833f3'];?>

<script>window.jQuery || document.write('<script src="assets/js/vendor/jquery.min.js"><\/script>')</script>
<script>
$(function() {
    $(".popup").click(function(){
        window.open(this.href,"RebuildPopupWindow","width=420,height=<?php $_f0094b_old_params['_ef8acf']=$_f0094b_local_params;$_f0094b_old_vars['_ef8acf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'debug_mode','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
360<?php else:?>
320<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ef8acf'];$_f0094b_local_vars=$_f0094b_old_vars['_ef8acf'];?>
,resizable=yes,scrollbars=yes");
        return false;
    });
});
</script>
<script>
var $win = $(window);
$win.on('load resize', function() {
    var windowWidth = window.innerWidth;
    if ( windowWidth > 768 ) {
        $('.info-box').html('');
        $('.info-box').hide();
        $('.toggle-icn').removeClass('fa-caret-up');
        $('.toggle-icn').addClass('fa-caret-down');
        $('.alt-search-button').hide();
    } else {
        $('.alt-search-button').show();
    }
});
</script>
<?php $_f0094b_old_params['_366b10']=$_f0094b_local_params;$_f0094b_old_vars['_366b10']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request._type','eq'=>'edit','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->modifier_cast_to($this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','cast_to'=>'int','setvar'=>'tinymce_version','this_tag'=>'property'],null,$this),$this),$this->setup_args('int','cast_to',$this),$this,'cast_to'),$this->setup_args('tinymce_version','setvar',$this),$this,'setvar')?>

<?php $_f0094b_old_params['_ed4dcf']=$_f0094b_local_params;$_f0094b_old_vars['_ed4dcf']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'4','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_578807']=$_f0094b_local_params;$_f0094b_old_vars['_578807']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_808b59']=$_f0094b_local_params;$_f0094b_old_vars['_808b59']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_808b59'];$_f0094b_local_vars=$_f0094b_old_vars['_808b59'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_578807'];$_f0094b_local_vars=$_f0094b_old_vars['_578807'];?>

<?php $_f0094b_old_params['_ee4bfe']=$_f0094b_local_params;$_f0094b_old_vars['_ee4bfe']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_1cd1cc']=$_f0094b_local_params;$_f0094b_old_vars['_1cd1cc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1cd1cc'];$_f0094b_local_vars=$_f0094b_old_vars['_1cd1cc'];?>

<?php $_f0094b_old_params['_4ec3eb']=$_f0094b_local_params;$_f0094b_old_vars['_4ec3eb']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_4ec3eb'];$_f0094b_local_vars=$_f0094b_old_vars['_4ec3eb'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ee4bfe'];$_f0094b_local_vars=$_f0094b_old_vars['_ee4bfe'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_cde4d7']=$_f0094b_local_params;$_f0094b_old_vars['_cde4d7']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_cde4d7'];$_f0094b_local_vars=$_f0094b_old_vars['_cde4d7'];?>

        relative_urls : false,
        image_advtab: true,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table contextmenu paste code',
        toolbar  : 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.mce-tinymce[role=application]').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.addButton('pt-image', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_0f4086']=$_f0094b_local_params;$_f0094b_old_vars['_0f4086']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0f4086'];$_f0094b_local_vars=$_f0094b_old_vars['_0f4086'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.addButton('pt-file', {
                image: '<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png',
                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                icon: false,
                onclick: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_2e9642']=$_f0094b_local_params;$_f0094b_old_vars['_2e9642']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_2e9642'];$_f0094b_local_vars=$_f0094b_old_vars['_2e9642'];?>
&dialog_view=1&insert_editor=1&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.mce-tinymce[role=application]').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_abb434']=$_f0094b_local_params;$_f0094b_old_vars['_abb434']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            if(ed.id && ed.id == 'text'){
              var clipboard_image = $('#clipboard-image');
              var inline_image = $('#inline-image');
              var bg_image_url = clipboard_image.val();
              if ( inline_image.length ) {
                  bg_image_url = inline_image.attr('href');
              }
              if ( clipboard_image.length ) {
                <?php $_f0094b_old_params['_591439']=$_f0094b_local_params;$_f0094b_old_vars['_591439']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_591439'];$_f0094b_local_vars=$_f0094b_old_vars['_591439'];?>

                <?php $_f0094b_old_params['_106bfd']=$_f0094b_local_params;$_f0094b_old_vars['_106bfd']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_106bfd'];$_f0094b_local_vars=$_f0094b_old_vars['_106bfd'];?>

                var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-size: cover; background-position: center;'
                  + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                  + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                  + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + '); color: <?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
}';
              } else {
                ed.settings['content_style'] = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
              }
            }
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_abb434'];$_f0094b_local_vars=$_f0094b_old_vars['_abb434'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php else:?>

<script src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/js/tinymce<?php echo $this->function_var($this->setup_args(['name'=>'tinymce_version','this_tag'=>'var'],null,$this),$this)?>
/tinymce.min.js?version=<?php echo $this->component('PTTags')->hdlr_property($this->setup_args(['name'=>'tinymce_version','this_tag'=>'property'],null,$this),$this)?>
"></script>
<script>
<?php $_f0094b_old_params['_edb158']=$_f0094b_local_params;$_f0094b_old_vars['_edb158']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'request.id','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>

  <?php $_f0094b_old_params['_e1ec9e']=$_f0094b_local_params;$_f0094b_old_vars['_e1ec9e']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'user_text_format','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'user_text_format','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php elseif($this->conditional_elseif($this->setup_args(['name'=>'__format_default','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>

    <?php echo $this->modifier_setvar(paml_modifier_funcs('strtolower', $this->function_var($this->setup_args(['name'=>'__format_default','lower_case'=>'','setvar'=>'user_text_format','this_tag'=>'var'],null,$this),$this)),$this->setup_args('user_text_format','setvar',$this),$this,'setvar')?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'$user_text_format','this_tag'=>'setvar'],null,$this),$this)?>

  <?php else:?>

    <?php echo $this->function_setvar($this->setup_args(['name'=>'_object_text_format','value'=>'richtext','this_tag'=>'setvar'],null,$this),$this)?>

  <?php endif;$_f0094b_local_params=$_f0094b_old_params['_e1ec9e'];$_f0094b_local_vars=$_f0094b_old_vars['_e1ec9e'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_edb158'];$_f0094b_local_vars=$_f0094b_old_vars['_edb158'];?>

<?php $_f0094b_old_params['_34b470']=$_f0094b_local_params;$_f0094b_old_vars['_34b470']=$_f0094b_local_vars;if($this->component('PTTags')->hdlr_tablehascolumn($this->setup_args(['model'=>'$model','column'=>'text_format','this_tag'=>'tablehascolumn'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_02eff5']=$_f0094b_local_params;$_f0094b_old_vars['_02eff5']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'forward_params','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php echo $this->modifier_setvar($this->function_var($this->setup_args(['name'=>'request.text_format','setvar'=>'_object_text_format','this_tag'=>'var'],null,$this),$this),$this->setup_args('_object_text_format','setvar',$this),$this,'setvar')?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_02eff5'];$_f0094b_local_vars=$_f0094b_old_vars['_02eff5'];?>

<?php $_f0094b_old_params['_02b7dc']=$_f0094b_local_params;$_f0094b_old_vars['_02b7dc']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'_object_text_format','eq'=>'richtext','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$(function(){
    editorInit();
    editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_02b7dc'];$_f0094b_local_vars=$_f0094b_old_vars['_02b7dc'];?>

<?php else:?>

$(function(){
    editorInit();
    window.editorMode = 'richtext';
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_34b470'];$_f0094b_local_vars=$_f0094b_old_vars['_34b470'];?>

function editorInit () {
    var pressCmdKey    = false;
    var pressShiftKey  = false;
    var pressOptKey    = false;
    var pressCtrlKey   = false;
    tinymce.init({
        language : '<?php echo $this->function_var($this->setup_args(['name'=>'user_language','this_tag'=>'var'],null,$this),$this)?>
',
        selector : 'textarea.richtext',<?php $_f0094b_old_params['_e3be56']=$_f0094b_local_params;$_f0094b_old_vars['_e3be56']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','like'=>'email','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

        convert_urls: false,<?php endif;$_f0094b_local_params=$_f0094b_old_params['_e3be56'];$_f0094b_local_vars=$_f0094b_old_vars['_e3be56'];?>

        relative_urls : false,
        image_advtab: true,
        promotion: false,
        menubar: 'edit insert view format table tools',
        content_css: "<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/css/editor.css",
        onchange_callback : "editHtmlEditor",
        plugins  : 'advlist autolink lists link image charmap preview anchor searchreplace visualblocks code fullscreen insertdatetime media table code<?php $_f0094b_old_params['_17cc35']=$_f0094b_local_params;$_f0094b_old_vars['_17cc35']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','lt'=>'6','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
 print paste<?php endif;$_f0094b_local_params=$_f0094b_old_params['_17cc35'];$_f0094b_local_vars=$_f0094b_old_vars['_17cc35'];?>
',
        toolbar  : 'undo redo insert styleselect bold italic alignleft aligncenter alignright alignjustify bullist numlist outdent indent fullscreen link image pt-file pt-image',
        setup: function (ed) {
            ed.on('keyDown', function(e) {
                if ( e.keyCode == 16 ) {
                    pressShiftKey = true;
                } else if ( e.keyCode == 91 ) {
                    pressCmdKey = true;
                } else if ( e.keyCode == 18 ) {
                    pressOptKey = true;
                } else if ( e.keyCode == 17 ) {
                    pressCtrlKey = true;
                }
            });
            ed.on('keyUp', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('click', function(e) {
                pressCmdKey    = false;
                pressShiftKey  = false;
                pressOptKey    = false;
                pressCtrlKey   = false;
            });
            ed.on('paste', function(e) {
                $('.tox-tinymce').css('width', '99.9%');
                window.setTimeout( _reset_editor_width , 1 );
            });
            ed.on('change', function(e) {
                editContentChanged = true;
                ed.save();
            });
            ed.ui.registry.addButton('pt-image', {
                <?php $_f0094b_old_params['_94f49f']=$_f0094b_local_params;$_f0094b_old_vars['_94f49f']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_image.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'gallery',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_94f49f'];$_f0094b_local_vars=$_f0094b_old_vars['_94f49f'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert Image','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_00a617']=$_f0094b_local_params;$_f0094b_old_vars['_00a617']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_00a617'];$_f0094b_local_vars=$_f0094b_old_vars['_00a617'];?>
&dialog_view=1&select_system_filters=filter_class_image&_system_filters_option=image&_filter=asset&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            ed.ui.registry.addButton('pt-file', {
                <?php $_f0094b_old_params['_ca6e20']=$_f0094b_local_params;$_f0094b_old_vars['_ca6e20']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'tinymce_version','eq'=>'5','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

                text: '<img src="<?php echo $this->function_var($this->setup_args(['name'=>'prototype_path','this_tag'=>'var'],null,$this),$this)?>
assets/img/insert_file.png" alt="" style="height:18px;width:18px;margin-top:3px;">',
                <?php else:?>

                icon: 'browse',
                <?php endif;$_f0094b_local_params=$_f0094b_old_params['_ca6e20'];$_f0094b_local_vars=$_f0094b_old_vars['_ca6e20'];?>

                tooltip: '<?php echo $this->function_trans($this->setup_args(['phrase'=>'Insert File','this_tag'=>'trans'],null,$this),$this)?>
',
                onAction: function () {
                    url = '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=view&_type=list&_model=asset<?php $_f0094b_old_params['_582dd2']=$_f0094b_local_params;$_f0094b_old_vars['_582dd2']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'has_asset_workspace_id','this_tag'=>'if'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'asset_workspace_id','this_tag'=>'var'],null,$this),$this)?>
&_from_scope=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','castto'=>'int','this_tag'=>'var'],null,$this),$this)?>
<?php elseif($this->conditional_elseif($this->setup_args(['name'=>'workspace_id','this_tag'=>'elseif'],null,$this),null,$this,true,true)):?>
&workspace_id=<?php echo $this->function_var($this->setup_args(['name'=>'workspace_id','this_tag'=>'var'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_582dd2'];$_f0094b_local_vars=$_f0094b_old_vars['_582dd2'];?>
&dialog_view=1&insert_editor=1&ref_model=<?php echo $this->function_var($this->setup_args(['name'=>'_model','this_tag'=>'var'],null,$this),$this)?>
&insert=' + ed.id;
                    $('#modal').modal().find('iframe').attr( 'src', url );
                }
            });
            <?php echo $this->function_var($this->setup_args(['name'=>'editor_buttons','this_tag'=>'var'],null,$this),$this)?>

            var _reset_editor_width = function()
            {
                $('.tox-tinymce').css('width', '100%');
                $('#__loader-bg').hide();
            }
            <?php $_f0094b_old_params['_1c01aa']=$_f0094b_local_params;$_f0094b_old_vars['_1c01aa']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'model','eq'=>'widget','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

            ed.on('LoadContent',function(){
                if ( ed.id && ed.id == 'text' ) {
                    let clipboard_image = $('#clipboard-image');
                    let inline_image = $('#inline-image');
                    let bg_image_url = clipboard_image.val();
                    if ( inline_image.length ) {
                        bg_image_url = inline_image.attr('href');
                    }
                    let html_head = ed.iframeElement.contentWindow.document.getElementsByTagName('head')[0];
                    let style = document.createElement('style');
                    let content_style;
                    if ( clipboard_image.length ) {
                      <?php $_f0094b_old_params['_f62744']=$_f0094b_local_params;$_f0094b_old_vars['_f62744']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_back_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_back_color','value'=>'#ffffff','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_f62744'];$_f0094b_local_vars=$_f0094b_old_vars['_f62744'];?>

                      <?php $_f0094b_old_params['_0056a7']=$_f0094b_local_params;$_f0094b_old_vars['_0056a7']=$_f0094b_local_vars;if($this->conditional_unless($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'unless'],null,$this),null,$this,true,true)):?>
<?php echo $this->function_setvar($this->setup_args(['name'=>'__object_fore_color','value'=>'#000000','this_tag'=>'setvar'],null,$this),$this)?>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_0056a7'];$_f0094b_local_vars=$_f0094b_old_vars['_0056a7'];?>

                        var rgba = getConversionRgba('<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
');
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background-color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-size: cover; background-position: center;'
                        + 'text-shadow: 2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px 2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
,'
                        + '-2px -2px 2px <?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;'
                        + 'background-image:url("' + bg_image_url + '&rnd=' + Math.random() + '")} body *{background-color: rgba(' + rgba + ')}';
                    } else {
                        content_style = 'body {margin: 40px; font-size: 110%;color:<?php echo $this->function_var($this->setup_args(['name'=>'__object_fore_color','this_tag'=>'var'],null,$this),$this)?>
; background:<?php echo $this->function_var($this->setup_args(['name'=>'__object_back_color','this_tag'=>'var'],null,$this),$this)?>
;}';
                    }
                    style.innerHTML = content_style;
                    html_head.appendChild(style);
                }
            });
            <?php endif;$_f0094b_local_params=$_f0094b_old_params['_1c01aa'];$_f0094b_local_vars=$_f0094b_old_vars['_1c01aa'];?>

            $('#__loader-bg').hide("fast");
        }
    });
}
</script>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ed4dcf'];$_f0094b_local_vars=$_f0094b_old_vars['_ed4dcf'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_366b10'];$_f0094b_local_vars=$_f0094b_old_vars['_366b10'];?>

<script>
function disp_header_alert ( message, dialog_class ) {
    $("#header-alert-message").html( message );
    if (! dialog_class ) {
        dialog_class = 'success';
    }
    if ( dialog_class == 'success' ) {
        $("#header-alert").removeClass("alert-danger");
        $("#header-alert").removeClass("alert-warning");
        $("#header-alert").addClass("alert-success");
    } else if ( dialog_class == 'warning' ) {
        $("#header-alert").removeClass("alert-success");
        $("#header-alert").removeClass("alert-danger");
        $("#header-alert").addClass("alert-warning");
    } else {
        $("#header-alert").removeClass("alert-success");
        $("#header-alert").removeClass("alert-warning");
        $("#header-alert").addClass("alert-danger");
    }
    $("#header-alert").show();
    setTimeout(focus_header_dialog, 500);
}
function focus_header_dialog () {
    $("#header-alert").focus();
}
function escape_html (string) {
  if(typeof string !== 'string') {
    return string;
  }
  return string.replace(/[&'`"<>]/g, function(match) {
    return {
      '&': '&amp;',
      "'": '&#x27;',
      '`': '&#x60;',
      '"': '&quot;',
      '<': '&lt;',
      '>': '&gt;',
    }[match]
  });
}
function unescape_html (string) {
  var div = document.createElement("div");
  div.innerHTML = string.replace(/</g,"&lt;")
                        .replace(/>/g,"&gt;")
                        .replace(/ /g, "&nbsp;")
                        .replace(/\r/g, "&#13;")
                        .replace(/\n/g, "&#10;");
  return div.textContent || div.innerText;
}
function submit_params_to_post ( url ) {
    const url_params = url.split('?');
    const url_param = url_params[1];
    const url_path = url_params[0];
    const url_param_data = JSON.parse('{"' + url_param.replace(/&/g, '","').replace(/=/g,'":"') + '"}', function( key, value ) { return key === "" ? value:decodeURIComponent( value ) } );
    const list_asset_form = document.createElement( 'form' );
    list_asset_form.method = 'post';
    list_asset_form.action = url_path;
    for ( const key in url_param_data ) {
        if ( url_param_data.hasOwnProperty( key ) ) {
            const hiddenField = document.createElement( 'input' );
            hiddenField.type = 'hidden';
            hiddenField.name = key;
            hiddenField.value = url_param_data[ key ];
            list_asset_form.appendChild( hiddenField );
        }
    }
    document.body.appendChild( list_asset_form );
    list_asset_form.submit();
}
$(function(){
    $(document).on('click','[data-target="#modal"]',function(){
        let $this = $(this);
        let $modal = $('#modal');
        let url = '';
        if( $this.attr('href') ){
            url = $this.attr('href');
        } else if( this.href ){
            url = this.href;
        } else if( $this.data('href') ) {
            url = $this.data('href');
        } else if( $this.attr('data-href') ){
            url = $this.attr('data-href');
        }
        if( url ) {
            $modal.find('iframe').attr('src', url );
        }
    });
});
function getConversionRgba(color_code, alpha) {
    var rgba_code = [];
    rgba_code['red']   = parseInt(color_code.substring(1,3), 16);
    rgba_code['green'] = parseInt(color_code.substring(3,5), 16);
    rgba_code['blue']  = parseInt(color_code.substring(5,7), 16);
    rgba_code['alpha'] = isFinite(alpha) ? alpha : 0.4;
    return Object.values(rgba_code).join(',');
}
<?php $_f0094b_old_params['_1b04ca']=$_f0094b_local_params;$_f0094b_old_vars['_1b04ca']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','ne'=>'upgrade','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

<?php $_f0094b_old_params['_261493']=$_f0094b_local_params;$_f0094b_old_vars['_261493']=$_f0094b_local_vars;if($this->conditional_if($this->setup_args(['name'=>'request.__mode','ne'=>'loading','this_tag'=>'if'],null,$this),null,$this,true,true)):?>

$('#modal').on('hidden.bs.modal', function(event) {
    $('#modal-iframe').attr('src', '<?php echo $this->function_var($this->setup_args(['name'=>'script_uri','this_tag'=>'var'],null,$this),$this)?>
?__mode=loading' );
});
$('#modal').on('hidden.bs.modal', function(event) {
  if( window._active_ed ) {
      window._active_ed = window._active_ed.focus();
      window._active_ed = false;
  }
});
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_261493'];$_f0094b_local_vars=$_f0094b_old_vars['_261493'];?>

<?php endif;$_f0094b_local_params=$_f0094b_old_params['_1b04ca'];$_f0094b_local_vars=$_f0094b_old_vars['_1b04ca'];?>

</script>
  </div>
<?php echo $this->function_var($this->setup_args(['name'=>'html_body_footer','this_tag'=>'var'],null,$this),$this)?>

  </body>
</html>
<?php endif;$_f0094b_local_params=$_f0094b_old_params['_ad6d76'];$_f0094b_local_vars=$_f0094b_old_vars['_ad6d76'];?>




<?php $this->literal_vars=$literal_old__f0094b_?><?php $this->out=ob_get_clean();$this->meta=array (
  'template_paths' => 
  array (
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\edit.tmpl' => 1738110796,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\footer.tmpl' => 1718664344,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\dialog_footer.tmpl' => 1718664344,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\edit\\relation_attachmentfile.tmpl' => 1718664276,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\edit\\reference_attachmentfile.tmpl' => 1697132444,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\edit\\relation_asset.tmpl' => 1738110796,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\edit\\relation_any.tmpl' => 1694708530,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\header.tmpl' => 1738110796,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\dialog_header.tmpl' => 1718664276,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\richtext.tmpl' => 1718664276,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\edit_options.tmpl' => 1718664276,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\start_upload.tmpl' => 1694708530,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\list_options.tmpl' => 1718664276,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\list_filters.tmpl' => 1718664344,
    'C:\\xampp\\htdocs\\PowerCMSX\\tmpl\\include\\richtext4.tmpl' => 1718664276,
  ),
  'version' => '4.0',
  'advanced' => true,
  'time' => 1743988196,
);?>